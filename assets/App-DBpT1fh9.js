import{g as ft,a as ht,r as a,u as xt,d as jo,T as _o,b as Jt,c as Go,e as So,f as qe,s as we,h as Ye,j as n,i as mt,m as Fe,k as Yn,l as Ee,P as Xe,n as Qt,o as Xo,p as Lt,C as Zo,q as h,I as Ke,t as Oe,B as Jo,v as wo,w as Co,x as Gt,y as Qo,z as Pn,A as jn,D as mn,E as ko,F as Et,G as Cn,H as Hn,J as en,K as er,L as Io,M as Mo,N as Mt,O as Ot,Q as tn,R as To,S as Po,U as Ao,V as F,W as yt,X as G,Y as Vn,Z as tr,_ as tt,$ as at,a0 as nr,a1 as ut,a2 as Do,a3 as or,a4 as rr,a5 as ar,a6 as sr,a7 as _n,a8 as Eo,a9 as Gn,aa as Xn,ab as ir,ac as lr,ad as Zn,ae as Jn,af as cr,ag as dr,ah as ur,ai as kn,aj as gn,ak as An,al as pr}from"./index-C7hvWskH.js";import{u as fr,P as Un,S as Ro,g as Qn,f as Lo,T as bt,N as Nn,F as hr,a as $n,s as zn,D as Tt,b as Vt,c as Pt,d as Ut,e as Nt,C as Wt,M as Dn,h as No,I as En,i as mr,j as gr,k as br,l as yr,m as xn,n as Ht,r as eo,t as xr,o as vr,p as Sr,q as wr,R as Cr,A as kr,E as Ir,v as Mr,w as Tr}from"./EventsTable-nOufPxrZ.js";import{S as ot,B as De,C as to,L as Pr}from"./CheckCircle-40o3wHIf.js";import{u as Zt,s as Ar,A as Dr,C as Fn,f as $t,i as Rt,o as no,a as Rn,b as Er,m as Rr,M as Lr,c as bn,d as kt}from"./Select-DTsFbmKp.js";import{T as Qe}from"./TextField-DkBNvc7U.js";import{L as Nr,a as $r}from"./ListItemText-AwjuaLW2.js";import"./listItemIconClasses--Fv7Npdf.js";function zr(e){return ft("MuiCollapse",e)}ht("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Fr=e=>{const{orientation:t,classes:o}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return mt(r,zr,o)},Or=we("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.orientation],o.state==="entered"&&t.entered,o.state==="exited"&&!o.in&&o.collapsedSize==="0px"&&t.hidden]}})(Fe(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),Wr=we("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Br=we("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),On=a.forwardRef(function(t,o){const r=xt({props:t,name:"MuiCollapse"}),{addEndListener:i,children:l,className:c,collapsedSize:d="0px",component:s,easing:p,in:u,onEnter:M,onEntered:D,onEntering:w,onExit:E,onExited:T,onExiting:z,orientation:R="vertical",slots:_={},slotProps:b={},style:P,timeout:x=jo.standard,TransitionComponent:I=_o,...H}=r,m={...r,orientation:R,collapsedSize:d},ne=Fr(m),V=Jt(),X=Go(),v=a.useRef(null),N=a.useRef(),f=typeof d=="number"?`${d}px`:d,L=R==="horizontal",k=L?"width":"height",j=a.useRef(null),A=So(o,j),Q=re=>ae=>{if(re){const me=j.current;ae===void 0?re(me):re(me,ae)}},oe=()=>v.current?v.current[L?"clientWidth":"clientHeight"]:0,W=Q((re,ae)=>{v.current&&L&&(v.current.style.position="absolute"),re.style[k]=f,M&&M(re,ae)}),J=Q((re,ae)=>{const me=oe();v.current&&L&&(v.current.style.position="");const{duration:O,easing:ke}=Yn({style:P,timeout:x,easing:p},{mode:"enter"});if(x==="auto"){const ce=V.transitions.getAutoHeightDuration(me);re.style.transitionDuration=`${ce}ms`,N.current=ce}else re.style.transitionDuration=typeof O=="string"?O:`${O}ms`;re.style[k]=`${me}px`,re.style.transitionTimingFunction=ke,w&&w(re,ae)}),ve=Q((re,ae)=>{re.style[k]="auto",D&&D(re,ae)}),Se=Q(re=>{re.style[k]=`${oe()}px`,E&&E(re)}),U=Q(T),B=Q(re=>{const ae=oe(),{duration:me,easing:O}=Yn({style:P,timeout:x,easing:p},{mode:"exit"});if(x==="auto"){const ke=V.transitions.getAutoHeightDuration(ae);re.style.transitionDuration=`${ke}ms`,N.current=ke}else re.style.transitionDuration=typeof me=="string"?me:`${me}ms`;re.style[k]=f,re.style.transitionTimingFunction=O,z&&z(re)}),ue=re=>{x==="auto"&&X.start(N.current||0,re),i&&i(j.current,re)},be={slots:_,slotProps:b,component:s},[te,ie]=qe("root",{ref:A,className:Ye(ne.root,c),elementType:Or,externalForwardedProps:be,ownerState:m,additionalProps:{style:{[L?"minWidth":"minHeight"]:f,...P}}}),[xe,pe]=qe("wrapper",{ref:v,className:ne.wrapper,elementType:Wr,externalForwardedProps:be,ownerState:m}),[le,Ce]=qe("wrapperInner",{className:ne.wrapperInner,elementType:Br,externalForwardedProps:be,ownerState:m});return n(I,{in:u,onEnter:W,onEntered:ve,onEntering:J,onExit:Se,onExited:U,onExiting:B,addEndListener:ue,nodeRef:j,timeout:x==="auto"?null:x,...H,children:(re,{ownerState:ae,...me})=>{const O={...m,state:re};return n(te,{...ie,className:Ye(ie.className,{entered:ne.entered,exited:!u&&f==="0px"&&ne.hidden}[re]),ownerState:O,...me,children:n(xe,{...pe,ownerState:O,children:n(le,{...Ce,ownerState:O,children:l})})})}})});On&&(On.muiSupportAuto=!0);function Hr(e){return ft("MuiAppBar",e)}ht("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Vr=e=>{const{color:t,position:o,classes:r}=e,i={root:["root",`color${Ee(t)}`,`position${Ee(o)}`]};return mt(i,Hr,r)},oo=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,Ur=we(Xe,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`position${Ee(o.position)}`],t[`color${Ee(o.color)}`]]}})(Fe(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(Qt(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?oo(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?oo(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),Kr=a.forwardRef(function(t,o){const r=xt({props:t,name:"MuiAppBar"}),{className:i,color:l="primary",enableColorOnDark:c=!1,position:d="fixed",...s}=r,p={...r,color:l,position:d,enableColorOnDark:c},u=Vr(p);return n(Ur,{square:!0,component:"header",ownerState:p,elevation:4,className:Ye(u.root,i,d==="fixed"&&"mui-fixed"),ref:o,...s})});function ro({array1:e,array2:t,parser:o=r=>r}){return e&&t&&e.length===t.length&&e.every((r,i)=>o(r)===o(t[i]))}function ao(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function qr(e={}){const{ignoreAccents:t=!0,ignoreCase:o=!0,limit:r,matchFrom:i="any",stringify:l,trim:c=!1}=e;return(d,{inputValue:s,getOptionLabel:p})=>{let u=c?s.trim():s;o&&(u=u.toLowerCase()),t&&(u=ao(u));const M=u?d.filter(D=>{let w=(l||p)(D);return o&&(w=w.toLowerCase()),t&&(w=ao(w)),i==="start"?w.startsWith(u):w.includes(u)}):d;return typeof r=="number"?M.slice(0,r):M}}const Yr=qr(),jr=5,_r=e=>{var t;return e.current!==null&&((t=e.current.parentElement)==null?void 0:t.contains(document.activeElement))},Gr=[];function so(e,t,o,r){if(t||e==null||r)return"";const i=o(e);return typeof i=="string"?i:""}function Xr(e){const{unstable_isActiveElementInListbox:t=_r,unstable_classNamePrefix:o="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:l=!1,blurOnSelect:c=!1,clearOnBlur:d=!e.freeSolo,clearOnEscape:s=!1,componentName:p="useAutocomplete",defaultValue:u=e.multiple?Gr:null,disableClearable:M=!1,disableCloseOnSelect:D=!1,disabled:w,disabledItemsFocusable:E=!1,disableListWrap:T=!1,filterOptions:z=Yr,filterSelectedOptions:R=!1,freeSolo:_=!1,getOptionDisabled:b,getOptionKey:P,getOptionLabel:x=y=>y.label??y,groupBy:I,handleHomeEndKeys:H=!e.freeSolo,id:m,includeInputInList:ne=!1,inputValue:V,isOptionEqualToValue:X=(y,g)=>y===g,multiple:v=!1,onChange:N,onClose:f,onHighlightChange:L,onInputChange:k,onOpen:j,open:A,openOnFocus:Q=!1,options:oe,readOnly:W=!1,renderValue:J,selectOnFocus:ve=!e.freeSolo,value:Se}=e,U=Xo(m);let B=x;B=y=>{const g=x(y);return typeof g!="string"?String(g):g};const ue=a.useRef(!1),be=a.useRef(!0),te=a.useRef(null),ie=a.useRef(null),[xe,pe]=a.useState(null),[le,Ce]=a.useState(-1),re=i?0:-1,ae=a.useRef(re),me=a.useRef(so(u??Se,v,B)).current,[O,ke]=Zt({controlled:Se,default:u,name:p}),[ce,Ne]=Zt({controlled:V,default:me,name:p,state:"inputValue"}),[$e,je]=a.useState(!1),Re=a.useCallback((y,g,ee)=>{if(!(v?O.length<g.length:g!==null)&&!d)return;const he=so(g,v,B,J);ce!==he&&(Ne(he),k&&k(y,he,ee))},[B,ce,v,k,Ne,d,O,J]),[C,$]=Zt({controlled:A,default:!1,name:p,state:"open"}),[K,se]=a.useState(!0),fe=!v&&O!=null&&ce===B(O),S=C&&!W,q=S?z(oe.filter(y=>!(R&&(v?O:[O]).some(g=>g!==null&&X(y,g)))),{inputValue:fe&&K?"":ce,getOptionLabel:B}):[],ge=fr({filteredOptions:q,value:O,inputValue:ce});a.useEffect(()=>{const y=O!==ge.value;$e&&!y||_&&!y||Re(null,O,"reset")},[O,Re,$e,ge.value,_]);const Te=C&&q.length>0&&!W,Le=Lt(y=>{if(y===-1)te.current.focus();else{const g=J?"data-item-index":"data-tag-index";xe.querySelector(`[${g}="${y}"]`).focus()}});a.useEffect(()=>{v&&le>O.length-1&&(Ce(-1),Le(-1))},[O,v,le,Le]);function st(y,g){if(!ie.current||y<0||y>=q.length)return-1;let ee=y;for(;;){const de=ie.current.querySelector(`[data-option-index="${ee}"]`),he=E?!1:!de||de.disabled||de.getAttribute("aria-disabled")==="true";if(de&&de.hasAttribute("tabindex")&&!he)return ee;if(g==="next"?ee=(ee+1)%q.length:ee=(ee-1+q.length)%q.length,ee===y)return-1}}const et=Lt(({event:y,index:g,reason:ee})=>{if(ae.current=g,g===-1?te.current.removeAttribute("aria-activedescendant"):te.current.setAttribute("aria-activedescendant",`${U}-option-${g}`),L&&["mouse","keyboard","touch"].includes(ee)&&L(y,g===-1?null:q[g],ee),!ie.current)return;const de=ie.current.querySelector(`[role="option"].${o}-focused`);de&&(de.classList.remove(`${o}-focused`),de.classList.remove(`${o}-focusVisible`));let he=ie.current;if(ie.current.getAttribute("role")!=="listbox"&&(he=ie.current.parentElement.querySelector('[role="listbox"]')),!he)return;if(g===-1){he.scrollTop=0;return}const Ue=ie.current.querySelector(`[data-option-index="${g}"]`);if(Ue&&(Ue.classList.add(`${o}-focused`),ee==="keyboard"&&Ue.classList.add(`${o}-focusVisible`),he.scrollHeight>he.clientHeight&&ee!=="mouse"&&ee!=="touch")){const We=Ue,ct=he.clientHeight+he.scrollTop,rn=We.offsetTop+We.offsetHeight;rn>ct?he.scrollTop=rn-he.clientHeight:We.offsetTop-We.offsetHeight*(I?1.3:0)<he.scrollTop&&(he.scrollTop=We.offsetTop-We.offsetHeight*(I?1.3:0))}}),_e=Lt(({event:y,diff:g,direction:ee="next",reason:de})=>{if(!S)return;const Ue=st((()=>{const We=q.length-1;if(g==="reset")return re;if(g==="start")return 0;if(g==="end")return We;const ct=ae.current+g;return ct<0?ct===-1&&ne?-1:T&&ae.current!==-1||Math.abs(g)>1?0:We:ct>We?ct===We+1&&ne?-1:T||Math.abs(g)>1?We:0:ct})(),ee);if(et({index:Ue,reason:de,event:y}),r&&g!=="reset")if(Ue===-1)te.current.value=ce;else{const We=B(q[Ue]);te.current.value=We,We.toLowerCase().indexOf(ce.toLowerCase())===0&&ce.length>0&&te.current.setSelectionRange(ce.length,We.length)}}),vt=!ro({array1:ge.filteredOptions,array2:q,parser:B}),gt=()=>{const y=(g,ee)=>{const de=g?B(g):"",he=ee?B(ee):"";return de===he};if(ae.current!==-1&&!ro({array1:ge.filteredOptions,array2:q,parser:B})&&ge.inputValue===ce&&(v?O.length===ge.value.length&&ge.value.every((g,ee)=>B(O[ee])===B(g)):y(ge.value,O))){const g=ge.filteredOptions[ae.current];if(g)return q.findIndex(ee=>B(ee)===B(g))}return-1},it=a.useCallback(()=>{if(!S)return;const y=gt();if(y!==-1){ae.current=y;return}const g=v?O[0]:O;if(q.length===0||g==null){_e({diff:"reset"});return}if(ie.current){if(g!=null){const ee=q[ae.current];if(v&&ee&&O.findIndex(he=>X(ee,he))!==-1)return;const de=q.findIndex(he=>X(he,g));de===-1?_e({diff:"reset"}):et({index:de});return}if(ae.current>=q.length-1){et({index:q.length-1});return}et({index:ae.current})}},[q.length,v?!1:O,R,_e,et,S,ce,v]),nt=Lt(y=>{Ar(ie,y),y&&it()});a.useEffect(()=>{(vt||S)&&it()},[it,vt,S]);const Ie=y=>{C||($(!0),se(!0),j&&j(y))},Y=(y,g)=>{C&&($(!1),f&&f(y,g))},Z=(y,g,ee,de)=>{if(v){if(O.length===g.length&&O.every((he,Ue)=>he===g[Ue]))return}else if(O===g)return;N&&N(y,g,ee,de),ke(g)},Me=a.useRef(!1),Ae=(y,g,ee="selectOption",de="options")=>{let he=ee,Ue=g;if(v){Ue=Array.isArray(O)?O.slice():[];const We=Ue.findIndex(ct=>X(g,ct));We===-1?Ue.push(g):de!=="freeSolo"&&(Ue.splice(We,1),he="removeOption")}Re(y,Ue,he),Z(y,Ue,he,{option:g}),!D&&(!y||!y.ctrlKey&&!y.metaKey)&&Y(y,he),(c===!0||c==="touch"&&Me.current||c==="mouse"&&!Me.current)&&te.current.blur()};function lt(y,g){if(y===-1)return-1;let ee=y;for(;;){if(g==="next"&&ee===O.length||g==="previous"&&ee===-1)return-1;const de=J?"data-item-index":"data-tag-index",he=xe.querySelector(`[${de}="${ee}"]`);if(!he||!he.hasAttribute("tabindex")||he.disabled||he.getAttribute("aria-disabled")==="true")ee+=g==="next"?1:-1;else return ee}}const ze=(y,g)=>{if(!v)return;ce===""&&Y(y,"toggleInput");let ee=le;le===-1?ce===""&&g==="previous"&&(ee=O.length-1):(ee+=g==="next"?1:-1,ee<0&&(ee=0),ee===O.length&&(ee=-1)),ee=lt(ee,g),Ce(ee),Le(ee)},Ze=y=>{ue.current=!0,Ne(""),k&&k(y,"","clear"),Z(y,v?[]:null,"clear")},Ge=y=>g=>{if(y.onKeyDown&&y.onKeyDown(g),!g.defaultMuiPrevented&&(le!==-1&&!["ArrowLeft","ArrowRight"].includes(g.key)&&(Ce(-1),Le(-1)),g.which!==229))switch(g.key){case"Home":S&&H&&(g.preventDefault(),_e({diff:"start",direction:"next",reason:"keyboard",event:g}));break;case"End":S&&H&&(g.preventDefault(),_e({diff:"end",direction:"previous",reason:"keyboard",event:g}));break;case"PageUp":g.preventDefault(),_e({diff:-5,direction:"previous",reason:"keyboard",event:g}),Ie(g);break;case"PageDown":g.preventDefault(),_e({diff:jr,direction:"next",reason:"keyboard",event:g}),Ie(g);break;case"ArrowDown":g.preventDefault(),_e({diff:1,direction:"next",reason:"keyboard",event:g}),Ie(g);break;case"ArrowUp":g.preventDefault(),_e({diff:-1,direction:"previous",reason:"keyboard",event:g}),Ie(g);break;case"ArrowLeft":!v&&J?Le(0):ze(g,"previous");break;case"ArrowRight":!v&&J?Le(-1):ze(g,"next");break;case"Enter":if(ae.current!==-1&&S){const ee=q[ae.current],de=b?b(ee):!1;if(g.preventDefault(),de)return;Ae(g,ee,"selectOption"),r&&te.current.setSelectionRange(te.current.value.length,te.current.value.length)}else _&&ce!==""&&fe===!1&&(v&&g.preventDefault(),Ae(g,ce,"createOption","freeSolo"));break;case"Escape":S?(g.preventDefault(),g.stopPropagation(),Y(g,"escape")):s&&(ce!==""||v&&O.length>0||J)&&(g.preventDefault(),g.stopPropagation(),Ze(g));break;case"Backspace":if(v&&!W&&ce===""&&O.length>0){const ee=le===-1?O.length-1:le,de=O.slice();de.splice(ee,1),Z(g,de,"removeOption",{option:O[ee]})}!v&&J&&!W&&(ke(null),Le(-1));break;case"Delete":if(v&&!W&&ce===""&&O.length>0&&le!==-1){const ee=le,de=O.slice();de.splice(ee,1),Z(g,de,"removeOption",{option:O[ee]})}!v&&J&&!W&&(ke(null),Le(-1));break}},He=y=>{je(!0),Q&&!ue.current&&Ie(y)},At=y=>{if(t(ie)){te.current.focus();return}je(!1),be.current=!0,ue.current=!1,l&&ae.current!==-1&&S?Ae(y,q[ae.current],"blur"):l&&_&&ce!==""?Ae(y,ce,"blur","freeSolo"):d&&Re(y,O,"blur"),Y(y,"blur")},Dt=y=>{const g=y.target.value;ce!==g&&(Ne(g),se(!1),k&&k(y,g,"input")),g===""?!M&&!v&&Z(y,null,"clear"):Ie(y)},Kt=y=>{const g=Number(y.currentTarget.getAttribute("data-option-index"));ae.current!==g&&et({event:y,index:g,reason:"mouse"})},qt=y=>{et({event:y,index:Number(y.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Me.current=!0},In=y=>{const g=Number(y.currentTarget.getAttribute("data-option-index"));Ae(y,q[g],"selectOption"),Me.current=!1},Mn=y=>g=>{const ee=O.slice();ee.splice(y,1),Z(g,ee,"removeOption",{option:O[y]})},Yt=y=>{Z(y,null,"removeOption",{option:O})},Be=y=>{C?Y(y,"toggleInput"):Ie(y)},Ve=y=>{y.currentTarget.contains(y.target)&&y.target.getAttribute("id")!==U&&y.preventDefault()},St=y=>{y.currentTarget.contains(y.target)&&(te.current.focus(),ve&&be.current&&te.current.selectionEnd-te.current.selectionStart===0&&te.current.select(),be.current=!1)},Tn=y=>{!w&&(ce===""||!C)&&Be(y)};let jt=_&&ce.length>0;jt=jt||(v?O.length>0:O!==null);let on=q;return I&&(on=q.reduce((y,g,ee)=>{const de=I(g);return y.length>0&&y[y.length-1].group===de?y[y.length-1].options.push(g):y.push({key:ee,index:ee,group:de,options:[g]}),y},[])),w&&$e&&At(),{getRootProps:(y={})=>({...y,onKeyDown:Ge(y),onMouseDown:Ve,onClick:St}),getInputLabelProps:()=>({id:`${U}-label`,htmlFor:U}),getInputProps:()=>({id:U,value:ce,onBlur:At,onFocus:He,onChange:Dt,onMouseDown:Tn,"aria-activedescendant":S?"":null,"aria-autocomplete":r?"both":"list","aria-controls":Te?`${U}-listbox`:void 0,"aria-expanded":Te,autoComplete:"off",ref:te,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:w}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Ze}),getItemProps:({index:y=0}={})=>({...v&&{key:y},...J?{"data-item-index":y}:{"data-tag-index":y},tabIndex:-1,...!W&&{onDelete:v?Mn(y):Yt}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Be}),getTagProps:({index:y})=>({key:y,"data-tag-index":y,tabIndex:-1,...!W&&{onDelete:Mn(y)}}),getListboxProps:()=>({role:"listbox",id:`${U}-listbox`,"aria-labelledby":`${U}-label`,ref:nt,onMouseDown:y=>{y.preventDefault()}}),getOptionProps:({index:y,option:g})=>{const ee=(v?O:[O]).some(he=>he!=null&&X(g,he)),de=b?b(g):!1;return{key:(P==null?void 0:P(g))??B(g),tabIndex:-1,role:"option",id:`${U}-option-${y}`,onMouseMove:Kt,onClick:In,onTouchStart:qt,"data-option-index":y,"aria-disabled":de,"aria-selected":ee}},id:U,inputValue:ce,value:O,dirty:jt,expanded:S&&xe,popupOpen:S,focused:$e||le!==-1,anchorEl:xe,setAnchorEl:pe,focusedItem:le,focusedTag:le,groupedOptions:on}}function Zr(e){return ft("MuiListSubheader",e)}ht("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Jr=e=>{const{classes:t,color:o,disableGutters:r,inset:i,disableSticky:l}=e,c={root:["root",o!=="default"&&`color${Ee(o)}`,!r&&"gutters",i&&"inset",!l&&"sticky"]};return mt(c,Zr,t)},Qr=we("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.color!=="default"&&t[`color${Ee(o.color)}`],!o.disableGutters&&t.gutters,o.inset&&t.inset,!o.disableSticky&&t.sticky]}})(Fe(({theme:e})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(e.vars||e).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:72}},{props:({ownerState:t})=>!t.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}}]}))),Wn=a.forwardRef(function(t,o){const r=xt({props:t,name:"MuiListSubheader"}),{className:i,color:l="default",component:c="li",disableGutters:d=!1,disableSticky:s=!1,inset:p=!1,...u}=r,M={...r,color:l,component:c,disableGutters:d,disableSticky:s,inset:p},D=Jr(M);return n(Qr,{as:c,className:Ye(D.root,i),ref:o,ownerState:M,...u})});Wn&&(Wn.muiSkipListHighlight=!0);function ea(e){return ft("MuiAutocomplete",e)}const ye=ht("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var io,lo;const ta=e=>{const{classes:t,disablePortal:o,expanded:r,focused:i,fullWidth:l,hasClearIcon:c,hasPopupIcon:d,inputFocused:s,popupOpen:p,size:u}=e,M={root:["root",r&&"expanded",i&&"focused",l&&"fullWidth",c&&"hasClearIcon",d&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",s&&"inputFocused"],tag:["tag",`tagSize${Ee(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",p&&"popupIndicatorOpen"],popper:["popper",o&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return mt(M,ea,t)},na=we("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e,{fullWidth:r,hasClearIcon:i,hasPopupIcon:l,inputFocused:c,size:d}=o;return[{[`& .${ye.tag}`]:t.tag},{[`& .${ye.tag}`]:t[`tagSize${Ee(d)}`]},{[`& .${ye.inputRoot}`]:t.inputRoot},{[`& .${ye.input}`]:t.input},{[`& .${ye.input}`]:c&&t.inputFocused},t.root,r&&t.fullWidth,l&&t.hasPopupIcon,i&&t.hasClearIcon]}})({[`&.${ye.focused} .${ye.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${ye.clearIndicator}`]:{visibility:"visible"}},[`& .${ye.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${ye.inputRoot}`]:{[`.${ye.hasPopupIcon}&, .${ye.hasClearIcon}&`]:{paddingRight:30},[`.${ye.hasPopupIcon}.${ye.hasClearIcon}&`]:{paddingRight:56},[`& .${ye.input}`]:{width:0,minWidth:30}},[`& .${Rn.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Rn.root}.${Rt.sizeSmall}`]:{[`& .${Rn.input}`]:{padding:"2px 4px 3px 0"}},[`& .${no.root}`]:{padding:9,[`.${ye.hasPopupIcon}&, .${ye.hasClearIcon}&`]:{paddingRight:39},[`.${ye.hasPopupIcon}.${ye.hasClearIcon}&`]:{paddingRight:65},[`& .${ye.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${ye.endAdornment}`]:{right:9}},[`& .${no.root}.${Rt.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${ye.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${$t.root}`]:{paddingTop:19,paddingLeft:8,[`.${ye.hasPopupIcon}&, .${ye.hasClearIcon}&`]:{paddingRight:39},[`.${ye.hasPopupIcon}.${ye.hasClearIcon}&`]:{paddingRight:65},[`& .${$t.input}`]:{padding:"7px 4px"},[`& .${ye.endAdornment}`]:{right:9}},[`& .${$t.root}.${Rt.sizeSmall}`]:{paddingBottom:1,[`& .${$t.input}`]:{padding:"2.5px 4px"}},[`& .${Rt.hiddenLabel}`]:{paddingTop:8},[`& .${$t.root}.${Rt.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${ye.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${$t.root}.${Rt.hiddenLabel}.${Rt.sizeSmall}`]:{[`& .${ye.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${ye.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${ye.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${ye.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${ye.inputRoot}`]:{flexWrap:"wrap"}}}]}),oa=we("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),ra=we(Ke,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),aa=we(Ke,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.popupIndicator,o.popupOpen&&t.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),sa=we(Un,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${ye.option}`]:t.option},t.popper,o.disablePortal&&t.popperDisablePortal]}})(Fe(({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),ia=we(Xe,{name:"MuiAutocomplete",slot:"Paper"})(Fe(({theme:e})=>({...e.typography.body1,overflow:"auto"}))),la=we("div",{name:"MuiAutocomplete",slot:"Loading"})(Fe(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),ca=we("div",{name:"MuiAutocomplete",slot:"NoOptions"})(Fe(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),da=we("ul",{name:"MuiAutocomplete",slot:"Listbox"})(Fe(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${ye.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${ye.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${ye.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${ye.focused}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${ye.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}}}))),ua=we(Wn,{name:"MuiAutocomplete",slot:"GroupLabel"})(Fe(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),pa=we("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${ye.option}`]:{paddingLeft:24}}),fa=a.forwardRef(function(t,o){const r=xt({props:t,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:l=!1,autoSelect:c=!1,blurOnSelect:d=!1,ChipProps:s,className:p,clearIcon:u=io||(io=n(Zo,{fontSize:"small"})),clearOnBlur:M=!r.freeSolo,clearOnEscape:D=!1,clearText:w="Clear",closeText:E="Close",componentsProps:T,defaultValue:z=r.multiple?[]:null,disableClearable:R=!1,disableCloseOnSelect:_=!1,disabled:b=!1,disabledItemsFocusable:P=!1,disableListWrap:x=!1,disablePortal:I=!1,filterOptions:H,filterSelectedOptions:m=!1,forcePopupIcon:ne="auto",freeSolo:V=!1,fullWidth:X=!1,getLimitTagsText:v=Pe=>`+${Pe}`,getOptionDisabled:N,getOptionKey:f,getOptionLabel:L,isOptionEqualToValue:k,groupBy:j,handleHomeEndKeys:A=!r.freeSolo,id:Q,includeInputInList:oe=!1,inputValue:W,limitTags:J=-1,ListboxComponent:ve,ListboxProps:Se,loading:U=!1,loadingText:B="Loadingâ€¦",multiple:ue=!1,noOptionsText:be="No options",onChange:te,onClose:ie,onHighlightChange:xe,onInputChange:pe,onOpen:le,open:Ce,openOnFocus:re=!1,openText:ae="Open",options:me,PaperComponent:O,PopperComponent:ke,popupIcon:ce=lo||(lo=n(Dr,{})),readOnly:Ne=!1,renderGroup:$e,renderInput:je,renderOption:Re,renderTags:C,renderValue:$,selectOnFocus:K=!r.freeSolo,size:se="medium",slots:fe={},slotProps:S={},value:q,...ge}=r,{getRootProps:Te,getInputProps:Le,getInputLabelProps:st,getPopupIndicatorProps:et,getClearProps:_e,getItemProps:vt,getListboxProps:gt,getOptionProps:it,value:nt,dirty:Ie,expanded:Y,id:Z,popupOpen:Me,focused:Ae,focusedItem:lt,anchorEl:ze,setAnchorEl:Ze,inputValue:Ge,groupedOptions:He}=Xr({...r,componentName:"Autocomplete"}),At=!R&&!b&&Ie&&!Ne,Dt=(!V||ne===!0)&&ne!==!1,{onMouseDown:Kt}=Le(),{ref:qt,...In}=gt(),Yt=L||(Pe=>Pe.label??Pe),Be={...r,disablePortal:I,expanded:Y,focused:Ae,fullWidth:X,getOptionLabel:Yt,hasClearIcon:At,hasPopupIcon:Dt,inputFocused:lt===-1,popupOpen:Me,size:se},Ve=ta(Be),St={slots:{paper:O,popper:ke,...fe},slotProps:{chip:s,listbox:Se,...T,...S}},[Tn,jt]=qe("listbox",{elementType:da,externalForwardedProps:St,ownerState:Be,className:Ve.listbox,additionalProps:In,ref:qt}),[on,y]=qe("paper",{elementType:Xe,externalForwardedProps:St,ownerState:Be,className:Ve.paper}),[g,ee]=qe("popper",{elementType:Un,externalForwardedProps:St,ownerState:Be,className:Ve.popper,additionalProps:{disablePortal:I,style:{width:ze?ze.clientWidth:null},role:"presentation",anchorEl:ze,open:Me}});let de;const he=Pe=>({className:Ve.tag,disabled:b,...vt(Pe)});if(ue?nt.length>0&&(C?de=C(nt,he,Be):$?de=$(nt,he,Be):de=nt.map((Pe,wt)=>{const{key:Ct,..._t}=he({index:wt});return n(Fn,{label:Yt(Pe),size:se,..._t,...St.slotProps.chip},Ct)})):$&&nt!=null&&(de=$(nt,he,Be)),J>-1&&Array.isArray(de)){const Pe=de.length-J;!Ae&&Pe>0&&(de=de.splice(0,J),de.push(n("span",{className:Ve.tag,children:v(Pe)},de.length)))}const We=$e||(Pe=>h("li",{children:[n(ua,{className:Ve.groupLabel,ownerState:Be,component:"div",children:Pe.group}),n(pa,{className:Ve.groupUl,ownerState:Be,children:Pe.children})]},Pe.key)),rn=Re||((Pe,wt)=>{const{key:Ct,..._t}=Pe;return n("li",{..._t,children:Yt(wt)},Ct)}),qn=(Pe,wt)=>{const Ct=it({option:Pe,index:wt});return rn({...Ct,className:Ve.option},Pe,{selected:Ct["aria-selected"],index:wt,inputValue:Ge},Be)},an=St.slotProps.clearIndicator,sn=St.slotProps.popupIndicator;return h(a.Fragment,{children:[n(na,{ref:o,className:Ye(Ve.root,p),ownerState:Be,...Te(ge),children:je({id:Z,disabled:b,fullWidth:!0,size:se==="small"?"small":void 0,InputLabelProps:st(),InputProps:{ref:Ze,className:Ve.inputRoot,startAdornment:de,onMouseDown:Pe=>{Pe.target===Pe.currentTarget&&Kt(Pe)},...(At||Dt)&&{endAdornment:h(oa,{className:Ve.endAdornment,ownerState:Be,children:[At?n(ra,{..._e(),"aria-label":w,title:w,ownerState:Be,...an,className:Ye(Ve.clearIndicator,an==null?void 0:an.className),children:u}):null,Dt?n(aa,{...et(),disabled:b,"aria-label":Me?E:ae,title:Me?E:ae,ownerState:Be,...sn,className:Ye(Ve.popupIndicator,sn==null?void 0:sn.className),children:ce}):null]})}},inputProps:{className:Ve.input,disabled:b,readOnly:Ne,...Le()}})}),ze?n(sa,{as:g,...ee,children:h(ia,{as:on,...y,children:[U&&He.length===0?n(la,{className:Ve.loading,ownerState:Be,children:B}):null,He.length===0&&!V&&!U?n(ca,{className:Ve.noOptions,ownerState:Be,role:"presentation",onMouseDown:Pe=>{Pe.preventDefault()},children:be}):null,He.length>0?n(Tn,{as:ve,...jt,children:He.map((Pe,wt)=>j?We({key:Pe.key,group:Pe.group,children:Pe.options.map((Ct,_t)=>qn(Ct,Pe.index+_t))}):qn(Pe,wt))}):null]})}):null]})}),ha=Oe(n("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function ma(e){return ft("MuiAvatar",e)}ht("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const ga=e=>{const{classes:t,variant:o,colorDefault:r}=e;return mt({root:["root",o,r&&"colorDefault"],img:["img"],fallback:["fallback"]},ma,t)},ba=we("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],o.colorDefault&&t.colorDefault]}})(Fe(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(e.vars||e).palette.background.default,...e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.grey[400],...e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})}}}]}))),ya=we("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),xa=we(ha,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function va({crossOrigin:e,referrerPolicy:t,src:o,srcSet:r}){const[i,l]=a.useState(!1);return a.useEffect(()=>{if(!o&&!r)return;l(!1);let c=!0;const d=new Image;return d.onload=()=>{c&&l("loaded")},d.onerror=()=>{c&&l("error")},d.crossOrigin=e,d.referrerPolicy=t,d.src=o,r&&(d.srcset=r),()=>{c=!1}},[e,t,o,r]),i}const vn=a.forwardRef(function(t,o){const r=xt({props:t,name:"MuiAvatar"}),{alt:i,children:l,className:c,component:d="div",slots:s={},slotProps:p={},imgProps:u,sizes:M,src:D,srcSet:w,variant:E="circular",...T}=r;let z=null;const R={...r,component:d,variant:E},_=va({...u,...typeof p.img=="function"?p.img(R):p.img,src:D,srcSet:w}),b=D||w,P=b&&_!=="error";R.colorDefault=!P,delete R.ownerState;const x=ga(R),[I,H]=qe("root",{ref:o,className:Ye(x.root,c),elementType:ba,externalForwardedProps:{slots:s,slotProps:p,component:d,...T},ownerState:R}),[m,ne]=qe("img",{className:x.img,elementType:ya,externalForwardedProps:{slots:s,slotProps:{img:{...u,...p.img}}},additionalProps:{alt:i,src:D,srcSet:w,sizes:M},ownerState:R}),[V,X]=qe("fallback",{className:x.fallback,elementType:xa,externalForwardedProps:{slots:s,slotProps:p},shouldForwardComponentProp:!0,ownerState:R});return P?z=n(m,{...ne}):l||l===0?z=l:b&&i?z=i[0]:z=n(V,{...X}),n(I,{...H,children:z})});function Sa(e){return ft("MuiCardActions",e)}ht("MuiCardActions",["root","spacing"]);const wa=e=>{const{classes:t,disableSpacing:o}=e;return mt({root:["root",!o&&"spacing"]},Sa,t)},Ca=we("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),ka=a.forwardRef(function(t,o){const r=xt({props:t,name:"MuiCardActions"}),{disableSpacing:i=!1,className:l,...c}=r,d={...r,disableSpacing:i},s=wa(d);return n(Ca,{className:Ye(s.root,l),ownerState:d,ref:o,...c})});function Ia(e){return ft("PrivateSwitchBase",e)}ht("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Ma=e=>{const{classes:t,checked:o,disabled:r,edge:i}=e,l={root:["root",o&&"checked",r&&"disabled",i&&`edge${Ee(i)}`],input:["input"]};return mt(l,Ia,t)},Ta=we(Jo,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),Pa=we("input",{name:"MuiSwitchBase",shouldForwardProp:wo})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Aa=a.forwardRef(function(t,o){const{autoFocus:r,checked:i,checkedIcon:l,defaultChecked:c,disabled:d,disableFocusRipple:s=!1,edge:p=!1,icon:u,id:M,inputProps:D,inputRef:w,name:E,onBlur:T,onChange:z,onFocus:R,readOnly:_,required:b=!1,tabIndex:P,type:x,value:I,slots:H={},slotProps:m={},...ne}=t,[V,X]=Zt({controlled:i,default:!!c,name:"SwitchBase",state:"checked"}),v=Er(),N=U=>{R&&R(U),v&&v.onFocus&&v.onFocus(U)},f=U=>{T&&T(U),v&&v.onBlur&&v.onBlur(U)},L=U=>{if(U.nativeEvent.defaultPrevented)return;const B=U.target.checked;X(B),z&&z(U,B)};let k=d;v&&typeof k>"u"&&(k=v.disabled);const j=x==="checkbox"||x==="radio",A={...t,checked:V,disabled:k,disableFocusRipple:s,edge:p},Q=Ma(A),oe={slots:H,slotProps:{input:D,...m}},[W,J]=qe("root",{ref:o,elementType:Ta,className:Q.root,shouldForwardComponentProp:!0,externalForwardedProps:{...oe,component:"span",...ne},getSlotProps:U=>({...U,onFocus:B=>{var ue;(ue=U.onFocus)==null||ue.call(U,B),N(B)},onBlur:B=>{var ue;(ue=U.onBlur)==null||ue.call(U,B),f(B)}}),ownerState:A,additionalProps:{centerRipple:!0,focusRipple:!s,disabled:k,role:void 0,tabIndex:null}}),[ve,Se]=qe("input",{ref:w,elementType:Pa,className:Q.input,externalForwardedProps:oe,getSlotProps:U=>({...U,onChange:B=>{var ue;(ue=U.onChange)==null||ue.call(U,B),L(B)}}),ownerState:A,additionalProps:{autoFocus:r,checked:i,defaultChecked:c,disabled:k,id:j?M:void 0,name:E,readOnly:_,required:b,tabIndex:P,type:x,...x==="checkbox"&&I===void 0?{}:{value:I}}});return h(W,{...J,children:[n(ve,{...Se}),V?l:u]})});function Da(e){return ft("MuiDrawer",e)}ht("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const $o=(e,t)=>{const{ownerState:o}=e;return[t.root,(o.variant==="permanent"||o.variant==="persistent")&&t.docked,t.modal]},Ea=e=>{const{classes:t,anchor:o,variant:r}=e,i={root:["root",`anchor${Ee(o)}`],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Ee(o)}`,r!=="temporary"&&`paperAnchorDocked${Ee(o)}`]};return mt(i,Da,t)},Ra=we(Lr,{name:"MuiDrawer",slot:"Root",overridesResolver:$o})(Fe(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer}))),La=we("div",{shouldForwardProp:wo,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:$o})({flex:"0 0 auto"}),Na=we(Xe,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.paper,t[`paperAnchor${Ee(o.anchor)}`],o.variant!=="temporary"&&t[`paperAnchorDocked${Ee(o.anchor)}`]]}})(Fe(({theme:e})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:t})=>t.anchor==="left"&&t.variant!=="temporary",style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="top"&&t.variant!=="temporary",style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="right"&&t.variant!=="temporary",style:{borderLeft:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="bottom"&&t.variant!=="temporary",style:{borderTop:`1px solid ${(e.vars||e).palette.divider}`}}]}))),zo={left:"right",right:"left",top:"down",bottom:"up"};function $a(e){return["left","right"].includes(e)}function za({direction:e},t){return e==="rtl"&&$a(t)?zo[t]:t}const Fa=a.forwardRef(function(t,o){const r=xt({props:t,name:"MuiDrawer"}),i=Jt(),l=Co(),c={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:d="left",BackdropProps:s,children:p,className:u,elevation:M=16,hideBackdrop:D=!1,ModalProps:{BackdropProps:w,...E}={},onClose:T,open:z=!1,PaperProps:R={},SlideProps:_,TransitionComponent:b,transitionDuration:P=c,variant:x="temporary",slots:I={},slotProps:H={},...m}=r,ne=a.useRef(!1);a.useEffect(()=>{ne.current=!0},[]);const V=za({direction:l?"rtl":"ltr"},d),v={...r,anchor:d,elevation:M,open:z,variant:x,...m},N=Ea(v),f={slots:{transition:b,...I},slotProps:{paper:R,transition:_,...H,backdrop:Rr(H.backdrop||{...s,...w},{transitionDuration:P})}},[L,k]=qe("root",{ref:o,elementType:Ra,className:Ye(N.root,N.modal,u),shouldForwardComponentProp:!0,ownerState:v,externalForwardedProps:{...f,...m,...E},additionalProps:{open:z,onClose:T,hideBackdrop:D,slots:{backdrop:f.slots.backdrop},slotProps:{backdrop:f.slotProps.backdrop}}}),[j,A]=qe("paper",{elementType:Na,shouldForwardComponentProp:!0,className:Ye(N.paper,R.className),ownerState:v,externalForwardedProps:f,additionalProps:{elevation:x==="temporary"?M:0,square:!0,...x==="temporary"&&{role:"dialog","aria-modal":"true"}}}),[Q,oe]=qe("docked",{elementType:La,ref:o,className:Ye(N.root,N.docked,u),ownerState:v,externalForwardedProps:f,additionalProps:m}),[W,J]=qe("transition",{elementType:Ro,ownerState:v,externalForwardedProps:f,additionalProps:{in:z,direction:zo[V],timeout:P,appear:ne.current}}),ve=n(j,{...A,children:p});if(x==="permanent")return n(Q,{...oe,children:ve});const Se=n(W,{...J,children:ve});return x==="persistent"?n(Q,{...oe,children:Se}):n(L,{...k,children:Se})}),Oa={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Wa(e,t,o=(r,i)=>r===i){return e.length===t.length&&e.every((r,i)=>o(r,t[i]))}const Ba=2;function zt(e,t,o,r,i){return o===1?Math.min(e+t,i):Math.max(e-t,r)}function Fo(e,t){return e-t}function co(e,t){const{index:o}=e.reduce((r,i,l)=>{const c=Math.abs(t-i);return r===null||c<r.distance||c===r.distance?{distance:c,index:l}:r},null)??{};return o}function ln(e,t){if(t.current!==void 0&&e.changedTouches){const o=e;for(let r=0;r<o.changedTouches.length;r+=1){const i=o.changedTouches[r];if(i.identifier===t.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function Sn(e,t,o){return(e-t)*100/(o-t)}function Ha(e,t,o){return(o-t)*e+t}function Va(e){if(Math.abs(e)<1){const o=e.toExponential().split("e-"),r=o[0].split(".")[1];return(r?r.length:0)+parseInt(o[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function Ua(e,t,o){const r=Math.round((e-o)/t)*t+o;return Number(r.toFixed(Va(t)))}function uo({values:e,newValue:t,index:o}){const r=e.slice();return r[o]=t,r.sort(Fo)}function cn({sliderRef:e,activeIndex:t,setActive:o}){var i,l,c;const r=bn(e.current);(!((i=e.current)!=null&&i.contains(r.activeElement))||Number((l=r==null?void 0:r.activeElement)==null?void 0:l.getAttribute("data-index"))!==t)&&((c=e.current)==null||c.querySelector(`[type="range"][data-index="${t}"]`).focus()),o&&o(t)}function dn(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?Wa(e,t):!1}const Ka={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},qa=e=>e;let un;function po(){return un===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?un=CSS.supports("touch-action","none"):un=!0),un}function Ya(e){const{"aria-labelledby":t,defaultValue:o,disabled:r=!1,disableSwap:i=!1,isRtl:l=!1,marks:c=!1,max:d=100,min:s=0,name:p,onChange:u,onChangeCommitted:M,orientation:D="horizontal",rootRef:w,scale:E=qa,step:T=1,shiftStep:z=10,tabIndex:R,value:_}=e,b=a.useRef(void 0),[P,x]=a.useState(-1),[I,H]=a.useState(-1),[m,ne]=a.useState(!1),V=a.useRef(0),X=a.useRef(null),[v,N]=Zt({controlled:_,default:o??s,name:"Slider"}),f=u&&((C,$,K)=>{const se=C.nativeEvent||C,fe=new se.constructor(se.type,se);Object.defineProperty(fe,"target",{writable:!0,value:{value:$,name:p}}),X.current=$,u(fe,$,K)}),L=Array.isArray(v);let k=L?v.slice().sort(Fo):[v];k=k.map(C=>C==null?s:Gt(C,s,d));const j=c===!0&&T!==null?[...Array(Math.floor((d-s)/T)+1)].map((C,$)=>({value:s+T*$})):c||[],A=j.map(C=>C.value),[Q,oe]=a.useState(-1),W=a.useRef(null),J=So(w,W),ve=C=>$=>{var se;const K=Number($.currentTarget.getAttribute("data-index"));jn($.target)&&oe(K),H(K),(se=C==null?void 0:C.onFocus)==null||se.call(C,$)},Se=C=>$=>{var K;jn($.target)||oe(-1),H(-1),(K=C==null?void 0:C.onBlur)==null||K.call(C,$)},U=(C,$)=>{const K=Number(C.currentTarget.getAttribute("data-index")),se=k[K],fe=A.indexOf(se);let S=$;if(j&&T==null){const q=A[A.length-1];S>=q?S=q:S<=A[0]?S=A[0]:S=S<se?A[fe-1]:A[fe+1]}if(S=Gt(S,s,d),L){i&&(S=Gt(S,k[K-1]||-1/0,k[K+1]||1/0));const q=S;S=uo({values:k,newValue:S,index:K});let ge=K;i||(ge=S.indexOf(q)),cn({sliderRef:W,activeIndex:ge})}N(S),oe(K),f&&!dn(S,v)&&f(C,S,K),M&&M(C,X.current??S)},B=C=>$=>{var K;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes($.key)){$.preventDefault();const se=Number($.currentTarget.getAttribute("data-index")),fe=k[se];let S=null;if(T!=null){const q=$.shiftKey?z:T;switch($.key){case"ArrowUp":S=zt(fe,q,1,s,d);break;case"ArrowRight":S=zt(fe,q,l?-1:1,s,d);break;case"ArrowDown":S=zt(fe,q,-1,s,d);break;case"ArrowLeft":S=zt(fe,q,l?1:-1,s,d);break;case"PageUp":S=zt(fe,z,1,s,d);break;case"PageDown":S=zt(fe,z,-1,s,d);break;case"Home":S=s;break;case"End":S=d;break}}else if(j){const q=A[A.length-1],ge=A.indexOf(fe),Te=[l?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],Le=[l?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];Te.includes($.key)?ge===0?S=A[0]:S=A[ge-1]:Le.includes($.key)&&(ge===A.length-1?S=q:S=A[ge+1])}S!=null&&U($,S)}(K=C==null?void 0:C.onKeyDown)==null||K.call(C,$)};Qo(()=>{var C;r&&W.current.contains(document.activeElement)&&((C=document.activeElement)==null||C.blur())},[r]),r&&P!==-1&&x(-1),r&&Q!==-1&&oe(-1);const ue=C=>$=>{var K;(K=C.onChange)==null||K.call(C,$),U($,$.target.valueAsNumber)},be=a.useRef(void 0);let te=D;l&&D==="horizontal"&&(te+="-reverse");const ie=({finger:C,move:$=!1})=>{const{current:K}=W,{width:se,height:fe,bottom:S,left:q}=K.getBoundingClientRect();let ge;te.startsWith("vertical")?ge=(S-C.y)/fe:ge=(C.x-q)/se,te.includes("-reverse")&&(ge=1-ge);let Te;if(Te=Ha(ge,s,d),T)Te=Ua(Te,T,s);else{const st=co(A,Te);Te=A[st]}Te=Gt(Te,s,d);let Le=0;if(L){$?Le=be.current:Le=co(k,Te),i&&(Te=Gt(Te,k[Le-1]||-1/0,k[Le+1]||1/0));const st=Te;Te=uo({values:k,newValue:Te,index:Le}),i&&$||(Le=Te.indexOf(st),be.current=Le)}return{newValue:Te,activeIndex:Le}},xe=Lt(C=>{const $=ln(C,b);if(!$)return;if(V.current+=1,C.type==="mousemove"&&C.buttons===0){pe(C);return}const{newValue:K,activeIndex:se}=ie({finger:$,move:!0});cn({sliderRef:W,activeIndex:se,setActive:x}),N(K),!m&&V.current>Ba&&ne(!0),f&&!dn(K,v)&&f(C,K,se)}),pe=Lt(C=>{const $=ln(C,b);if(ne(!1),!$)return;const{newValue:K}=ie({finger:$,move:!0});x(-1),C.type==="touchend"&&H(-1),M&&M(C,X.current??K),b.current=void 0,Ce()}),le=Lt(C=>{if(r)return;po()||C.preventDefault();const $=C.changedTouches[0];$!=null&&(b.current=$.identifier);const K=ln(C,b);if(K!==!1){const{newValue:fe,activeIndex:S}=ie({finger:K});cn({sliderRef:W,activeIndex:S,setActive:x}),N(fe),f&&!dn(fe,v)&&f(C,fe,S)}V.current=0;const se=bn(W.current);se.addEventListener("touchmove",xe,{passive:!0}),se.addEventListener("touchend",pe,{passive:!0})}),Ce=a.useCallback(()=>{const C=bn(W.current);C.removeEventListener("mousemove",xe),C.removeEventListener("mouseup",pe),C.removeEventListener("touchmove",xe),C.removeEventListener("touchend",pe)},[pe,xe]);a.useEffect(()=>{const{current:C}=W;return C.addEventListener("touchstart",le,{passive:po()}),()=>{C.removeEventListener("touchstart",le),Ce()}},[Ce,le]),a.useEffect(()=>{r&&Ce()},[r,Ce]);const re=C=>$=>{var fe;if((fe=C.onMouseDown)==null||fe.call(C,$),r||$.defaultPrevented||$.button!==0)return;$.preventDefault();const K=ln($,b);if(K!==!1){const{newValue:S,activeIndex:q}=ie({finger:K});cn({sliderRef:W,activeIndex:q,setActive:x}),N(S),f&&!dn(S,v)&&f($,S,q)}V.current=0;const se=bn(W.current);se.addEventListener("mousemove",xe,{passive:!0}),se.addEventListener("mouseup",pe)},ae=Sn(L?k[0]:s,s,d),me=Sn(k[k.length-1],s,d)-ae,O=(C={})=>{const $=Pn(C),K={onMouseDown:re($||{})},se={...$,...K};return{...C,ref:J,...se}},ke=C=>$=>{var se;(se=C.onMouseOver)==null||se.call(C,$);const K=Number($.currentTarget.getAttribute("data-index"));H(K)},ce=C=>$=>{var K;(K=C.onMouseLeave)==null||K.call(C,$),H(-1)},Ne=(C={})=>{const $=Pn(C),K={onMouseOver:ke($||{}),onMouseLeave:ce($||{})};return{...C,...$,...K}},$e=C=>({pointerEvents:P!==-1&&P!==C?"none":void 0});let je;return D==="vertical"&&(je=l?"vertical-rl":"vertical-lr"),{active:P,axis:te,axisProps:Ka,dragging:m,focusedThumbIndex:Q,getHiddenInputProps:(C={})=>{const $=Pn(C),K={onChange:ue($||{}),onFocus:ve($||{}),onBlur:Se($||{}),onKeyDown:B($||{})},se={...$,...K};return{tabIndex:R,"aria-labelledby":t,"aria-orientation":D,"aria-valuemax":E(d),"aria-valuemin":E(s),name:p,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":e.step??void 0,disabled:r,...C,...se,style:{...Oa,direction:l?"rtl":"ltr",width:"100%",height:"100%",writingMode:je}}},getRootProps:O,getThumbProps:Ne,marks:j,open:I,range:L,rootRef:J,trackLeap:me,trackOffset:ae,values:k,getThumbStyle:$e}}const ja=e=>!e||!mn(e);function _a(e){return ft("MuiSlider",e)}const rt=ht("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Ga=e=>{const{open:t}=e;return{offset:Ye(t&&rt.valueLabelOpen),circle:rt.valueLabelCircle,label:rt.valueLabelLabel}};function Xa(e){const{children:t,className:o,value:r}=e,i=Ga(e);return t?a.cloneElement(t,{className:t.props.className},h(a.Fragment,{children:[t.props.children,n("span",{className:Ye(i.offset,o),"aria-hidden":!0,children:n("span",{className:i.circle,children:n("span",{className:i.label,children:r})})})]})):null}function fo(e){return e}const Za=we("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`color${Ee(o.color)}`],o.size!=="medium"&&t[`size${Ee(o.size)}`],o.marked&&t.marked,o.orientation==="vertical"&&t.vertical,o.track==="inverted"&&t.trackInverted,o.track===!1&&t.trackFalse]}})(Fe(({theme:e})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${rt.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${rt.dragging}`]:{[`& .${rt.thumb}, & .${rt.track}`]:{transition:"none"}},variants:[...Object.entries(e.palette).filter(Qt()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),Ja=we("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),Qa=we("span",{name:"MuiSlider",slot:"Track"})(Fe(({theme:e})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(e.palette).filter(Qt()).map(([t])=>({props:{color:t,track:"inverted"},style:{...e.vars?{backgroundColor:e.vars.palette.Slider[`${t}Track`],borderColor:e.vars.palette.Slider[`${t}Track`]}:{backgroundColor:e.lighten(e.palette[t].main,.62),borderColor:e.lighten(e.palette[t].main,.62),...e.applyStyles("dark",{backgroundColor:e.darken(e.palette[t].main,.5)}),...e.applyStyles("dark",{borderColor:e.darken(e.palette[t].main,.5)})}}}))]}))),es=we("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.thumb,t[`thumbColor${Ee(o.color)}`],o.size!=="medium"&&t[`thumbSize${Ee(o.size)}`]]}})(Fe(({theme:e})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${rt.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(e.palette).filter(Qt()).map(([t])=>({props:{color:t},style:{[`&:hover, &.${rt.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.alpha((e.vars||e).palette[t].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${rt.active}`]:{boxShadow:`0px 0px 0px 14px ${e.alpha((e.vars||e).palette[t].main,.16)}`}}}))]}))),ts=we(Xa,{name:"MuiSlider",slot:"ValueLabel"})(Fe(({theme:e})=>({zIndex:1,whiteSpace:"nowrap",...e.typography.body2,fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${rt.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${rt.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),ns=we("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>ko(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:o}=e;return[t.mark,o&&t.markActive]}})(Fe(({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),os=we("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>ko(e)&&e!=="markLabelActive"})(Fe(({theme:e})=>({...e.typography.body2,color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]}))),rs=e=>{const{disabled:t,dragging:o,marked:r,orientation:i,track:l,classes:c,color:d,size:s}=e,p={root:["root",t&&"disabled",o&&"dragging",r&&"marked",i==="vertical"&&"vertical",l==="inverted"&&"trackInverted",l===!1&&"trackFalse",d&&`color${Ee(d)}`,s&&`size${Ee(s)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",s&&`thumbSize${Ee(s)}`,d&&`thumbColor${Ee(d)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return mt(p,_a,c)},as=({children:e})=>e,ss=a.forwardRef(function(t,o){const r=xt({props:t,name:"MuiSlider"}),i=Co(),{"aria-label":l,"aria-valuetext":c,"aria-labelledby":d,component:s="span",components:p={},componentsProps:u={},color:M="primary",classes:D,className:w,disableSwap:E=!1,disabled:T=!1,getAriaLabel:z,getAriaValueText:R,marks:_=!1,max:b=100,min:P=0,name:x,onChange:I,onChangeCommitted:H,orientation:m="horizontal",shiftStep:ne=10,size:V="medium",step:X=1,scale:v=fo,slotProps:N,slots:f,tabIndex:L,track:k="normal",value:j,valueLabelDisplay:A="off",valueLabelFormat:Q=fo,...oe}=r,W={...r,isRtl:i,max:b,min:P,classes:D,disabled:T,disableSwap:E,orientation:m,marks:_,color:M,size:V,step:X,shiftStep:ne,scale:v,track:k,valueLabelDisplay:A,valueLabelFormat:Q},{axisProps:J,getRootProps:ve,getHiddenInputProps:Se,getThumbProps:U,open:B,active:ue,axis:be,focusedThumbIndex:te,range:ie,dragging:xe,marks:pe,values:le,trackOffset:Ce,trackLeap:re,getThumbStyle:ae}=Ya({...W,rootRef:o});W.marked=pe.length>0&&pe.some(Ie=>Ie.label),W.dragging=xe,W.focusedThumbIndex=te;const me=rs(W),O=(f==null?void 0:f.root)??p.Root??Za,ke=(f==null?void 0:f.rail)??p.Rail??Ja,ce=(f==null?void 0:f.track)??p.Track??Qa,Ne=(f==null?void 0:f.thumb)??p.Thumb??es,$e=(f==null?void 0:f.valueLabel)??p.ValueLabel??ts,je=(f==null?void 0:f.mark)??p.Mark??ns,Re=(f==null?void 0:f.markLabel)??p.MarkLabel??os,C=(f==null?void 0:f.input)??p.Input??"input",$=(N==null?void 0:N.root)??u.root,K=(N==null?void 0:N.rail)??u.rail,se=(N==null?void 0:N.track)??u.track,fe=(N==null?void 0:N.thumb)??u.thumb,S=(N==null?void 0:N.valueLabel)??u.valueLabel,q=(N==null?void 0:N.mark)??u.mark,ge=(N==null?void 0:N.markLabel)??u.markLabel,Te=(N==null?void 0:N.input)??u.input,Le=kt({elementType:O,getSlotProps:ve,externalSlotProps:$,externalForwardedProps:oe,additionalProps:{...ja(O)&&{as:s}},ownerState:{...W,...$==null?void 0:$.ownerState},className:[me.root,w]}),st=kt({elementType:ke,externalSlotProps:K,ownerState:W,className:me.rail}),et=kt({elementType:ce,externalSlotProps:se,additionalProps:{style:{...J[be].offset(Ce),...J[be].leap(re)}},ownerState:{...W,...se==null?void 0:se.ownerState},className:me.track}),_e=kt({elementType:Ne,getSlotProps:U,externalSlotProps:fe,ownerState:{...W,...fe==null?void 0:fe.ownerState},className:me.thumb}),vt=kt({elementType:$e,externalSlotProps:S,ownerState:{...W,...S==null?void 0:S.ownerState},className:me.valueLabel}),gt=kt({elementType:je,externalSlotProps:q,ownerState:W,className:me.mark}),it=kt({elementType:Re,externalSlotProps:ge,ownerState:W,className:me.markLabel}),nt=kt({elementType:C,getSlotProps:Se,externalSlotProps:Te,ownerState:W});return h(O,{...Le,children:[n(ke,{...st}),n(ce,{...et}),pe.filter(Ie=>Ie.value>=P&&Ie.value<=b).map((Ie,Y)=>{const Z=Sn(Ie.value,P,b),Me=J[be].offset(Z);let Ae;return k===!1?Ae=le.includes(Ie.value):Ae=k==="normal"&&(ie?Ie.value>=le[0]&&Ie.value<=le[le.length-1]:Ie.value<=le[0])||k==="inverted"&&(ie?Ie.value<=le[0]||Ie.value>=le[le.length-1]:Ie.value>=le[0]),h(a.Fragment,{children:[n(je,{"data-index":Y,...gt,...!mn(je)&&{markActive:Ae},style:{...Me,...gt.style},className:Ye(gt.className,Ae&&me.markActive)}),Ie.label!=null?n(Re,{"aria-hidden":!0,"data-index":Y,...it,...!mn(Re)&&{markLabelActive:Ae},style:{...Me,...it.style},className:Ye(me.markLabel,it.className,Ae&&me.markLabelActive),children:Ie.label}):null]},Y)}),le.map((Ie,Y)=>{const Z=Sn(Ie,P,b),Me=J[be].offset(Z),Ae=A==="off"?as:$e;return n(Ae,{...!mn(Ae)&&{valueLabelFormat:Q,valueLabelDisplay:A,value:typeof Q=="function"?Q(v(Ie),Y):Q,index:Y,open:B===Y||ue===Y||A==="on",disabled:T},...vt,children:n(Ne,{"data-index":Y,..._e,className:Ye(me.thumb,_e.className,ue===Y&&me.active,te===Y&&me.focusVisible),style:{...Me,...ae(Y),..._e.style},children:n(C,{"data-index":Y,"aria-label":z?z(Y):l,"aria-valuenow":v(Ie),"aria-labelledby":d,"aria-valuetext":R?R(v(Ie),Y):c,value:le[Y],...nt})})},Y)})]})});function is(e){return ft("MuiSwitch",e)}const Je=ht("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),ls=e=>{const{classes:t,edge:o,size:r,color:i,checked:l,disabled:c}=e,d={root:["root",o&&`edge${Ee(o)}`,`size${Ee(r)}`],switchBase:["switchBase",`color${Ee(i)}`,l&&"checked",c&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},s=mt(d,is,t);return{...t,...s}},cs=we("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.edge&&t[`edge${Ee(o.edge)}`],t[`size${Ee(o.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Je.thumb}`]:{width:16,height:16},[`& .${Je.switchBase}`]:{padding:4,[`&.${Je.checked}`]:{transform:"translateX(16px)"}}}}]}),ds=we(Aa,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.switchBase,{[`& .${Je.input}`]:t.input},o.color!=="default"&&t[`color${Ee(o.color)}`]]}})(Fe(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${Je.checked}`]:{transform:"translateX(20px)"},[`&.${Je.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${Je.checked} + .${Je.track}`]:{opacity:.5},[`&.${Je.disabled} + .${Je.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${Je.input}`]:{left:"-100%",width:"300%"}})),Fe(({theme:e})=>({"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(Qt(["light"])).map(([t])=>({props:{color:t},style:{[`&.${Je.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Je.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.55)}`}},[`&.${Je.checked} + .${Je.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),us=we("span",{name:"MuiSwitch",slot:"Track"})(Fe(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),ps=we("span",{name:"MuiSwitch",slot:"Thumb"})(Fe(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),fs=a.forwardRef(function(t,o){const r=xt({props:t,name:"MuiSwitch"}),{className:i,color:l="primary",edge:c=!1,size:d="medium",sx:s,slots:p={},slotProps:u={},...M}=r,D={...r,color:l,edge:c,size:d},w=ls(D),E={slots:p,slotProps:u},[T,z]=qe("root",{className:Ye(w.root,i),elementType:cs,externalForwardedProps:E,ownerState:D,additionalProps:{sx:s}}),[R,_]=qe("thumb",{className:w.thumb,elementType:ps,externalForwardedProps:E,ownerState:D}),b=n(R,{..._}),[P,x]=qe("track",{className:w.track,elementType:us,externalForwardedProps:E,ownerState:D});return h(T,{...z,children:[n(ds,{type:"checkbox",icon:b,checkedIcon:b,ref:o,ownerState:D,...M,classes:{...w,root:w.switchBase},slots:{...p.switchBase&&{root:p.switchBase},...p.input&&{input:p.input}},slotProps:{...u.switchBase&&{root:typeof u.switchBase=="function"?u.switchBase(D):u.switchBase},input:{role:"switch"},...u.input&&{input:typeof u.input=="function"?u.input(D):u.input}}}),n(P,{...x})]})}),hs=Oe(n("path",{d:"M17 10H7v2h10zm2-7h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V8h14zm-5-5H7v2h7z"})),ms=(e,t)=>{const o=()=>{const u=new Date;return new Date(u.toLocaleString("en-US",{timeZone:e}))},[r,i]=a.useState(o()),l=()=>{const u=r;let M=[],D=[];t.forEach(R=>{if(!R.startNY||!R.endNY)return;const[_,b]=R.startNY.split(":").map(Number),[P,x]=R.endNY.split(":").map(Number);let I=new Date(u);I.setHours(_,b,0,0);let H=new Date(u);H.setHours(P,x,0,0),H<=I&&H.setDate(H.getDate()+1),u>=I&&u<H?M.push({session:R,startDate:I,endDate:H}):(u>=I&&I.setDate(I.getDate()+1),D.push({session:R,startDate:I}))}),M.sort((R,_)=>u-R.startDate-(u-_.startDate)),D.sort((R,_)=>R.startDate-_.startDate);const w=M.length>0?M[0].session:null,E=M.length>0?Math.floor((M[0].endDate-u)/1e3):null,T=D.length>0?D[0].session:null,z=D.length>0?Math.floor((D[0].startDate-u)/1e3):null;return{activeSession:w,timeToEnd:E,nextSession:T,timeToStart:z}},{activeSession:c,timeToEnd:d,nextSession:s,timeToStart:p}=a.useMemo(()=>l(),[r,t]);return a.useEffect(()=>{const u=setInterval(()=>{i(o())},1e3);return()=>clearInterval(u)},[e]),{currentTime:r,activeSession:c,timeToEnd:d,nextSession:s,timeToStart:p}},Xt=()=>document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement,ho=()=>document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled;function Oo(e){const[t,o]=a.useState(!!Xt()),[r,i]=a.useState(ho());a.useEffect(()=>{const s=()=>o(!!Xt()),p=()=>i(ho());return document.addEventListener("fullscreenchange",s),document.addEventListener("webkitfullscreenchange",s),document.addEventListener("msfullscreenchange",s),document.addEventListener("fullscreenerror",p),document.addEventListener("webkitfullscreenerror",p),document.addEventListener("msfullscreenerror",p),()=>{document.removeEventListener("fullscreenchange",s),document.removeEventListener("webkitfullscreenchange",s),document.removeEventListener("msfullscreenchange",s),document.removeEventListener("fullscreenerror",p),document.removeEventListener("webkitfullscreenerror",p),document.removeEventListener("msfullscreenerror",p)}},[]);const l=a.useCallback(async()=>{try{const s=e&&e.current||document.documentElement;return s?Xt()?!0:s.requestFullscreen?(await s.requestFullscreen(),!0):s.webkitRequestFullscreen?(await s.webkitRequestFullscreen(),!0):s.msRequestFullscreen?(await s.msRequestFullscreen(),!0):(i(!1),!1):!1}catch{return i(!1),!1}},[e]),c=a.useCallback(async()=>{try{return Xt()?document.exitFullscreen?(await document.exitFullscreen(),!0):document.webkitExitFullscreen?(await document.webkitExitFullscreen(),!0):document.msExitFullscreen?(await document.msExitFullscreen(),!0):!1:!0}catch{return!1}},[]),d=a.useCallback(async()=>Xt()?c():l(),[c,l]);return{isFullscreen:t,canFullscreen:r,requestFullscreen:l,exitFullscreen:c,toggleFullscreen:d}}const yn=(e,t="normal")=>{const r=t==="aesthetic"?80:30,i=e/375,l=Math.round(r*i),c=Math.round(l*1.13);return{lineWidth:l,hoverLineWidth:c}},gs=(e,t,o=!1,r="normal")=>{const i=t/2,l=t/2,c=Math.min(t,t)/2-5;e.beginPath(),e.arc(i,l,c,0,Math.PI*2),e.fillStyle="#fff",e.fill(),Wo(e,i,l,c,"#333",r,o)},Wo=(e,t,o,r,i,l="normal",c=!1)=>{e.font=`${r*.085}px Roboto`,e.textAlign="center",e.textBaseline="middle",e.fillStyle=i;let d;l==="minimalistic"?d=.5:l==="aesthetic"?d=.18:d=.29;for(let s=1;s<=12;s++){const p=(s*30-90)*(Math.PI/180),u=t+Math.cos(p)*(r*d),M=o+Math.sin(p)*(r*d);e.fillText(s.toString(),u,M)}},bs=(e,t,o,r,i,l,c="normal",d={},s=null,p=!0,u=null,M=!1,D=!0)=>{const w=t/2,E=t/2,T=Math.min(t,t)/2-5;if(e.clearRect(Math.floor(w-T),Math.floor(E-T),Math.ceil(T*2),Math.ceil(T*2)),c!=="minimalistic"){const{lineWidth:R,hoverLineWidth:_}=yn(t,c);o.forEach((b,P)=>{if(!b.startNY||!b.endNY)return;const x=d[P]||{opacity:1,targetLineWidth:R},[I,H]=b.startNY.split(":").map(Number),[m,ne]=b.endNY.split(":").map(Number);let V=(I%12*60+H)/720*Math.PI*2,X=(m%12*60+ne)/720*Math.PI*2;(I>m||I===m&&H>ne)&&(X+=Math.PI*2);const v=I<12?T*.52:T*.75,N=x.targetLineWidth||(b===i?_:R);e.save(),e.globalAlpha=x.opacity||1;const L=N/2/v,k=V,j=X;if(j>k){const A=u&&b.name===u.name;let Q=null;if(A){const oe=r.getHours(),W=r.getMinutes(),J=r.getSeconds();Q=(oe%12*60+W+J/60)/720*Math.PI*2,X>Math.PI*2&&Q<X-Math.PI*2&&(Q+=Math.PI*2);const Se=k+L,U=j-L;let B,ue;if(M&&A?(B=ys(b.color,15),ue=mo(b.color,60)):(B=mo(b.color,60),ue=b.color),e.save(),e.beginPath(),e.arc(w,E,v,Se-Math.PI/2,U-Math.PI/2),e.lineWidth=N,e.strokeStyle=B,e.lineCap="round",e.stroke(),e.restore(),Q>k){const be=Math.min(Q,j),te=be-k;if(te>0){e.save();const ie=N/2,xe=L*2,pe=te/xe,le=pe<.52?.25+pe*.22/.52:1,Ce=k+L-Math.PI/2,re=w+Math.cos(Ce)*v,ae=E+Math.sin(Ce)*v,O=k-Math.PI/2+Math.PI,ke=O,ce=O+Math.PI*2*le;if(le>0&&(e.beginPath(),e.arc(re,ae,ie,ke,ce),e.fillStyle=ue,e.fill()),le>=.52){const Ne=k+L,$e=be>=j?j-L:be-L;$e>=Ne&&(e.beginPath(),e.arc(w,E,v,Ne-Math.PI/2,$e-Math.PI/2),e.lineWidth=N,e.strokeStyle=ue,e.lineCap="round",e.stroke())}e.restore()}}}else{const oe=k+L,W=j-L;e.save(),e.beginPath(),e.arc(w,E,v,oe-Math.PI/2,W-Math.PI/2),e.lineWidth=N,e.strokeStyle=b.color,e.lineCap="round",e.stroke(),e.restore()}if(p){const oe=b.name||"";if(oe){e.save();const W=Math.max(9,Math.min(N*.45,13));e.font=`${W}px Roboto`,e.fillStyle=b.color,e.textAlign="center",e.textBaseline="middle";const ve=v===T*.52?v-N/2-W*1.5:v+N/2+W*1.2,Se=(k+j)/2,U=W*.15;let B=0;for(let ie=0;ie<oe.length;ie++)B+=e.measureText(oe[ie]).width+(ie<oe.length-1?U:0);const ue=B/ve;let te=Se-ue/2;for(let ie=0;ie<oe.length;ie++){const xe=oe[ie],pe=e.measureText(xe).width,le=pe/(2*ve),Ce=te+le,re=w+Math.cos(Ce-Math.PI/2)*ve,ae=E+Math.sin(Ce-Math.PI/2)*ve;e.save(),e.translate(re,ae),e.rotate(Ce),e.fillText(xe,0,0),e.restore(),te+=(pe+U)/ve}e.restore()}}}e.restore()})}if(D){const z=r.getHours(),R=(b,P,x,I)=>{e.beginPath(),e.moveTo(w,E),e.lineTo(w+Math.cos(b-Math.PI/2)*P,E+Math.sin(b-Math.PI/2)*P),e.strokeStyle=I,e.lineWidth=x,e.lineCap="round",e.stroke()};if(s){const b=s.hour*Math.PI/180,P=s.minute*Math.PI/180,x=s.second*Math.PI/180,I=z>=12?T*.74:T*.5;R(b,I,6,l),R(P,T*.9,3,l),R(x,T*1,1,l)}else{const b=r.getMinutes(),P=r.getSeconds(),x=(z%12*30+b*.5)*Math.PI/180,I=z>=12?T*.74:T*.5;R(x,I,6,l);const H=b*6*Math.PI/180;R(H,T*.9,3,l);const m=P*6*Math.PI/180;R(m,T*1,1,l)}const _=3;e.beginPath(),e.arc(w,E,_,0,Math.PI*2),e.fillStyle=l,e.fill()}},Kn=e=>{const t=e.replace("#",""),o=parseInt(t.substring(0,2),16),r=parseInt(t.substring(2,4),16),i=parseInt(t.substring(4,6),16);return(.299*o+.587*r+.114*i)/255<.5},mo=(e,t=40)=>{const o=e.replace("#",""),r=parseInt(o.substring(0,2),16),i=parseInt(o.substring(2,4),16),l=parseInt(o.substring(4,6),16),c=Math.round(r+(255-r)*(t/100)),d=Math.round(i+(255-i)*(t/100)),s=Math.round(l+(255-l)*(t/100));return`#${c.toString(16).padStart(2,"0")}${d.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}`},ys=(e,t=40)=>{const o=e.replace("#",""),r=parseInt(o.substring(0,2),16),i=parseInt(o.substring(2,4),16),l=parseInt(o.substring(4,6),16),c=Math.round(r*(1-t/100)),d=Math.round(i*(1-t/100)),s=Math.round(l*(1-t/100));return`#${c.toString(16).padStart(2,"0")}${d.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}`},go=e=>{const t=Math.floor(e/3600).toString().padStart(2,"0"),o=Math.floor(e%3600/60).toString().padStart(2,"0"),r=Math.floor(e%60).toString().padStart(2,"0");return`${t}h:${o}m:${r}s`};function xs({size:e,time:t,sessions:o,handColor:r,clockStyle:i="normal",showSessionNamesInCanvas:l=!0,activeSession:c=null,backgroundBasedOnSession:d=!1,renderHandsInCanvas:s=!0,handAnglesRef:p=null}){const u=a.useRef(null),[M,D]=a.useState(null),[w,E]=a.useState(null),T=a.useRef(document.createElement("canvas")),z=a.useRef({}),R=a.useRef(null),_=a.useRef(null),b=a.useRef(null),P=a.useRef({hour:0,minute:0,second:0}),x=p||P;a.useEffect(()=>{o.forEach((V,X)=>{z.current[X]||(z.current[X]={lineWidth:0,opacity:0,targetLineWidth:0,targetOpacity:1},Et.to(z.current[X],{lineWidth:yn(e,i).lineWidth,opacity:1,duration:.8,delay:X*.1,ease:"power2.out"}))})},[o,e,i]),a.useEffect(()=>{const V=window.devicePixelRatio||1,X=T.current.getContext("2d");T.current.width=Math.round(e*V),T.current.height=Math.round(e*V),X.scale(V,V),gs(X,e,l,i)},[e,l,i]),a.useEffect(()=>{const{lineWidth:V,hoverLineWidth:X}=yn(e,i);o.forEach((v,N)=>{if(!z.current[N])return;const L=v===w?X:V;Et.to(z.current[N],{targetLineWidth:L,duration:.3,ease:"power2.out"})})},[w,e,o,i]),a.useEffect(()=>{const V=t.getHours(),X=t.getMinutes(),v=t.getSeconds(),N=t.getMilliseconds();let f=(v+N/1e3)*6,L=(X+v/60)*6,k=(V%12+X/60)*30;const j=x.current.second;f<j&&j-f>180&&(f+=360);const A=x.current.minute;L<A&&A-L>180&&(L+=360);const Q=x.current.hour;k<Q&&Q-k>180&&(k+=360),Et.to(x.current,{second:f,duration:.3,ease:"linear",onUpdate:()=>{x.current.second=x.current.second%360}}),Et.to(x.current,{minute:L,duration:.5,ease:"power1.out",onUpdate:()=>{x.current.minute=x.current.minute%360}}),Et.to(x.current,{hour:k,duration:.5,ease:"power1.out",onUpdate:()=>{x.current.hour=x.current.hour%360}})},[t]),a.useEffect(()=>{const V=u.current,X=V.getContext("2d"),v=window.devicePixelRatio||1;X.setTransform(1,0,0,1,0,0),V.width=Math.round(e*v),V.height=Math.round(e*v),V.style.width=`${e}px`,V.style.height=`${e}px`,X.scale(v,v);let N;const f=()=>{X.clearRect(0,0,e,e),X.drawImage(T.current,0,0,e,e),bs(X,e,o,t,w,r,i,z.current,x.current,l,c,d,s),Wo(X,e/2,e/2,e/2-5,r,i),N=requestAnimationFrame(f)};return N=requestAnimationFrame(f),()=>cancelAnimationFrame(N)},[e,o,w,r,i,l,c,d]);const I=(V,X,v)=>{const N=V.getBoundingClientRect(),f=N.width/2,L=N.height/2,k=Math.min(N.width,N.height)/2-5,j=X-f,A=v-L,Q=Math.sqrt(j*j+A*A),W=(Math.atan2(A,j)+Math.PI/2+2*Math.PI)%(2*Math.PI),{hoverLineWidth:J}=yn(e,i),ve=k*.52,Se=k*.75;if(Q>=ve-J/2&&Q<=ve+J/2)for(const U of o){const[B,ue]=U.startNY.split(":").map(Number),[be,te]=U.endNY.split(":").map(Number);if(B<12){const xe=(B%12*60+ue)/720*Math.PI*2;let pe=(be%12*60+te)/720*Math.PI*2;if(xe>pe&&(pe+=Math.PI*2),W>=xe&&W<=pe)return U}}if(Q>=Se-J/2&&Q<=Se+J/2)for(const U of o){const[B,ue]=U.startNY.split(":").map(Number),[be,te]=U.endNY.split(":").map(Number);if(B>=12){const xe=(B%12*60+ue)/720*Math.PI*2;let pe=(be%12*60+te)/720*Math.PI*2;if(xe>pe&&(pe+=Math.PI*2),W>=xe&&W<=pe)return U}}return null},H=(V,X,v)=>{b.current&&b.current.kill(),D({x:V,y:X,...v}),R.current&&(b.current=Et.fromTo(R.current,{opacity:0,scale:.8,y:-10},{opacity:1,scale:1,y:0,duration:.2,ease:"back.out(1.7)"}))},m=()=>{b.current&&b.current.kill(),R.current?b.current=Et.to(R.current,{opacity:0,scale:.8,duration:.15,ease:"power2.in",onComplete:()=>D(null)}):D(null)},ne=V=>{if(i==="minimalistic")return;const X=u.current,v=X.getBoundingClientRect(),N=V.clientX-v.left,f=V.clientY-v.top,L=I(X,N,f);L!==_.current?(_.current=L,E(L),L?H(V.clientX,V.clientY,L):m()):L&&M&&D(k=>({...k,x:V.clientX,y:V.clientY}))};return a.useEffect(()=>{const V=u.current;if(!V)return;const X=N=>{V.contains(N.target)||(_.current=null,E(null),m())},v=N=>{if(i==="minimalistic")return;const f=V.getBoundingClientRect(),L=N.touches[0],k=L.clientX-f.left,j=L.clientY-f.top,A=I(V,k,j);A?(N.preventDefault(),_.current=A,E(A),H(L.clientX,L.clientY,A)):(_.current=null,E(null),m())};return document.addEventListener("mousedown",X),document.addEventListener("touchstart",X),V.addEventListener("touchstart",v,{passive:!1}),()=>{document.removeEventListener("mousedown",X),document.removeEventListener("touchstart",X),V.removeEventListener("touchstart",v)}},[i,o,e]),h("div",{className:"canvas-container",children:[n("canvas",{ref:u,onMouseMove:ne,onMouseLeave:()=>{_.current=null,E(null),m()},style:{touchAction:"none"}}),M&&h("div",{ref:R,className:"tooltip",style:{left:M.x+10,top:M.y+10,backgroundColor:M.color,color:Kn(M.color)?"#fff":"#000"},children:[n("strong",{children:M.name}),h("div",{children:["Start: ",M.startNY]}),h("div",{children:["End: ",M.endNY]})]})]})}const wn=e=>{if(!e)return null;const t=String(e).trim().toLowerCase();return t.length?t:null},Bo=(e=[])=>{const t=new Set;return e.forEach(o=>{const r=wn(o);r&&t.add(r)}),Array.from(t)},vs=(e={})=>{const t=[e.name,e.Name,e.title,e.Title,e.eventName,e.eventTitle,e.headline,e.displayName,e.canonicalName];return Array.isArray(e.aliases)&&t.push(...e.aliases),Array.isArray(e.alias)&&t.push(...e.alias),Array.isArray(e.alternativeNames)&&t.push(...e.alternativeNames),Bo(t)},nn=(e={})=>{const o=[e.id,e.eventId,e.event_id,e.eventID,e.uid,e.uuid,e._id,e.docId].find(Boolean)||null,r=vs(e),i=r.length?r[0]:null;if(o)return{eventId:String(o),nameKeys:r,primaryNameKey:i};const l=wn(e.currency||e.Currency),c=e.time||e.date,d=c?new Date(c):null,s=d&&!Number.isNaN(d.getTime())?d.getTime():null;return{eventId:Bo([i,l,s]).join("-")||null,nameKeys:r,primaryNameKey:i}},Ss=e=>{if(!e)return null;const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?null:Mo.fromDate(t)},ws=(e,t,o)=>{if(!e)return()=>{};const r=Cn(Mt,"users",e,"favorites");return Hn(r,i=>{const l=new Map,c=new Set;i.forEach(d=>{const s=d.data()||{};l.set(d.id,s),s.nameKey&&c.add(wn(s.nameKey)),Array.isArray(s.aliasKeys)&&s.aliasKeys.forEach(p=>{const u=wn(p);u&&c.add(u)})}),t({favoritesMap:l,nameKeySet:c})},i=>{o&&o(i)})},Cs=async(e,t,o)=>{if(!e)throw new Error("User must be authenticated to manage favorites.");const{eventId:r,nameKeys:i,primaryNameKey:l}=nn(t),c=r||l;if(!c)throw new Error("Unable to determine a stable identifier for this event.");const d=en(Mt,"users",e,"favorites",String(c));if(o)return await er(d),{favorited:!1,docId:String(c)};const s=i.filter(u=>u&&u!==l),p=t.time||t.date;return await Io(d,{eventId:r||null,name:t.name||t.Name||null,nameKey:l||null,aliasKeys:s,currency:t.currency||t.Currency||null,source:t.source||t.Source||null,date:Ss(p),updatedAt:Ot(),createdAt:Ot()},{merge:!0}),{favorited:!0,docId:String(c)}},ks=(e,t=new Map,o=new Set)=>{const{eventId:r,nameKeys:i,primaryNameKey:l}=nn(e);return r&&t.has(String(r))||l&&t.has(l)?!0:(i||[]).some(c=>c&&o.has(c))},It=e=>{const{eventId:t,primaryNameKey:o}=nn(e);return t||o||null},Ho=()=>{const{user:e}=tn(),[t,o]=a.useState(new Map),[r,i]=a.useState(new Set),[l,c]=a.useState(!1),[d,s]=a.useState(null),[p,u]=a.useState(new Set);a.useEffect(()=>{if(!e){o(new Map),i(new Set),s(null),c(!1);return}c(!0);const E=ws(e.uid,({favoritesMap:T,nameKeySet:z})=>{o(T),i(z),c(!1)},T=>{s((T==null?void 0:T.message)||"Failed to load favorites"),c(!1)});return()=>E&&E()},[e]);const M=a.useCallback(E=>ks(E,t,r),[t,r]),D=a.useCallback(E=>{const T=It(E);return T?p.has(String(T)):!1},[p]),w=a.useCallback(async E=>{if(!e)return s("Sign in to save favorites."),{success:!1,requiresAuth:!0};const T=It(E);if(!T)return s("Unable to identify this event for favorites."),{success:!1,requiresAuth:!1};const z=M(E);u(x=>{const I=new Set(x);return I.add(String(T)),I});const R=t,_=r,b=nn(E),P=b.nameKeys||[];o(x=>{const I=new Map(x);return z?I.delete(String(T)):I.set(String(T),{nameKey:b.primaryNameKey||null,aliasKeys:P.filter(H=>H&&H!==b.primaryNameKey)}),I}),i(x=>{const I=new Set(x);return P.forEach(H=>{H&&(z?I.delete(H):I.add(H))}),I});try{return await Cs(e.uid,E,z),{success:!0,requiresAuth:!1}}catch(x){return s((x==null?void 0:x.message)||"Failed to update favorite"),o(R),i(_),{success:!1,requiresAuth:!1}}finally{u(x=>{const I=new Set(x);return I.delete(String(T)),I})}},[e,M,t,r]);return{favoritesLoading:l,favoritesError:d,isFavorite:M,toggleFavorite:w,isFavoritePending:D}},Is=e=>{if(!e)return null;const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?null:Mo.fromDate(t)},Vo=(e,t={})=>{if(!e)throw new Error("User must be authenticated to manage event notes.");const{eventId:o,primaryNameKey:r,nameKeys:i}=nn(t),l=It(t);if(!l)throw new Error("Unable to determine a stable identifier for this event.");return{eventRef:en(Mt,"users",e,"eventNotes",String(l)),docId:String(l),identity:{eventId:o||null,primaryNameKey:r||null,nameKeys:i||[]},eventMeta:{name:t.name||t.Name||null,currency:t.currency||t.Currency||null,source:t.source||t.Source||null,date:Is(t.time||t.date)}}},Ms=e=>It(e),Ts=(e,t,o)=>{if(!e)return()=>{};const r=Cn(Mt,"users",e,"eventNotes"),i=To(r,Po("updatedAt","desc"));return Hn(i,l=>{const c=new Map;l.forEach(d=>{const s=d.data()||{};c.set(d.id,{id:d.id,noteCount:s.noteCount||0,name:s.name||null,currency:s.currency||null,source:s.source||null,date:s.date||null,updatedAt:s.updatedAt||null,createdAt:s.createdAt||null})}),t(c)},l=>{o&&o(l)})},Ps=(e,t,o,r)=>{if(!e||!t)return()=>{};const i=Cn(Mt,"users",e,"eventNotes",String(t),"notes"),l=To(i,Po("createdAt","desc"));return Hn(l,c=>{const d=c.docs.map(s=>({id:s.id,...s.data()||{}}));o(d)},c=>{r&&r(c)})},As=async(e,t,o)=>{const r=(o||"").trim();if(!r)throw new Error("Note cannot be empty.");const{eventRef:i,docId:l,identity:c,eventMeta:d}=Vo(e,t),s=Cn(i,"notes"),p=en(s);return await Ao(Mt,async u=>{const M=await u.get(i),D=M.exists()?M.data():{},w=(D.noteCount||0)+1;u.set(i,{eventId:c.eventId||null,name:d.name,nameKey:c.primaryNameKey||null,aliasKeys:c.nameKeys||[],currency:d.currency,source:d.source,date:d.date,noteCount:w,updatedAt:Ot(),createdAt:D.createdAt||Ot()},{merge:!0}),u.set(p,{content:r,createdAt:Ot(),eventDate:d.date,source:d.source,currency:d.currency})}),{noteId:p.id,eventKey:l}},Ds=async(e,t,o)=>{if(!o)throw new Error("Note id is required.");const{eventRef:r}=Vo(e,t),i=en(r,"notes",String(o));return await Ao(Mt,async l=>{const c=await l.get(r),d=c.exists()?c.data():{},s=Math.max(0,(d.noteCount||0)-1);if(l.delete(i),s===0){l.delete(r);return}l.set(r,{noteCount:s,updatedAt:Ot()},{merge:!0})}),{noteId:o}},Uo=()=>{const{user:e}=tn(),[t,o]=a.useState(new Map),[r,i]=a.useState(new Map),[l,c]=a.useState(new Map),[d,s]=a.useState(null),p=a.useRef(null),u=a.useRef(new Map),M=a.useCallback(()=>{u.current.forEach(b=>b&&b()),u.current=new Map},[]);a.useEffect(()=>{if(M(),p.current&&(p.current(),p.current=null),!e){o(new Map),i(new Map),c(new Map),s(null);return}return p.current=Ts(e.uid,b=>{o(b)},b=>{s((b==null?void 0:b.message)||"Failed to load notes")}),()=>{M(),p.current&&(p.current(),p.current=null)}},[e,M]);const D=a.useCallback(b=>{const P=Ms(b);if(!P)return!1;const x=t.get(String(P));return!!(x&&x.noteCount>0)},[t]),w=a.useCallback(b=>{const P=It(b);return P?r.get(String(P))||[]:[]},[r]),E=a.useCallback(b=>{const P=It(b);return P?!!l.get(String(P)):!1},[l]),T=a.useCallback(b=>{const P=It(b);if(!P)return;const x=u.current.get(String(P));x&&x(),u.current.delete(String(P)),i(I=>{const H=new Map(I);return H.delete(String(P)),H}),c(I=>{const H=new Map(I);return H.delete(String(P)),H})},[]),z=a.useCallback(b=>{if(!e)return s("Sign in to add notes."),{key:null,requiresAuth:!0};const P=It(b);if(!P)return s("Unable to identify this event for notes."),{key:null,requiresAuth:!1};if(u.current.has(String(P)))return{key:String(P),requiresAuth:!1};c(I=>{const H=new Map(I);return H.set(String(P),!0),H});const x=Ps(e.uid,String(P),I=>{i(H=>{const m=new Map(H);return m.set(String(P),I),m}),c(H=>{const m=new Map(H);return m.set(String(P),!1),m})},I=>{s((I==null?void 0:I.message)||"Failed to load notes"),c(H=>{const m=new Map(H);return m.set(String(P),!1),m})});return u.current.set(String(P),x),{key:String(P),requiresAuth:!1}},[e]),R=a.useCallback(async(b,P)=>{if(!e)return s("Sign in to add notes."),{success:!1,requiresAuth:!0};try{const x=await As(e.uid,b,P);return z(b),{success:!0,requiresAuth:!1,result:x}}catch(x){return s((x==null?void 0:x.message)||"Failed to add note"),{success:!1,requiresAuth:!1}}},[e,z]),_=a.useCallback(async(b,P)=>{if(!e)return s("Sign in to remove notes."),{success:!1,requiresAuth:!0};try{return await Ds(e.uid,b,P),{success:!0,requiresAuth:!1}}catch(x){return s((x==null?void 0:x.message)||"Failed to remove note"),{success:!1,requiresAuth:!1}}},[e]);return{notesError:d,hasNotes:D,getNotesForEvent:w,isEventNotesLoading:E,ensureNotesStream:z,stopNotesStream:T,addNote:R,removeNote:_}},Ln=[{test:e=>e.includes("strong")||e.includes("high"),icon:"!!!",color:"#d32f2f",priority:4,label:"High"},{test:e=>e.includes("moderate")||e.includes("medium"),icon:"!!",color:"#f57c00",priority:3,label:"Medium"},{test:e=>e.includes("weak")||e.includes("low"),icon:"!",color:"#018786",priority:2,label:"Low"},{test:e=>e.includes("non-economic")||e==="none",icon:"~",color:"#9e9e9e",priority:1,label:"Non-Economic"},{test:()=>!0,icon:"?",color:"#666666",priority:0,label:"Unknown"}],pn=e=>{const t=(e||"").toString().toLowerCase();return Ln.find(({test:o})=>o(t))||Ln[Ln.length-1]},Es=e=>{const t=new Date,o=new Date(t.toLocaleString("en-US",{timeZone:e}));o.setHours(0,0,0,0);const r=new Date(o);return r.setHours(23,59,59,999),{start:o,end:r}},Rs=(e,t,o)=>{if(!e||!t||!o)return"";const r=new Date(e);if(Number.isNaN(r.getTime()))return"";const l=new Date(r.toLocaleString("en-US",{timeZone:t})).getTime()-o.getTime(),c=Math.abs(l),d=24*60*60*1e3,s=60*60*1e3,p=60*1e3,u=Math.floor(c/d),M=Math.floor(c%d/s),D=Math.floor(c%s/p),w=[];return u>0&&w.push(`${u}d`),(M>0||u>0)&&w.push(`${M}h`),w.push(`${D}m`),c<45*1e3?"Starting now":l>=0?`In ${w.join(" ")}`:`${w.join(" ")} ago`},Ls=e=>{const t=a.useMemo(()=>new Intl.DateTimeFormat("en-US",{timeZone:e,hour:"numeric",minute:"numeric",hour12:!1}),[e]);return o=>{var c,d;if(!o)return null;const r=t.formatToParts(o instanceof Date?o:new Date(o)),i=Number((c=r.find(s=>s.type==="hour"))==null?void 0:c.value),l=Number((d=r.find(s=>s.type==="minute"))==null?void 0:d.value);return Number.isNaN(i)||Number.isNaN(l)?null:{hour:i,minute:l}}};function Ns({size:e,timezone:t,eventFilters:o,newsSource:r,onEventClick:i,onLoadingStateChange:l}){const[c,d]=a.useState([]),[s,p]=a.useState(Date.now()),[u,M]=a.useState(null),D=a.useRef(null),{isFavorite:w}=Ho(),{hasNotes:E}=Uo(),T=a.useMemo(()=>typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,[]),z=a.useCallback(()=>{D.current&&(clearTimeout(D.current),D.current=null)},[]),R=a.useCallback(()=>{z(),M(null)},[z]),_=a.useCallback(f=>{z(),M(f),D.current=window.setTimeout(()=>{M(L=>L===f?null:L),D.current=null},3500)},[z]),b=a.useCallback((f,L)=>{var j,A;if(!f)return;const k=L||`${f.hour}-${f.minute}`;if(!T){i==null||i((j=f.events)==null?void 0:j[0]);return}if(u!==k){_(k);return}i==null||i((A=f.events)==null?void 0:A[0]),R()},[u,R,T,i,_]),P=Ls(t);a.useEffect(()=>{let f=!1;return l==null||l(!0),(async()=>{try{const{start:k,end:j}=Es(t),A=await $n(k,j,{source:r,impacts:(o==null?void 0:o.impacts)||[],eventTypes:(o==null?void 0:o.eventTypes)||[],currencies:(o==null?void 0:o.currencies)||[]});if(f)return;if(A.success){const Q=(A.data||[]).filter(oe=>oe.date||oe.dateTime||oe.Date);d(zn(Q))}else d([])}finally{f||l==null||l(!1)}})(),()=>{f=!0}},[t,r,o==null?void 0:o.impacts,o==null?void 0:o.eventTypes,o==null?void 0:o.currencies,l]);const x=a.useMemo(()=>new Date(new Date(s).toLocaleString("en-US",{timeZone:t})),[t,s]);a.useEffect(()=>{const f=setInterval(()=>p(Date.now()),6e4);return()=>clearInterval(f)},[]),a.useEffect(()=>()=>z(),[z]);const I=a.useMemo(()=>o!=null&&o.favoritesOnly?c.filter(f=>w(f)):c,[o==null?void 0:o.favoritesOnly,c,w]),H=a.useMemo(()=>{let f=null;return I.forEach(L=>{const k=L.date||L.dateTime||L.Date;if(!k)return;const A=new Date(new Date(k).toLocaleString("en-US",{timeZone:t})).getTime(),Q=x.getTime();A>Q&&(f===null||A<f)&&(f=A)}),f},[I,x,t]),m=a.useMemo(()=>{const f=new Map;return I.forEach(L=>{const k=L.date||L.dateTime||L.Date,j=P(k);if(!j)return;const{hour:A,minute:Q}=j,oe=`${A}-${Q}`,W=f.get(oe)||[];W.push(L),f.set(oe,W)}),Array.from(f.entries()).map(([L,k])=>{const j=k.reduce((ke,ce)=>{const Ne=pn(ce.impact||ce.strength||ce.Strength),$e=pn(ke.impact||ke.strength||ke.Strength);return Ne.priority>$e.priority?ce:ke},k[0]),A=k.some(ke=>w(ke)),Q=k.some(ke=>E(ke)),[oe,W]=L.split("-"),J=Number(oe),ve=Number(W),Se=pn(j.impact||j.strength||j.Strength),U=j.currency||j.Currency,B=U?Qn(U):null,ue=new Date(j.date||j.dateTime||j.Date),be=new Date(ue.toLocaleString("en-US",{timeZone:t})),te=be.getTime(),ie=x.getTime(),xe=te-ie,pe=xe<=0&&Math.abs(xe)<9*60*1e3,le=!pe&&H!==null&&te===H,Ce=new Date(x.toLocaleString("en-US",{timeZone:t})),re=be.getFullYear()*1e4+(be.getMonth()+1)*100+be.getDate(),ae=Ce.getFullYear()*1e4+(Ce.getMonth()+1)*100+Ce.getDate(),me=re>ae,O=!pe&&!me&&te<ie;return{hour:J,minute:ve,events:k,meta:Se,isNow:pe,isNext:le,currency:U,countryCode:B,isTodayPast:O,isFavoriteMarker:A,hasNoteMarker:Q}})},[I,P,H,x,E,w]);if(!e||e<=0)return null;const ne=e/2,V=e/2-5,X=V*.52,v=V*.75,N=(f,L,k)=>{const j=(f%12+L/60)*(Math.PI*2)/12-Math.PI/2,A=k?X:v,Q=ne+A*Math.cos(j),oe=ne+A*Math.sin(j);return{x:Q,y:oe}};return n(F,{className:"clock-events-overlay",sx:{position:"absolute",inset:0,pointerEvents:"none",width:e,height:e,zIndex:2},children:m.map(f=>{const L=f.hour<12,k=`${f.hour}-${f.minute}`,{x:j,y:A}=N(f.hour,f.minute,L),Q={position:"absolute",left:j,top:A,transform:"translate(-50%, -50%)",transformOrigin:"center",backgroundColor:f.isNow?"#0288d1":f.isTodayPast?"#bdbdbd":f.meta.color,color:f.isTodayPast?"#424242":"#fff",border:`2px solid ${f.isTodayPast?"#9e9e9e":yt("#000",.14)}`,boxShadow:f.isTodayPast?"none":"0 4px 12px rgba(0,0,0,0.2)",animation:f.isNow?"nowScale 1.25s ease-in-out infinite":f.isNext?"nextScale 1.25s ease-in-out infinite":"none",cursor:"pointer",userSelect:"none","@keyframes nowScale":{"0%, 100%":{transform:"translate(-50%, -50%) scale(1)"},"50%":{transform:"translate(-50%, -50%) scale(1.16)"}},"@keyframes nextScale":{"0%, 100%":{transform:"translate(-50%, -50%) scale(1)"},"50%":{transform:"translate(-50%, -50%) scale(1.08)"}}},oe=n(ot,{spacing:.5,sx:{minWidth:240},children:f.events.map(J=>{const ve=Lo(J.date||J.dateTime||J.Date,t),Se=pn(J.impact||J.strength||J.Strength),U=J.currency||J.Currency,B=U?Qn(U):null,ue=Rs(J.date||J.dateTime||J.Date,t,x);return h(F,{sx:{display:"flex",gap:1,alignItems:"flex-start"},children:[n(G,{variant:"body2",sx:{fontWeight:700,lineHeight:1.3},children:Se.icon}),h(F,{sx:{flex:1,minWidth:0},children:[n(G,{variant:"body2",sx:{fontWeight:700,lineHeight:1.3},children:J.name||J.Name}),h(G,{variant:"caption",color:"text.secondary",sx:{display:"flex",alignItems:"center",gap:.75,flexWrap:"wrap"},children:[n("span",{children:ve}),U&&h("span",{style:{display:"inline-flex",alignItems:"center",gap:4},children:[B?n("span",{className:`fi fi-${B}`,style:{display:"inline-block",width:16,height:12,borderRadius:2,boxShadow:"0 0 0 1px rgba(255,255,255,0.18)"},title:U}):null,n("span",{children:U})]}),ue?h("span",{children:["Â· ",ue]}):null,J.category||J.Category?h("span",{children:["Â· ",J.category||J.Category]}):null]})]})]},`${J.id}-${J.name||J.Name}`)})});return n(bt,{title:oe,placement:"top",arrow:!0,enterDelay:100,disableInteractive:!1,...T?{open:u===k,disableHoverListener:!0,disableFocusListener:!0,disableTouchListener:!0,onClose:R,enterTouchDelay:0,leaveTouchDelay:0}:{},componentsProps:{tooltip:{onClick:T?()=>b(f,k):void 0,sx:{bgcolor:"#111",color:"#fff",boxShadow:"0 10px 28px rgba(0,0,0,0.32)",border:"1px solid rgba(255,255,255,0.08)",maxWidth:320,p:1.25,"& .MuiTypography-root":{color:"#fff"},cursor:T?"pointer":"default"}},arrow:{sx:{color:"#111"}}},children:h(F,{className:"clock-event-marker",sx:Q,style:{pointerEvents:"auto"},onClick:()=>b(f,k),children:[f.hasNoteMarker&&n(F,{sx:{position:"absolute",top:-6,left:-6,width:18,height:18,borderRadius:"50%",bgcolor:"primary.main",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 3px 8px rgba(0,0,0,0.35)",pointerEvents:"none"},children:n(Nn,{sx:{fontSize:12,color:"#fff"}})}),f.isFavoriteMarker&&n(F,{sx:{position:"absolute",top:-6,right:-6,width:18,height:18,borderRadius:"50%",bgcolor:"error.main",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 3px 8px rgba(0,0,0,0.35)",pointerEvents:"none"},children:n(hr,{sx:{fontSize:12,color:"#fff"}})}),n(G,{component:"span",variant:"caption",sx:{fontWeight:800,fontSize:"0.75rem"},children:f.meta.icon}),f.countryCode&&!f.isTodayPast?n("span",{className:"clock-event-flag",title:f.currency,children:n("span",{className:`fi fi-${f.countryCode}`})}):null]})},k)})})}function $s({size:e,handAnglesRef:t,handColor:o,time:r}){const i=a.useRef(null),l=a.useRef(r);return a.useEffect(()=>{l.current=r},[r]),a.useEffect(()=>{const c=i.current;if(!c||!e)return;const d=window.devicePixelRatio||1,s=c.getContext("2d"),p=()=>{c.width=Math.round(e*d),c.height=Math.round(e*d),c.style.width=`${e}px`,c.style.height=`${e}px`,s.setTransform(1,0,0,1,0,0),s.scale(d,d)};let u;const M=()=>{var b,P;s.clearRect(0,0,e,e);const D=e/2,w=e/2,E=Math.min(e,e)/2-5,T=(t==null?void 0:t.current)||{hour:0,minute:0,second:0},R=(((P=(b=l.current)==null?void 0:b.getHours)==null?void 0:P.call(b))??0)>=12?E*.74:E*.5,_=(x,I,H)=>{const m=x*Math.PI/180;s.beginPath(),s.moveTo(D,w),s.lineTo(D+Math.cos(m-Math.PI/2)*I,w+Math.sin(m-Math.PI/2)*I),s.strokeStyle=o,s.lineWidth=H,s.lineCap="round",s.stroke()};_(T.hour,R,6),_(T.minute,E*.9,3),_(T.second,E*1,1),s.beginPath(),s.arc(D,w,3,0,Math.PI*2),s.fillStyle=o,s.fill(),u=requestAnimationFrame(M)};return p(),M(),()=>{cancelAnimationFrame(u)}},[e,t,o]),n("canvas",{ref:i,className:"clock-hands-overlay",style:{position:"absolute",inset:0,pointerEvents:"none",zIndex:3}})}const zs=Vn.memo(({time:e,clockSize:t,textColor:o})=>{if(!e)return null;const r=375,i=28,l=t/r,c=Math.max(16,Math.round(i*l)),d=e.getHours(),s=e.getMinutes().toString().padStart(2,"0"),p=e.getSeconds().toString().padStart(2,"0"),u=d>=12?"PM":"AM",M=d%12||12;return n(G,{className:"digital-clock",sx:{fontSize:`${c}px`,color:o,fontWeight:400,marginBottom:"10px"},children:`${M}:${s}:${p} ${u}`})}),Fs=Oe(n("circle",{cx:"12",cy:"12",r:"8"})),Os=Oe([n("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),n("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]);function Ws({activeSession:e,showTimeToEnd:t,timeToEnd:o,showTimeToStart:r,nextSession:i,timeToStart:l,clockSize:c}){const s=Math.min(Math.max(c/375,.7),1.3),p=`${.875*s}rem`,u=`${.75*s}rem`,M=12*s,D=(e==null?void 0:e.color)||"#757575",w=Kn(D)?"#fff":"#000";return n(tr,{in:!0,timeout:400,children:n(F,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",margin:"8px auto",maxWidth:"90vw"},children:n(ot,{direction:"row",spacing:1,alignItems:"center",sx:{backgroundColor:"transparent",padding:"4px 12px",transition:"all 0.3s ease"},children:e?h(tt,{children:[n(Fn,{icon:n(Fs,{sx:{fontSize:`${M}px !important`,animation:"pulse 2s ease-in-out infinite","@keyframes pulse":{"0%, 100%":{opacity:1},"50%":{opacity:.6}}}}),label:e.name,size:"small",sx:{backgroundColor:D,color:w,fontWeight:600,fontSize:p,height:"auto",padding:"4px 8px","& .MuiChip-label":{padding:"0 4px"},"& .MuiChip-icon":{marginLeft:"4px",color:w},border:"none",transition:"all 0.3s ease"}}),t&&o!=null&&h(F,{sx:{display:"flex",alignItems:"center",gap:.5,color:"text.secondary"},children:[n(Os,{sx:{fontSize:M}}),n(G,{variant:"caption",sx:{fontSize:u,fontWeight:500,fontVariantNumeric:"tabular-nums"},children:go(o)})]})]}):h(tt,{children:[n(Fn,{label:"Market Inactive",size:"small",variant:"outlined",sx:{fontSize:p,fontWeight:500,height:"auto",padding:"4px 8px",borderColor:"divider",color:"text.secondary","& .MuiChip-label":{padding:"0 4px"}}}),r&&i&&l!=null&&h(tt,{children:[n(F,{sx:{width:"1px",height:"16px",backgroundColor:"divider"}}),h(F,{sx:{display:"flex",alignItems:"center",gap:.5},children:[n(G,{variant:"caption",sx:{fontSize:u,color:"text.secondary",fontWeight:500},children:"Next:"}),n(G,{variant:"caption",sx:{fontSize:u,color:"text.primary",fontWeight:600},children:i.name}),h(G,{variant:"caption",sx:{fontSize:u,color:"text.secondary",fontWeight:500,fontVariantNumeric:"tabular-nums"},children:["in ",go(l)]})]})]})]})})})})}const Bs=Oe(n("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"})),Hs=Oe(n("path",{d:"m7 10 5 5 5-5z"})),Ko=Oe(n("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"})),Vs=Oe(n("path",{d:"M6 14c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1H7v-2c0-.55-.45-1-1-1m0-4c.55 0 1-.45 1-1V7h2c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1m11 7h-2c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1s-1 .45-1 1zM14 6c0 .55.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1V6c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1"})),Us=Oe(n("path",{d:"M6 16h2v2c0 .55.45 1 1 1s1-.45 1-1v-3c0-.55-.45-1-1-1H6c-.55 0-1 .45-1 1s.45 1 1 1m2-8H6c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1s-1 .45-1 1zm7 11c.55 0 1-.45 1-1v-2h2c.55 0 1-.45 1-1s-.45-1-1-1h-3c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1m1-11V6c0-.55-.45-1-1-1s-1 .45-1 1v3c0 .55.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1z"})),Ks=Oe(n("path",{d:"M19.5 12c0-.23-.01-.45-.03-.68l1.86-1.41c.4-.3.51-.86.26-1.3l-1.87-3.23c-.25-.44-.79-.62-1.25-.42l-2.15.91c-.37-.26-.76-.49-1.17-.68l-.29-2.31c-.06-.5-.49-.88-.99-.88h-3.73c-.51 0-.94.38-1 .88l-.29 2.31c-.41.19-.8.42-1.17.68l-2.15-.91c-.46-.2-1-.02-1.25.42L2.41 8.62c-.25.44-.14.99.26 1.3l1.86 1.41c-.02.22-.03.44-.03.67s.01.45.03.68l-1.86 1.41c-.4.3-.51.86-.26 1.3l1.87 3.23c.25.44.79.62 1.25.42l2.15-.91c.37.26.76.49 1.17.68l.29 2.31c.06.5.49.88.99.88h3.73c.5 0 .93-.38.99-.88l.29-2.31c.41-.19.8-.42 1.17-.68l2.15.91c.46.2 1 .02 1.25-.42l1.87-3.23c.25-.44.14-.99-.26-1.3l-1.86-1.41c.03-.23.04-.45.04-.68m-7.46 3.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5"})),qs=Oe(n("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m-.22-13h-.06c-.4 0-.72.32-.72.72v4.72c0 .35.18.68.49.86l4.15 2.49c.34.2.78.1.98-.24.21-.34.1-.79-.25-.99l-3.87-2.3V7.72c0-.4-.32-.72-.72-.72"})),Ys=Oe(n("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 15c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1m1-8h-2V7h2z"})),js=Oe(n("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})),_s=Oe(n("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"})),Gs=Oe(n("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"}));function pt(e){switch(e){case"auth/wrong-password":return"Incorrect password. Please try again or reset it.";case"auth/user-not-found":return"No account found with that email. Please sign up first.";case"auth/email-already-in-use":return"That email is already registered. You have been logged in.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/user-disabled":return"Your account is currently disabled. Please contact support.";case"auth/too-many-requests":return"Too many attempts. Please wait a moment and try again.";case"auth/network-request-failed":return"Network error. Please check your connection.";default:return"An unexpected error occurred. Please try again or use another method."}}function Bt(e){switch(e){case"login":return"Welcome back! You have successfully logged in.";case"signup":return"Your account was created! A verification email was sent to you.";case"verify-email":return"Weâ€™ve sent a verification email. Please check your inbox.";case"password-reset":return"Weâ€™ve sent a password reset link to your email.";case"profile-updated":return"Profile updated successfully!";case"change-password":return"A password reset email has been sent. Please check your inbox.";default:return"Success!"}}function Xs({onClose:e}){const[t,o]=a.useState(""),[r,i]=a.useState(""),[l,c]=a.useState("");return h(Tt,{open:!0,onClose:e,maxWidth:"sm",fullWidth:!0,children:[n(Vt,{children:"Forgot Password"}),h("form",{onSubmit:async s=>{s.preventDefault(),i(""),c("");try{if((await nr(ut,t)).length===0){c("No account exists with that email.");return}await Do(ut,t),i(Bt("password-reset"))}catch(p){c(pt(p.code))}},children:[h(Pt,{children:[l&&n(at,{severity:"error",sx:{mb:2},children:l}),r&&n(at,{severity:"success",sx:{mb:2},children:r}),n(Qe,{fullWidth:!0,type:"email",label:"Email",placeholder:"Enter your Email",value:t,onChange:s=>o(s.target.value),required:!0,autoFocus:!0})]}),h(Ut,{sx:{padding:"16px 24px"},children:[n(De,{onClick:e,variant:"text",color:"primary",children:"Close"}),n(De,{type:"submit",variant:"contained",color:"primary",children:"Reset Password"})]})]})]})}function Zs({onClose:e}){return h(Tt,{open:!0,onClose:e,maxWidth:"sm",fullWidth:!0,slotProps:{backdrop:{sx:{zIndex:1500}},paper:{sx:{zIndex:1501}}},children:[n(Pt,{children:n(G,{children:"Please follow the steps we sent via email to activate your account."})}),n(Ut,{children:n(De,{onClick:e,variant:"contained",color:"primary",children:"OK"})})]})}function Js({onClose:e}){const[t,o]=a.useState(!0),[r,i]=a.useState(""),[l,c]=a.useState(""),[d,s]=a.useState(""),[p,u]=a.useState(""),[M,D]=a.useState(!1),[w,E]=a.useState(!1),T=()=>{o(!t),s(""),u("")},z=async _=>{s(""),u("");let b;try{_==="google"?b=new or:_==="facebook"?b=new rr:_==="twitter"&&(b=new ar),await sr(ut,b),u(Bt("login")),setTimeout(()=>e(),1e3)}catch(P){s(pt(P.code))}},R=async _=>{_.preventDefault(),s(""),u("");try{if(t){if(!(await _n(ut,r,l)).user.emailVerified){s("Please verify your email address before logging in."),await Eo(ut);return}u(Bt("login")),setTimeout(()=>e(),1e3)}else{const b=await Gn(ut,r,l);await Xn(b.user),u(Bt("signup")),E(!0)}}catch(b){const P=b.code;if(t&&P==="auth/user-not-found")try{const x=await Gn(ut,r,l);await Xn(x.user),u("No account was found, so we created one for you."),E(!0)}catch(x){s(pt(x.code))}else if(!t&&P==="auth/email-already-in-use")try{await _n(ut,r,l),u("That email is already registered. You have been logged in."),setTimeout(()=>e(),1500)}catch(x){s(pt(x.code))}else s(pt(P))}};return M?n(Xs,{onClose:()=>D(!1)}):h(tt,{children:[h(Tt,{open:!0,onClose:e,maxWidth:"sm",fullWidth:!0,slotProps:{backdrop:{sx:{zIndex:1500}},paper:{sx:{zIndex:1501}}},PaperProps:{sx:{borderRadius:2,p:2}},children:[n(Vt,{sx:{textAlign:"center",pb:1},children:t?"Login to access all Proâ˜… Features":"Create a free account to access all Proâ˜… Features"}),n(Pt,{children:h(F,{component:"form",onSubmit:R,sx:{mt:2},children:[h(ot,{spacing:1.5,sx:{mb:3},children:[n(De,{variant:"contained",fullWidth:!0,startIcon:n(js,{}),onClick:()=>z("google"),sx:{backgroundColor:"#DB4437","&:hover":{backgroundColor:"#C33D2E"},textTransform:"none"},children:"Login with Google"}),n(De,{variant:"contained",fullWidth:!0,startIcon:n(_s,{}),onClick:()=>z("facebook"),sx:{backgroundColor:"#4267B2","&:hover":{backgroundColor:"#365899"},textTransform:"none"},children:"Login with Facebook"}),n(De,{variant:"contained",fullWidth:!0,startIcon:n(Gs,{}),onClick:()=>z("twitter"),sx:{backgroundColor:"#000000","&:hover":{backgroundColor:"#333333"},textTransform:"none"},children:"Login with X"})]}),n(Nt,{sx:{my:3},children:n(G,{variant:"body2",color:"text.secondary",children:"or"})}),h(ot,{spacing:2,children:[n(Qe,{type:"email",label:"Email",required:!0,fullWidth:!0,value:r,onChange:_=>i(_.target.value),autoComplete:"email"}),n(Qe,{type:"password",label:"Password",required:!0,fullWidth:!0,value:l,onChange:_=>c(_.target.value),autoComplete:t?"current-password":"new-password"}),d&&n(at,{severity:"error",onClose:()=>s(""),children:d}),p&&n(at,{severity:"success",onClose:()=>u(""),children:p}),n(De,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,size:"large",sx:{mt:2},children:t?"Login":"Create free account"})]})]})}),n(Ut,{sx:{flexDirection:"column",gap:1,p:2,pt:0},children:h(F,{sx:{display:"flex",justifyContent:"space-between",width:"100%"},children:[n(De,{onClick:T,sx:{textTransform:"none"},children:t?"Sign up":"Login"}),n(De,{onClick:()=>D(!0),sx:{textTransform:"none"},children:"Forgot password?"})]})})]}),w&&n(Zs,{onClose:()=>{E(!1),e()}})]})}const Qs=Oe([n("circle",{cx:"12",cy:"12",r:"3.2"},"0"),n("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")]);function Bn({open:e=!1,onClose:t,onConfirm:o,title:r="Please Confirm",message:i,confirmText:l="Confirm",cancelText:c="Cancel",requirePassword:d=!1,password:s=null}){const[p,u]=a.useState(""),[M,D]=a.useState(!1),w=()=>{d&&s?p===s?(D(!1),u(""),o()):D(!0):o()},E=()=>{u(""),D(!1),t()};return h(Tt,{open:e,onClose:E,maxWidth:"sm",fullWidth:!0,children:[n(Vt,{sx:{textAlign:"center"},children:r}),h(Pt,{children:[typeof i=="string"?n(G,{sx:{textAlign:"center"},children:i}):i,d&&s&&n(F,{sx:{mt:3},children:n(Qe,{fullWidth:!0,type:"password",label:"Enter Password to Confirm",value:p,onChange:z=>{u(z.target.value),D(!1)},onKeyPress:z=>{z.key==="Enter"&&w()},error:M,helperText:M?"Incorrect password":"",autoFocus:!0,sx:{mt:1}})})]}),h(Ut,{sx:{justifyContent:"space-around",padding:"16px 24px"},children:[n(De,{onClick:w,variant:"contained",color:"primary",children:l}),n(De,{onClick:E,variant:"outlined",color:"primary",children:c})]})]})}function ei({onClose:e,user:t,resetSettings:o}){const[r,i]=a.useState(t.displayName||""),[l,c]=a.useState(t.photoURL||""),[d,s]=a.useState(""),[p,u]=a.useState(""),[M,D]=a.useState(!1),[w,E]=a.useState(!1),T=a.useRef(null);a.useEffect(()=>{i(t.displayName||""),c(t.photoURL||"")},[t]);const z=async()=>{s(""),u("");try{await ir(t,{displayName:r,photoURL:l}),await Io(en(Mt,"users",t.uid),{displayName:r,photoURL:l,updatedAt:new Date},{merge:!0}),s(Bt("profile-updated")),setTimeout(()=>e(),1e3)}catch(I){u(pt(I.code)||I.message)}},R=async()=>{if(window.confirm("Are you sure you want to delete your account? This action cannot be undone."))try{await lr(t),e()}catch(I){u(pt(I.code)||I.message)}},_=async I=>{u(""),s("");const H=I.target.files[0];if(H)try{const m=Zn(Jn,`profilePictures/${t.uid}`);await cr(m,H);const ne=await dr(m);c(ne),s("Photo uploaded. Click Save to apply.")}catch(m){u(pt(m.code)||m.message)}},b=async()=>{u(""),s("");try{const I=Zn(Jn,`profilePictures/${t.uid}`);await ur(I),c(""),s("Image deleted. Click Save to apply.")}catch(I){I.code==="storage/object-not-found"?(c(""),s("Image deleted. Click Save to apply.")):u(pt(I.code)||I.message)}},P=()=>{E(!0)},x=async()=>{E(!1);try{await Do(ut,t.email),s(Bt("change-password"))}catch(I){u(pt(I.code))}};return h(tt,{children:[h(Tt,{open:!0,onClose:e,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2,p:2}},children:[n(Vt,{children:"Account Information"}),n(Pt,{children:h(ot,{spacing:3,sx:{mt:2},children:[h(F,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2},children:[h(F,{sx:{position:"relative"},children:[l?n(vn,{src:l,alt:"Profile",sx:{width:100,height:100},imgProps:{referrerPolicy:"no-referrer",crossOrigin:"anonymous"}}):n(vn,{sx:{width:100,height:100,bgcolor:"primary.main"},children:n(Ko,{sx:{fontSize:80}})}),n(Ke,{sx:{position:"absolute",bottom:-5,right:-5,backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"}},size:"small",onClick:()=>T.current.click(),children:n(Qs,{fontSize:"small"})})]}),n("input",{ref:T,type:"file",accept:"image/*",onChange:_,style:{display:"none"}}),h(F,{sx:{display:"flex",gap:2},children:[n(De,{size:"small",onClick:()=>T.current.click(),sx:{textTransform:"none"},children:l?"Replace":"Add image"}),l&&n(De,{size:"small",color:"error",onClick:b,sx:{textTransform:"none"},children:"Delete"})]})]}),h(F,{children:[n(G,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Email"}),n(G,{variant:"body1",children:t.email})]}),n(Qe,{label:"Name",fullWidth:!0,value:r,onChange:I=>i(I.target.value)}),n(De,{variant:"outlined",onClick:P,sx:{textTransform:"none"},children:"Change Password"}),p&&n(at,{severity:"error",onClose:()=>u(""),children:p}),d&&n(at,{severity:"success",onClose:()=>s(""),children:d}),h(F,{children:[n(De,{onClick:()=>D(!M),sx:{textTransform:"none",color:"text.secondary"},children:M?"Hide":"More Account Settings"}),n(On,{in:M,children:n(F,{sx:{mt:2},children:n(De,{variant:"outlined",color:"error",fullWidth:!0,onClick:R,sx:{textTransform:"none"},children:"Delete Account"})})})]})]})}),h(Ut,{sx:{p:2,pt:0},children:[n(De,{onClick:e,sx:{textTransform:"none"},children:"Cancel"}),n(De,{onClick:z,variant:"contained",color:"primary",sx:{textTransform:"none"},children:"Save"})]})]}),w&&n(Bn,{message:`Send a password reset email to ${t.email}?`,onConfirm:x,onCancel:()=>E(!1)})]})}function qo({onClose:e,onSignUp:t}){return h(Tt,{open:!0,onClose:e,maxWidth:"sm",fullWidth:!0,slotProps:{backdrop:{sx:{zIndex:1500}},paper:{sx:{zIndex:1501}}},children:[n(Vt,{sx:{textAlign:"center"},children:"Unlock Proâ˜… Features for free: $0"}),n(Pt,{children:n(G,{sx:{textAlign:"center",mb:2},children:"Create a free account to unlock full access to the pro features, including changing timezones and accessing premium settings."})}),h(Ut,{sx:{flexDirection:"column",gap:1,padding:"16px 24px"},children:[n(De,{onClick:t,variant:"contained",color:"primary",fullWidth:!0,children:"Create Free Account"}),n(De,{onClick:e,variant:"text",color:"primary",children:"Close"})]})]})}const Ft=({checked:e,onChange:t})=>n(fs,{checked:e,onChange:t,color:"primary"}),Yo=Vn.forwardRef(({searchQuery:e,onSearchChange:t,searchInputRef:o,mainInputRef:r,children:i,placement:l="bottom-start",...c},d)=>n(Un,{...c,ref:d,placement:l,modifiers:[{name:"offset",options:{offset:[0,6]}},{name:"flip",enabled:!0},{name:"preventOverflow",options:{padding:8}}],children:h(F,{sx:{boxShadow:3,borderRadius:1.5,bgcolor:"background.paper",width:360,maxWidth:"90vw"},children:[n(F,{sx:{p:1.5,borderBottom:1,borderColor:"divider"},children:n(Qe,{value:e,onChange:s=>t(s.target.value),onKeyDown:s=>{if(s.key===" "){s.preventDefault(),t(p=>`${p}_`);return}if(s.key==="Enter"){if(s.preventDefault(),r!=null&&r.current){const p=new KeyboardEvent("keydown",{key:"Enter",code:"Enter",keyCode:13,which:13,bubbles:!0});r.current.dispatchEvent(p)}return}if((s.key==="ArrowDown"||s.key==="ArrowUp")&&(s.preventDefault(),r!=null&&r.current)){const p=new KeyboardEvent("keydown",{key:s.key,code:s.key,bubbles:!0});r.current.dispatchEvent(p)}},size:"small",fullWidth:!0,placeholder:"Search timezones",autoFocus:!0,inputRef:o,inputProps:{"aria-label":"Search timezones"}})}),i]})}));Yo.displayName="SearchablePopper";function ti({textColor:e="inherit",onRequestSignUp:t}){const{user:o}=tn(),{selectedTimezone:r,updateSelectedTimezone:i}=kn(),[l,c]=a.useState(!1),[d,s]=a.useState([]),[p,u]=a.useState(!0),[M,D]=a.useState(""),[w,E]=a.useState(!1),T=a.useRef(null),z=a.useRef(null),R=a.useRef(null),_=a.useRef(null);a.useEffect(()=>{let m=!0;return(async()=>{u(!0);try{const V=new Date,X=Intl.supportedValuesOf?Intl.supportedValuesOf("timeZone"):[],v=f=>{if(!f)return 0;const L=f.startsWith("-")?-1:1,k=f.replace(/^[-+]/,""),[j,A]=k.split(":").map(Number);return L*((j||0)*60+(A||0))},N=X.map(f=>{const L=f.replace(/_/g," ");let k="";try{const Q=new Intl.DateTimeFormat("en-US",{timeZone:f,timeZoneName:"shortOffset"}).formatToParts(V).find(oe=>oe.type==="timeZoneName");k=Q?Q.value.replace(/UTC|GMT/,"").trim():""}catch{k=""}return{timezone:f,offset:k,sortKey:v(k),label:`(UTC${k||""}) ${L}`}});N.sort((f,L)=>f.sortKey-L.sortKey||f.timezone.localeCompare(L.timezone)),m&&s(N)}finally{m&&u(!1)}})(),()=>{m=!1}},[]);const b=a.useCallback(m=>{if(!M)return m;const ne=M.toLowerCase();return m.filter(V=>V.label.toLowerCase().includes(ne)||V.timezone.toLowerCase().includes(ne))},[M]),P=a.useMemo(()=>d.find(m=>m.timezone===r)||null,[d,r]),x=(m,ne)=>{if(!o){c(!0);return}ne&&i(ne.timezone),E(!1)},I=()=>{D(""),E(!0)},H=(m,ne)=>{(ne==="selectOption"||ne==="escape")&&E(!1)};return a.useEffect(()=>{if(!w)return;const m=ne=>{const V=ne.target;z.current&&z.current.contains(V)||T.current&&T.current.contains(V)||E(!1)};return document.addEventListener("mousedown",m),document.addEventListener("touchstart",m),()=>{document.removeEventListener("mousedown",m),document.removeEventListener("touchstart",m)}},[w]),a.useEffect(()=>{if(!w)return;const m=requestAnimationFrame(()=>{R.current&&(R.current.focus(),R.current.select&&R.current.select())}),ne=setTimeout(()=>{R.current&&(R.current.focus(),R.current.select&&R.current.select())},60);return()=>{cancelAnimationFrame(m),clearTimeout(ne)}},[w]),h(tt,{children:[h(Xe,{elevation:0,sx:{border:1,borderColor:"divider",borderRadius:3,overflow:"hidden"},children:[h(F,{sx:{px:1.75,py:1.5,borderBottom:1,borderColor:"divider"},children:[n(G,{variant:"subtitle2",sx:{fontWeight:700},children:"Timezone"}),n(G,{variant:"caption",color:"text.secondary",children:"Switch sessions to your local time instantly."})]}),n(F,{sx:{p:{xs:1.25,sm:1.5}},ref:z,children:n(fa,{value:P,onChange:x,open:w,onOpen:I,onClose:H,openOnFocus:!0,options:d,filterOptions:b,getOptionLabel:m=>typeof m=="string"?m:m.label,isOptionEqualToValue:(m,ne)=>!m||!ne?!1:m.timezone===(ne.timezone||ne),size:"small",disableClearable:!0,clearOnBlur:!1,freeSolo:!1,loading:p,popupIcon:null,slots:{popper:Yo},slotProps:{popper:{searchQuery:M,onSearchChange:D,searchInputRef:R,mainInputRef:_,ref:T,placement:"bottom-start",sx:{zIndex:1500}},listbox:{sx:{maxHeight:280,overflow:"auto",py:.5,"& .MuiAutocomplete-option":{paddingY:.75,paddingX:1.25}}},paper:{elevation:0,square:!0,sx:{boxShadow:"none",borderRadius:0}}},sx:{"& .MuiOutlinedInput-root":{backgroundColor:"background.paper",border:"1px solid",borderColor:"divider",borderRadius:2,"& fieldset":{border:"none"},"&:hover fieldset":{border:"none"}},"& .MuiInputBase-input":{fontSize:"0.9rem",color:e,padding:"10px 12px",cursor:"pointer",userSelect:"none"}},renderInput:m=>n(Qe,{...m,placeholder:p?"Loading timezones...":"Select timezone",InputProps:{...m.InputProps,readOnly:!0,endAdornment:h(tt,{children:[p?n(gn,{color:"inherit",size:16,sx:{mr:1}}):null,m.InputProps.endAdornment]})},inputRef:_,inputProps:{...m.inputProps,readOnly:!0,"aria-label":"Select timezone",onSelect:ne=>ne.preventDefault()}})})})]}),l&&n(qo,{onClose:()=>c(!1),onSignUp:()=>{c(!1),t&&t()}})]})}const ni=[{key:"general",label:"General",icon:n(Ks,{fontSize:"small"})},{key:"session",label:"Sessions",icon:n(qs,{fontSize:"small"})},{key:"about",label:"About",icon:n(Ys,{fontSize:"small"})}];function fn({title:e,subtitle:t,children:o,dense:r}){return h(Xe,{elevation:0,sx:{p:r?2:{xs:2.25,sm:3},borderRadius:3,border:1,borderColor:"divider",bgcolor:"background.paper",mb:{xs:2,sm:3}},children:[(e||t)&&h(F,{sx:{mb:t?1.25:1},children:[e&&n(G,{variant:"h6",sx:{fontWeight:700,fontSize:{xs:"1rem",sm:"1.05rem"}},children:e}),t&&n(G,{variant:"body2",color:"text.secondary",sx:{mt:.25},children:t})]}),o]})}function hn({label:e,description:t,children:o,helperText:r,dense:i}){return h(F,{sx:{py:i?1:1.5,display:"flex",gap:2,alignItems:"flex-start"},children:[h(F,{sx:{flex:1,minWidth:0},children:[n(G,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.95rem",sm:"1rem"}},children:e}),t&&n(G,{variant:"body2",color:"text.secondary",sx:{mt:.25,fontSize:{xs:"0.85rem",sm:"0.9rem"},lineHeight:1.6},children:t}),r&&n(at,{severity:"info",sx:{mt:1,fontSize:{xs:"0.8rem",sm:"0.85rem"},py:1},children:r})]}),n(F,{sx:{flexShrink:0},children:o})]})}function oi({open:e,onClose:t}){const{user:o}=tn(),{clockStyle:r,canvasSize:i,sessions:l,updateClockStyle:c,updateCanvasSize:d,updateSessions:s,backgroundColor:p,updateBackgroundColor:u,backgroundBasedOnSession:M,toggleBackgroundBasedOnSession:D,showHandClock:w,showDigitalClock:E,showSessionLabel:T,toggleShowHandClock:z,toggleShowDigitalClock:R,toggleShowSessionLabel:_,showTimeToEnd:b,showTimeToStart:P,toggleShowTimeToEnd:x,toggleShowTimeToStart:I,showSessionNamesInCanvas:H,toggleShowSessionNamesInCanvas:m,showEventsOnCanvas:ne,toggleShowEventsOnCanvas:V,resetSettings:X}=kn(),[v,N]=a.useState("general"),[f,L]=a.useState(!1),[k,j]=a.useState(!1),[A,Q]=a.useState(!1),[oe,W]=a.useState(!1),[J,ve]=a.useState(!1),[Se,U]=a.useState(null),[B,ue]=a.useState(null),[be,te]=a.useState(""),{isFullscreen:ie,canFullscreen:xe,toggleFullscreen:pe}=Oo(),le=()=>ue(null),Ce=async()=>{try{await Eo(ut),X(),le(),t()}catch(S){console.error(S)}},re=S=>{S()?te(""):(te("At least one of the main clock elements must be enabled."),setTimeout(()=>te(""),4e3))},ae=(S,q,ge)=>{if(!o){Q(!0);return}const Te=[...l];Te[S][q]=ge,s(Te)},me=()=>{if(!o){Q(!0);return}x()},O=()=>{if(!o){Q(!0);return}I()},ke=()=>{if(!o){Q(!0);return}m()},ce=S=>{if(!o){Q(!0);return}U(S),ve(!0)},Ne=()=>{if(Se==null)return;const S=[...l];S[Se]={...S[Se],name:"",startNY:"",endNY:"",color:""},s(S),U(null),ve(!1)},$e=()=>{U(null),ve(!1)},je=()=>{X(),W(!1)},Re=a.useMemo(()=>n(F,{role:"tablist","aria-label":"Settings sections",sx:{display:"flex",gap:1,p:{xs:1,sm:1.5},border:1,borderColor:"divider",borderRadius:2,bgcolor:"background.paper"},children:ni.map(S=>{const q=v===S.key;return n(De,{onClick:()=>N(S.key),startIcon:S.icon,variant:q?"contained":"text",color:q?"primary":"inherit",sx:{flex:1,textTransform:"none",borderRadius:2,fontWeight:600,bgcolor:q?"primary.main":"transparent",color:q?"primary.contrastText":"text.primary",boxShadow:q?2:"none"},"aria-current":q?"page":void 0,children:S.label},S.key)})}),[v]),C=h(fn,{dense:!0,children:[n(G,{variant:"overline",sx:{fontWeight:700,letterSpacing:.4,color:"text.secondary"},children:"Visibility"}),n(Xe,{elevation:0,sx:{mt:1,borderRadius:3,border:1,borderColor:"divider",overflow:"hidden"},children:[{label:"Hand Clock",helper:"Analog with sessions",checked:w,onChange:()=>re(z)},{label:"Digital Clock",helper:"Readable digits",checked:E,onChange:()=>re(R)},{label:"Active Label",helper:"Current session tag",checked:T,onChange:()=>re(_)}].map((S,q)=>h(F,{sx:{display:"flex",alignItems:"center",gap:1.5,px:1.75,py:1.25,bgcolor:"background.paper",borderBottom:q===2?"none":"1px solid",borderColor:"divider"},children:[h(F,{sx:{flex:1,minWidth:0},children:[n(G,{variant:"body2",sx:{fontWeight:700,whiteSpace:"nowrap"},children:S.label}),n(G,{variant:"caption",color:"text.secondary",sx:{whiteSpace:"nowrap"},children:S.helper})]}),n(Ft,{checked:S.checked,onChange:S.onChange})]},S.label))}),be&&n(at,{severity:"error",sx:{mt:1.25},children:be})]}),$=h(tt,{children:[n(F,{sx:{mb:{xs:2,sm:3}},children:n(ti,{onRequestSignUp:()=>L(!0)})}),C,h(fn,{children:[n(G,{variant:"overline",sx:{fontWeight:700,letterSpacing:.4,color:"text.secondary",display:"block",mb:1},children:"Appearance"}),h(Xe,{elevation:0,sx:{border:1,borderColor:"divider",borderRadius:3,overflow:"hidden",mb:2},children:[n(F,{sx:{px:1.75,py:1.5,borderBottom:"1px solid",borderColor:"divider"},children:n(hn,{label:"Clock Style",description:"Choose the visual style of your clock",children:h(Qe,{select:!0,value:r,onChange:S=>c(S.target.value),size:"small",sx:{minWidth:160},children:[n(Dn,{value:"normal",children:"Normal"}),n(Dn,{value:"aesthetic",children:"Aesthetic"}),n(Dn,{value:"minimalistic",children:"Minimalistic"})]})})}),h(F,{sx:{px:1.75,py:1.5},children:[n(G,{variant:"body1",sx:{fontWeight:600,mb:.5},children:"Canvas Size"}),n(G,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Drag to resize and watch the canvas update live."}),n(ss,{value:i,onChange:(S,q)=>d(q),min:25,max:100,valueLabelDisplay:"auto",valueLabelFormat:S=>`${S}%`})]})]}),n(G,{variant:"overline",sx:{fontWeight:700,letterSpacing:.4,color:"text.secondary",display:"block",mb:1},children:"Background"}),h(Xe,{elevation:0,sx:{border:1,borderColor:"divider",borderRadius:3,overflow:"hidden",mb:2},children:[n(F,{sx:{px:1.75,py:1.25,borderBottom:"1px solid",borderColor:"divider"},children:n(hn,{label:"Background Color",description:"Pick a custom background to match your workspace",children:n(Qe,{type:"color",value:p,onChange:S=>u(S.target.value),size:"small",sx:{width:{xs:"100%",sm:90}}})})}),n(F,{sx:{px:1.75,py:1.25},children:n(hn,{label:"Session-based background",description:"Automatically shift background color to match the active session",children:n(Ft,{checked:M,onChange:D})})})]}),n(G,{variant:"overline",sx:{fontWeight:700,letterSpacing:.4,color:"text.secondary",display:"block",mb:1},children:"Economic calendar"}),n(Xe,{elevation:0,sx:{border:1,borderColor:"divider",borderRadius:3,overflow:"hidden",mb:2},children:n(F,{sx:{px:1.75,py:1.25},children:n(hn,{label:"Show events on clock",description:"Display economic event markers on the analog face",helperText:w?"":"Enable the hand clock to see events plotted on the analog face.",dense:!0,children:n(Ft,{checked:ne&&w,onChange:V,disabled:!w})})})}),n(F,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:n(De,{variant:"outlined",color:"error",onClick:()=>W(!0),sx:{textTransform:"none",borderRadius:2,px:2.5,py:1},children:"Reset to Default Settings"})})]})]}),K=n(tt,{children:h(fn,{title:"Session schedule",subtitle:"Edit your trading sessions. Auth is required to sync changes.",children:[n(G,{variant:"overline",sx:{fontWeight:700,letterSpacing:.4,color:"text.secondary",display:"block",mb:1},children:"Sessions"}),n(Xe,{elevation:0,sx:{border:1,borderColor:"divider",borderRadius:3,overflow:"hidden",mb:2},children:l.map((S,q)=>h(F,{sx:{p:{xs:1.75,sm:2},borderBottom:q===l.length-1?"none":"1px solid",borderColor:"divider"},children:[h(F,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1.25,gap:1},children:[h(G,{variant:"subtitle2",sx:{fontWeight:700},children:["Session ",q+1]}),n(Ke,{size:"small",onClick:()=>ce(q),sx:{color:"text.secondary"},"aria-label":`Clear session ${q+1}`,children:n(Bs,{fontSize:"small"})})]}),n(Qe,{label:"Name",size:"small",fullWidth:!0,value:S.name,onChange:ge=>ae(q,"name",ge.target.value),placeholder:`Session ${q+1} Name`,sx:{mb:1.5}}),h(F,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr 90px"},gap:{xs:1.25,sm:1.5}},children:[n(Qe,{label:"Start Time",type:"time",size:"small",value:S.startNY,onChange:ge=>ae(q,"startNY",ge.target.value),InputLabelProps:{shrink:!0}}),n(Qe,{label:"End Time",type:"time",size:"small",value:S.endNY,onChange:ge=>ae(q,"endNY",ge.target.value),InputLabelProps:{shrink:!0}}),n(Qe,{label:"Color",type:"color",size:"small",value:S.color,onChange:ge=>ae(q,"color",ge.target.value),sx:{width:{xs:"100%",sm:"100%"}},inputProps:{style:{padding:0,height:38}}})]})]},q))}),n(Nt,{sx:{my:2}}),n(G,{variant:"overline",sx:{fontWeight:700,letterSpacing:.4,color:"text.secondary",display:"block",mb:1},children:"Labels & timing"}),n(Xe,{elevation:0,sx:{border:1,borderColor:"divider",borderRadius:3,overflow:"hidden",mb:2},children:[{label:"Show Time to End",description:"Display remaining time until active session ends",control:n(Ft,{checked:b,onChange:me})},{label:"Show Time to Start",description:"Display time until next session begins",control:n(Ft,{checked:P,onChange:O})},{label:"Session names on canvas",description:"Display session names curved along the session donuts",control:n(Ft,{checked:H,onChange:ke})}].map((S,q)=>h(F,{sx:{px:1.75,py:1.25,borderBottom:q===2?"none":"1px solid",borderColor:"divider",display:"flex",gap:1.5,alignItems:"flex-start"},children:[h(F,{sx:{flex:1,minWidth:0},children:[n(G,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.95rem",sm:"1rem"}},children:S.label}),n(G,{variant:"body2",color:"text.secondary",sx:{mt:.25,lineHeight:1.6},children:S.description})]}),n(F,{sx:{flexShrink:0},children:S.control})]},S.label))})]})}),se=h(fn,{title:"About",subtitle:"Learn more about Time 2 Trade.",children:[h(G,{variant:"body1",sx:{mb:1.5},children:[n("strong",{children:"Time 2 Trade"})," is a live, timezone-aware session clock built for futures and forex day traders. The dual-ring analog canvas shows AM/PM trading sessions at a glance while your settings sync across devices."]}),n(G,{variant:"body2",color:"text.secondary",sx:{mb:2.5},children:"Stay aligned with high-impact economic events, track active sessions in your local time, and keep at least one visible clock element on-screen for constant market awareness. All Proâ˜… features are included for freeâ€”no paywalls."}),n(Nt,{sx:{my:2}}),n(G,{variant:"subtitle2",sx:{mb:.5,fontWeight:700},children:"Developer"}),h(G,{variant:"body2",sx:{mb:2},children:["Developed by: ",n("strong",{children:n("a",{href:"https://x.com/lofi_trades",target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"none"},children:"@lofi_trades"})})]}),n(Nt,{sx:{my:2}}),n(G,{variant:"subtitle2",sx:{mb:.5,fontWeight:700},children:"Version"}),n(G,{variant:"body2",color:"text.secondary",children:"1.0.0-beta"})]}),fe=()=>v==="session"?K:v==="about"?se:$;return h(tt,{children:[h(Fa,{anchor:"right",open:e&&!f&&!A&&!k,onClose:t,variant:"temporary",ModalProps:{keepMounted:!0},sx:{zIndex:1355,"& .MuiDrawer-paper":{boxSizing:"border-box"}},PaperProps:{sx:{width:{xs:"100%",sm:"100%",md:520,lg:560},maxWidth:"100vw",height:"100vh",display:"flex",flexDirection:"column",boxShadow:"-20px 0 40px rgba(0,0,0,0.12)",borderLeft:1,borderColor:"divider"}},children:[h(F,{sx:{p:{xs:2,sm:2.5},borderBottom:1,borderColor:"divider",display:"flex",alignItems:"center",justifyContent:"space-between",gap:1.5,flexShrink:0,backgroundImage:"linear-gradient(120deg, rgba(0,0,0,0.02), transparent)"},children:[h(F,{children:[n(G,{variant:"h6",sx:{fontWeight:700},children:"Settings"}),n(G,{variant:"caption",color:"text.secondary",children:"Live-preview updates on the canvas"})]}),h(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[n(bt,{title:ie?"Exit fullscreen":"Enter fullscreen",arrow:!0,children:n("span",{children:n(Ke,{size:"small",onClick:pe,disabled:!xe,sx:{"&:hover":{bgcolor:"action.hover"}},"aria-label":ie?"Exit fullscreen":"Enter fullscreen","aria-pressed":ie,children:ie?n(Us,{}):n(Vs,{})})})}),n(Ke,{size:"small",onClick:t,sx:{"&:hover":{bgcolor:"action.hover"}},"aria-label":"Close settings",children:n(Wt,{})})]})]}),n(F,{sx:{p:{xs:2,sm:2.5},borderBottom:1,borderColor:"divider",flexShrink:0},children:o?n(tt,{children:h(Xe,{elevation:0,sx:{border:1,borderColor:"divider",borderRadius:2,overflow:"hidden"},children:[h(F,{sx:{display:"flex",alignItems:"center",gap:1.25,p:1.25,cursor:"pointer",bgcolor:"action.hover"},onClick:()=>ue(S=>!S),children:[o.photoURL?n(vn,{src:o.photoURL,alt:o.displayName||"User",sx:{width:40,height:40},imgProps:{referrerPolicy:"no-referrer",crossOrigin:"anonymous"}}):n(vn,{sx:{width:40,height:40,bgcolor:"primary.main"},children:n(Ko,{})}),h(F,{sx:{flex:1,minWidth:0},children:[n(G,{variant:"subtitle2",noWrap:!0,sx:{fontWeight:700},children:o.displayName||"User"}),n(G,{variant:"caption",color:"text.secondary",noWrap:!0,children:o.email})]}),n(Hs,{fontSize:"small",sx:{transform:B?"rotate(180deg)":"none",transition:"transform 0.2s"}})]}),B&&h(F,{sx:{borderTop:1,borderColor:"divider",bgcolor:"background.paper"},children:[n(De,{fullWidth:!0,onClick:()=>{j(!0),ue(!1)},sx:{justifyContent:"flex-start",textTransform:"none",py:1.25,px:1.5},children:"My Account"}),n(De,{fullWidth:!0,onClick:()=>{Ce(),ue(!1)},sx:{justifyContent:"flex-start",textTransform:"none",py:1.25,px:1.5},children:"Log out"})]})]})}):n(De,{variant:"contained",fullWidth:!0,onClick:()=>L(!0),sx:{textTransform:"none",py:1},children:"Login / Sign Up"})}),n(F,{sx:{p:{xs:2,sm:2.5},flexShrink:0},children:Re}),n(F,{sx:{flex:1,overflowY:"auto",px:{xs:2,sm:2.5},pb:{xs:2,sm:3},backgroundImage:"linear-gradient(to bottom right, rgba(0,0,0,0.01), transparent)"},children:fe()}),!o&&n(F,{sx:{p:{xs:2,sm:2.5},borderTop:1,borderColor:"divider",flexShrink:0,bgcolor:"background.paper"},children:n(G,{variant:"caption",color:"text.secondary",sx:{textAlign:"center",display:"block"},children:"Create a free account to unlock Proâ˜… Features."})})]}),f&&n(Js,{onClose:()=>L(!1)}),k&&n(ei,{onClose:()=>j(!1),user:o,resetSettings:X}),A&&n(qo,{onClose:()=>Q(!1),onSignUp:()=>{Q(!1),L(!0)}}),oe&&n(Bn,{open:oe,onClose:()=>W(!1),onConfirm:je,title:"Reset to Default Settings?",message:"This will reset all settings including clock style, sessions, colors, and preferences to their default values. This action cannot be undone.",confirmText:"Reset Settings",cancelText:"Cancel"}),J&&n(Bn,{open:J,onClose:$e,onConfirm:Ne,title:"Clear this session?",message:"This will clear the name, start, end, and color fields for this session. Continue?",confirmText:"Clear session",cancelText:"Cancel"})]})}const bo=Oe(n("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"})),ri=Oe(n("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-7 2h2.5v12H13zm-2 12H8.5V6H11zM4 6h2.5v12H4zm16 12h-2.5V6H20z"})),ai=Oe(n("path",{fillRule:"evenodd",d:"M20 3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M10 17H5v-2h5zm0-4H5v-2h5zm0-4H5V7h5zm4.82 6L12 12.16l1.41-1.41 1.41 1.42L17.99 9l1.42 1.42z"})),si=Oe(n("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),ii=Oe(n("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),li=Oe(n("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}));function ci({value:e,onChange:t,sx:o={}}){const[r,i]=a.useState(!1),l=Jt(),c=No(l.breakpoints.down("sm")),d=An.find(p=>p.value===e)||An[0],s=p=>{t(p),i(!1)};return h(tt,{children:[n(De,{variant:"outlined",size:"small",onClick:()=>i(!0),endIcon:n(En,{sx:{fontSize:16}}),sx:{textTransform:"none",fontWeight:600,fontSize:{xs:"0.8125rem",sm:"0.875rem"},borderColor:"divider",color:"text.primary",px:{xs:1.5,sm:2},py:.75,whiteSpace:"nowrap","&:hover":{borderColor:"primary.main",bgcolor:"action.hover"},...o},children:d.label}),h(Tt,{open:r,onClose:()=>i(!1),maxWidth:"md",fullWidth:!0,fullScreen:c,PaperProps:{sx:{borderRadius:{xs:0,sm:2},maxHeight:"90vh"}},children:[h(Vt,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",pb:2,borderBottom:1,borderColor:"divider"},children:[h(F,{children:[n(G,{variant:"h6",sx:{fontWeight:700,mb:.5},children:"Select Data Source"}),n(G,{variant:"caption",color:"text.secondary",children:"Choose your preferred economic calendar provider"})]}),n(Ke,{onClick:()=>i(!1),size:"small",sx:{ml:2},children:n(Wt,{})})]}),h(Pt,{sx:{p:{xs:2,sm:3},pt:{xs:2,sm:3}},children:[n(F,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(3, 1fr)"},gap:2,mt:2},children:An.map(p=>{const u=p.value===e,D={"forex-factory":{coverage:"Comprehensive",strength:"Broad historical coverage",availability:"Primary source via JBlanked"},mql5:{coverage:"Extensive",strength:"MetaTrader official data",availability:"Primary source via JBlanked"},fxstreet:{coverage:"Limited",strength:"Real-time updates",availability:"Supplementary source"}}[p.value];return h(mr,{elevation:u?8:1,sx:{position:"relative",border:2,borderColor:u?"primary.main":"divider",transition:"all 0.3s",cursor:"pointer","&:hover":{borderColor:u?"primary.dark":"primary.light",transform:"translateY(-4px)",boxShadow:l.shadows[8]}},onClick:()=>s(p.value),children:[u&&n(F,{sx:{position:"absolute",top:12,right:12,bgcolor:"primary.main",borderRadius:"50%",p:.5,display:"flex",alignItems:"center",justifyContent:"center"},children:n(to,{sx:{color:"white",fontSize:20}})}),h(gr,{sx:{p:2.5,pb:1.5},children:[n(G,{variant:"h6",sx:{fontWeight:700,mb:1,fontSize:"1rem",pr:3},children:p.label}),n(G,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8125rem",lineHeight:1.5,mb:2,minHeight:60},children:p.description}),n(Nt,{sx:{my:1.5}}),h(F,{sx:{display:"flex",flexDirection:"column",gap:1},children:[h(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[n(br,{sx:{fontSize:16,color:"info.main"}}),h(G,{variant:"caption",sx:{fontSize:"0.75rem"},children:[D.coverage," coverage"]})]}),h(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[n(to,{sx:{fontSize:16,color:p.value==="fxstreet"?"warning.main":"success.main"}}),n(G,{variant:"caption",sx:{fontSize:"0.75rem"},children:D.strength})]}),h(F,{sx:{display:"flex",alignItems:"center",gap:1},children:[n(En,{sx:{fontSize:16,color:"text.secondary"}}),n(G,{variant:"caption",sx:{fontSize:"0.75rem"},children:D.availability})]})]})]}),n(ka,{sx:{p:2.5,pt:0},children:n(De,{fullWidth:!0,variant:u?"contained":"outlined",size:"small",onClick:w=>{w.stopPropagation(),s(p.value)},sx:{textTransform:"none",fontWeight:600,py:1},children:u?"Current Source":"Select Source"})})]},p.value)})}),n(F,{sx:{mt:3,p:2,bgcolor:yt("#2196f3",.08),borderRadius:1.5,border:"1px solid",borderColor:yt("#2196f3",.2)},children:h(F,{sx:{display:"flex",gap:1.5,alignItems:"flex-start"},children:[n(En,{sx:{fontSize:20,color:"info.main",flexShrink:0,mt:.25}}),h(F,{children:[n(G,{variant:"subtitle2",sx:{fontWeight:600,mb:.5,fontSize:"0.875rem"},children:"How Data is Sourced"}),h(G,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem",lineHeight:1.6,display:"block"},children:["This application aggregates economic calendar data from multiple trusted providers to give you comprehensive event coverage. The system automatically selects the highest quality data when the same event is available from multiple sources.",n("br",{}),n("br",{}),n("strong",{children:"Your selection determines which provider is prioritized."})," If your preferred source is unavailable for an event, the system will automatically use the next best available source."]})]})]})}),n(F,{sx:{mt:2,p:2,bgcolor:yt("#ff9800",.08),borderRadius:1.5,border:"1px solid",borderColor:yt("#ff9800",.2)},children:h(G,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem",lineHeight:1.6,display:"block",fontStyle:"italic"},children:[n("strong",{children:"Important Disclaimer:"})," This economic calendar is provided for informational and educational purposes only. Data accuracy, completeness, and timeliness are not guaranteed. Event times, forecasts, and actual values may contain errors, omissions, or delays. ",n("strong",{children:"Do not use this information as the sole basis for trading or financial decisions."}),n("br",{}),n("br",{}),"We are not responsible for any trading losses, investment decisions, or financial outcomes resulting from the use of this data. Always verify critical information with official sources and consult qualified financial professionals before making investment decisions. Past performance and forecasts do not guarantee future results.",n("br",{}),n("br",{}),'By using this application, you acknowledge that all data is sourced from third-party providers (NFS API, JBlanked API, Forex Factory, MQL5/MetaTrader, FXStreet) and any inaccuracies or discrepancies are the responsibility of those original sources. We provide this data "as is" without warranties of any kind.']})})]})]})]})}const di=(e,t)=>{if(!e)return"Unknown time";const o=e.toDate?e.toDate():new Date(e);return Number.isNaN(o.getTime())?"Unknown time":o.toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short",timeZone:t})};function ui({open:e,onClose:t,event:o,timezone:r,notes:i=[],loading:l=!1,onAddNote:c,onRemoveNote:d,error:s=null}){const p=Jt(),u=No(p.breakpoints.down("sm")),[M,D]=a.useState(""),[w,E]=a.useState(!1),[T,z]=a.useState(null),[R,_]=a.useState(null),b=(o==null?void 0:o.name)||(o==null?void 0:o.Name)||"Selected Event",P=(o==null?void 0:o.currency)||(o==null?void 0:o.Currency)||null,x=a.useMemo(()=>o?Lo(o.time||o.date,r):"â€”",[o,r]);a.useEffect(()=>{e&&(D(""),z(null),_(null))},[o,e]);const I=async()=>{if(!M.trim()||!c||w)return;E(!0);const m=await c(M.trim());m!=null&&m.success&&D(""),E(!1)},H=async m=>{if(!(!d||T)){if(R!==m){_(m);return}z(m),await d(m),z(null),_(null)}};return h(Tt,{open:e,onClose:t,fullScreen:u,maxWidth:"sm",fullWidth:!0,children:[u?n(Kr,{sx:{position:"relative"},color:"primary",children:h(yr,{children:[n(Ke,{edge:"start",color:"inherit",onClick:t,"aria-label":"close",children:n(Wt,{})}),n(G,{sx:{ml:2,flex:1,fontWeight:800},variant:"h6",component:"div",children:"Event Notes"})]})}):h(F,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:3,pt:3},children:[h(ot,{direction:"row",spacing:1,alignItems:"center",children:[n(Nn,{color:"primary"}),h(F,{children:[n(G,{variant:"subtitle2",sx:{fontWeight:800},children:"Event Notes"}),h(G,{variant:"caption",color:"text.secondary",children:[x," ",P?`â€¢ ${P}`:""]})]})]}),n(Ke,{onClick:t,children:n(Wt,{})})]}),n(Pt,{sx:{pt:u?2:1,pb:{xs:3,sm:3}},children:h(ot,{spacing:2.5,children:[h(F,{children:[n(G,{variant:"subtitle1",sx:{fontWeight:800},children:b}),h(G,{variant:"body2",color:"text.secondary",children:[x," ",P?`â€¢ ${P}`:""]})]}),s?n(at,{severity:"error",children:s}):null,h(ot,{spacing:1.25,children:[n(Qe,{label:"Add a note",placeholder:"What do you want to remember for this event?",fullWidth:!0,multiline:!0,minRows:3,value:M,onChange:m=>D(m.target.value),disabled:w}),n(F,{sx:{display:"flex",justifyContent:"flex-end"},children:n(De,{variant:"contained",endIcon:w?n(gn,{size:16,thickness:5,color:"inherit"}):n(li,{}),onClick:I,disabled:w||!M.trim(),sx:{textTransform:"none",fontWeight:700},children:"Save Note"})})]}),n(Nt,{}),h(F,{children:[h(ot,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[n(Nn,{fontSize:"small"}),h(G,{variant:"subtitle2",sx:{fontWeight:800},children:["Notes (",i.length,")"]})]}),l?n(F,{sx:{display:"flex",alignItems:"center",justifyContent:"center",py:4},children:n(gn,{size:32,thickness:5})}):i.length===0?n(F,{sx:{p:2,bgcolor:"background.paper",borderRadius:2,border:"1px dashed",borderColor:"divider"},children:n(G,{variant:"body2",color:"text.secondary",children:"No notes yet. Start by adding one above."})}):n(Pr,{dense:!0,disablePadding:!0,children:i.map(m=>h(Vn.Fragment,{children:[n(Nr,{alignItems:"flex-start",secondaryAction:h(ot,{direction:"row",spacing:.75,alignItems:"center",children:[R===m.id&&n(G,{variant:"caption",color:"error.main",sx:{fontWeight:700},children:"Confirm"}),R===m.id&&n(Ke,{edge:"end","aria-label":"cancel delete",onClick:()=>_(null),size:"small",children:n(Wt,{fontSize:"small"})}),n(Ke,{edge:"end","aria-label":"delete",onClick:()=>H(m.id),disabled:T===m.id,sx:{color:R===m.id?"error.main":"inherit"},children:T===m.id?n(gn,{size:18,thickness:5}):n(ii,{})})]}),children:n($r,{primary:n(G,{variant:"body2",sx:{fontWeight:700},children:di(m.createdAt,r)}),secondary:n(G,{variant:"body2",color:"text.primary",sx:{whiteSpace:"pre-wrap"},children:m.content})})}),n(Nt,{component:"li"})]},m.id))})]})]})})]})}const yo=365,pi=5*60*1e3,xo=10*60*1e3,vo=e=>{const{year:t,month:o,day:r}=xn(e),i=Ht(e,t,o,r),l=Ht(e,t,o,r,{endOfDay:!0});return{startDate:i,endDate:l}},fi=e=>{const{year:t,month:o,day:r,dayOfWeek:i}=xn(e),l=r-i,c=r+(6-i),d=Ht(e,t,o,l),s=Ht(e,t,o,c,{endOfDay:!0});return{startDate:d,endDate:s}},dt=e=>e?e instanceof Date?e:new Date(e):null;function hi({open:e,onClose:t,autoScrollRequest:o=null,onOpenAuth:r,onOpenSettings:i}){const l=Jt(),{user:c}=tn(),{selectedTimezone:d,eventFilters:s,newsSource:p,updateNewsSource:u,updateEventFilters:M}=kn(),{favoritesLoading:D,isFavorite:w,toggleFavorite:E,isFavoritePending:T}=Ho(),{notesError:z,hasNotes:R,getNotesForEvent:_,ensureNotesStream:b,stopNotesStream:P,addNote:x,removeNote:I,isEventNotesLoading:H}=Uo(),[m,ne]=a.useState(()=>({startDate:dt(s.startDate),endDate:dt(s.endDate),impacts:s.impacts||[],currencies:s.currencies||[],favoritesOnly:s.favoritesOnly||!1})),[V,X]=a.useState([]),[v,N]=a.useState([]),[f,L]=a.useState(!1),[k,j]=a.useState(null),[A,Q]=a.useState(null),[oe,W]=a.useState(!1),[J,ve]=a.useState(!1),[Se,U]=a.useState(!1),[B,ue]=a.useState(!1),[be,te]=a.useState(null),[ie,xe]=a.useState(0),[pe,le]=a.useState(null),[Ce,re]=a.useState(0),ae=a.useRef(m),me=a.useRef(!1),O=a.useCallback(async Y=>{const Z=await E(Y);Z!=null&&Z.requiresAuth&&r&&r()},[E,r]),ke=a.useCallback(Y=>{const{key:Z,requiresAuth:Me}=b(Y);if(Me&&r){t(),r();return}Z&&Q({event:Y,key:Z})},[b,t,r]),ce=a.useCallback(()=>{A!=null&&A.event&&P(A.event),Q(null)},[A,P]),Ne=a.useCallback(async Y=>{if(!(A!=null&&A.event))return{success:!1};const Z=await x(A.event,Y);return Z!=null&&Z.requiresAuth&&r&&(t(),r()),Z},[x,A,t,r]),$e=a.useCallback(async Y=>{if(!(A!=null&&A.event))return{success:!1};const Z=await I(A.event,Y);return Z!=null&&Z.requiresAuth&&r&&(t(),r()),Z},[A,t,r,I]),je=a.useRef(0);a.useMemo(()=>vo(d),[d]);const Re=a.useMemo(()=>fi(d),[d]),C=a.useMemo(()=>{const Y=dt(m.startDate),Z=dt(m.endDate);return{...m,startDate:Y,endDate:Z}},[m]),$=a.useMemo(()=>m.favoritesOnly?V.filter(Y=>w(Y)):V,[V,m.favoritesOnly,w]),K=a.useCallback(async(Y=null)=>{const Z=Y?{...Y}:{...C},Me=dt(Z.startDate),Ae=dt(Z.endDate);if(!Me||!Ae){j("Please select a date range to view events.");return}if(Math.ceil((Ae-Me)/(1e3*60*60*24))>yo){j(`Date range cannot exceed ${yo} days.`);return}L(!0),j(null);try{const ze=await $n(Me,Ae,{source:p,impacts:Z.impacts||[],currencies:Z.currencies||[]});if(ze.success){const Ze=zn(ze.data),Ge=Z.favoritesOnly?Ze.filter(He=>w(He)):Ze;X(Ze),le(new Date),xe(Ge.length)}else X([]),j(ze.error||"Failed to load events.")}catch(ze){X([]),j(ze.message||"Unexpected error while loading events.")}finally{L(!1)}},[C,w,p]),se=a.useCallback(async()=>{const{year:Y,month:Z,day:Me}=xn(d),Ae=Ht(d,Y,Z,Me),lt=Ht(d,Y,Z,Me+7,{endOfDay:!0});try{const ze=await $n(Ae,lt,{source:p,impacts:[],currencies:[]});if(ze.success){const Ze=zn(ze.data);N(Ze)}}catch(ze){console.warn("Failed to fetch context events for NEXT detection:",ze)}},[p,d]);a.useEffect(()=>{m.favoritesOnly&&xe($.length)},[$,m.favoritesOnly]),a.useEffect(()=>{!c&&A&&Q(null)},[A,c]);const fe=a.useCallback(Y=>{const Z=ae.current||m,Me={...Z,...Y},Ae=dt(Me.startDate)||dt(Z==null?void 0:Z.startDate),lt=dt(Me.endDate)||dt(Z==null?void 0:Z.endDate),ze=Ae||Re.startDate,Ze=lt||Re.endDate,Ge={...Me,startDate:ze,endDate:Ze};ae.current=Ge,ne(Ge),M(Ge),K(Ge),se()},[se,K,m,Re.endDate,Re.startDate,M]),S=a.useCallback(Y=>{ne(Z=>({...Z,...Y}))},[]),q=a.useCallback(Y=>{fe(Y),re(Z=>Z+1)},[fe]);a.useEffect(()=>{ae.current=m},[m]),a.useEffect(()=>{const Y={current:null},Z=()=>{const{year:Ae,month:lt,day:ze}=xn(d),Ze=`${Ae}-${lt}-${ze}`;if(Y.current===Ze)return;Y.current=Ze;const Ge=vo(d),He=ae.current||{};if(!(He.startDate&&He.endDate&&Math.abs(new Date(He.endDate).getTime()-new Date(He.startDate).getTime())<864e5))return;const Dt=He.startDate&&Ge.startDate&&new Date(He.startDate).getTime()===new Date(Ge.startDate).getTime(),Kt=He.endDate&&Ge.endDate&&new Date(He.endDate).getTime()===new Date(Ge.endDate).getTime();Dt&&Kt||(fe({...He,startDate:Ge.startDate,endDate:Ge.endDate}),re(qt=>qt+1))};Z();const Me=setInterval(Z,6e4);return()=>clearInterval(Me)},[fe,d]);const ge=a.useCallback(async()=>{if(!(Se||me.current)){U(!0),te(null);try{await eo(p),fe({...ae.current||m,...Re}),te(`Events refreshed from ${p}.`),setTimeout(()=>te(null),3e3)}catch{te("Failed to refresh events.")}finally{U(!1)}}},[fe,m,p,Re]),Te=a.useCallback(async()=>{if(!(Se||me.current)){me.current=!0;try{await eo(p),fe({...ae.current||m,...Re})}catch{}finally{me.current=!1}}},[fe,m,p,Re]);a.useEffect(()=>{if(!e)return;const Y=setInterval(()=>{const Z=pe?new Date(pe).getTime():0,Me=Date.now(),Ae=!Z||Me-Z>=xo;(typeof document>"u"?!0:!document.hidden)&&Ae&&Te()},pi);return()=>clearInterval(Y)},[pe,e,Te]),a.useEffect(()=>{if(typeof document>"u")return;const Y=()=>{if(document.hidden||!e)return;const Z=pe?new Date(pe).getTime():0,Me=Date.now();(!Z||Me-Z>=xo)&&Te()};return document.addEventListener("visibilitychange",Y),()=>document.removeEventListener("visibilitychange",Y)},[pe,e,Te]);const Le=a.useCallback(async()=>{if(!(oe||!window.confirm("Sync this week from NFS now? This may take a few seconds."))){W(!0),te(null);try{const Z=await xr();Z.success?(te("Synced NFS weekly schedule."),K(),se()):te(Z.error||"Failed to sync NFS week.")}catch{te("Failed to sync NFS week.")}finally{setTimeout(()=>te(null),4e3),W(!1)}}},[K,oe]),st=a.useCallback(async()=>{if(!(J||!window.confirm("Sync today's actuals from JBlanked (all sources)? This may take a few seconds."))){ve(!0),te(null);try{const Z=await vr();Z.success?(te("Synced today's actuals from JBlanked."),K(),se()):te(Z.error||"Failed to sync actuals.")}catch{te("Failed to sync actuals.")}finally{setTimeout(()=>te(null),4e3),ve(!1)}}},[K,se,J]),et=a.useCallback(Y=>{u(Y),te(`Switched to ${Y.toUpperCase()}.`),K(),se(),setTimeout(()=>te(null),2500)},[se,K,u]);a.useEffect(()=>{if(!m.startDate||!m.endDate){const Y={...m,...Re};ne(Y),M(Y),K(Y),se()}else K(),se()},[p,d,Re.startDate,Re.endDate]),a.useEffect(()=>{e&&c&&(je.current+=1,re(Y=>Y+1))},[e,c]),a.useEffect(()=>{o&&re(Y=>Y+1)},[o]);const _e=B?"background.default":"background.paper",vt="text.primary",gt=B?"Events Table":"Events Timeline",it=B?"Table":"Timeline",nt=a.useCallback(()=>{i&&i()},[i]),Ie={enter:l.transitions.easing.easeOut,exit:l.transitions.easing.sharp};return n(Ro,{in:e,direction:"left",timeout:{enter:320,exit:260},easing:Ie,mountOnEnter:!0,unmountOnExit:!0,children:h(Xe,{elevation:B?0:8,sx:{position:"fixed",right:0,top:0,left:B?0:"auto",height:"100vh",width:B?"100%":{xs:"100%",sm:"100%",md:520,lg:560},display:"flex",flexDirection:"column",zIndex:1300,overflow:"hidden",bgcolor:_e,color:vt,borderRadius:B?0:{xs:0,sm:"16px 0 0 16px"},boxShadow:B?"none":void 0,transition:l.transitions.create(["transform","opacity"],{duration:260,easing:Ie.enter})},children:[h(F,{sx:{p:{xs:1.5,sm:1.75},borderBottom:"1px solid",borderColor:"primary.dark",display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",gap:{xs:1,sm:0},bgcolor:"primary.main",position:B?"sticky":"relative",top:0,zIndex:1400},children:[h(ot,{direction:"row",spacing:.75,alignItems:"center",sx:{order:{xs:1,sm:2},width:"100%",justifyContent:{xs:"flex-end",sm:"flex-end"},flexWrap:"wrap",gap:.75,pr:0},children:[n(F,{sx:{display:{xs:"grid",sm:"none"},width:36,height:36,borderRadius:"50%",bgcolor:yt(l.palette.common.white,.18),placeItems:"center"},children:n(bo,{sx:{fontSize:20,color:"primary.contrastText"}})}),c&&n(bt,{title:B?"Switch to Timeline view":"Switch to Table view",children:n("span",{children:n(Ke,{onClick:()=>ue(Y=>!Y),sx:{color:"primary.contrastText"},size:"small",children:B?n(Sr,{}):n(wr,{})})})}),c&&n(bt,{title:"Sync week (NFS)",children:n("span",{children:n(Ke,{onClick:Le,disabled:oe,sx:{color:"primary.contrastText"},size:"small",children:n(ri,{sx:{animation:oe?"spin 1s linear infinite":"none","@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}})})})}),c&&n(bt,{title:"Sync today's actuals (JBlanked)",children:n("span",{children:n(Ke,{onClick:st,disabled:J,sx:{color:"primary.contrastText"},size:"small",children:n(ai,{sx:{animation:J?"spin 1s linear infinite":"none","@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}})})})}),c&&n(bt,{title:"Refresh events",children:n("span",{children:n(Ke,{onClick:ge,disabled:Se,sx:{color:"primary.contrastText"},size:"small",children:n(Cr,{sx:{animation:Se?"spin 1s linear infinite":"none","@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}})})})}),n(bt,{title:"Open settings",children:n("span",{children:n(Ke,{onClick:nt,sx:{color:"primary.contrastText"},size:"small",children:n(si,{})})})}),n(bt,{title:"Close events",children:n("span",{children:n(Ke,{onClick:t,sx:{color:"primary.contrastText"},size:"small",children:n(Wt,{})})})})]}),h(F,{sx:{order:{xs:2,sm:1},width:"100%",mt:{xs:.5,sm:0},display:"flex",alignItems:"center",gap:1},children:[n(F,{sx:{display:{xs:"none",sm:"grid"},width:36,height:36,borderRadius:"50%",bgcolor:yt(l.palette.common.white,.18),placeItems:"center"},children:n(bo,{sx:{fontSize:20,color:"primary.contrastText"}})}),h(F,{children:[n(G,{variant:"subtitle2",sx:{textTransform:"uppercase",letterSpacing:1,color:yt(l.palette.primary.contrastText,.8)},children:"Economic Calendar"}),n(G,{variant:"h6",sx:{fontWeight:800,color:"primary.contrastText"},children:gt})]})]})]}),c&&be&&n(F,{sx:{px:{xs:1.5,sm:2},py:1,bgcolor:"background.paper"},children:n(at,{severity:be.includes("Failed")?"error":"success",sx:{py:.5},children:be})}),h(F,{sx:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column",bgcolor:"background.default"},children:[!c&&n(F,{sx:{p:{xs:2.5,sm:3},overflow:"auto"},children:h(at,{severity:"info",sx:{"& .MuiAlert-message":{width:"100%"}},children:[n(kr,{sx:{fontWeight:800,fontSize:"1.05rem"},children:"ðŸ”’ Authentication Required"}),n(G,{variant:"body1",sx:{mb:1.5},children:"Create a free account to unlock the live economic calendar."}),n(G,{variant:"body2",color:"text.secondary",children:"- Real-time economic events"}),n(G,{variant:"body2",color:"text.secondary",children:"- Impact and currency filters"}),n(G,{variant:"body2",color:"text.secondary",sx:{mb:1.5},children:"- Cloud sync across devices"}),n(De,{variant:"contained",onClick:()=>{t(),r&&r()},sx:{textTransform:"none",fontWeight:700},children:"Sign Up / Log In"})]})}),c&&h(F,{sx:{flex:1,display:"flex",flexDirection:"column",gap:1.25,overflow:"hidden",p:B?{xs:1.5,sm:2}:{xs:1.25,sm:1.75}},children:[n(Xe,{elevation:0,sx:{border:"1px solid",borderColor:"divider",bgcolor:"background.paper",color:"text.primary",borderRadius:2,flexShrink:0,overflow:"hidden"},children:n(Ir,{filters:C,onFiltersChange:S,onApply:q,loading:f,timezone:d,newsSource:p,actionOffset:0})}),h(Xe,{elevation:0,sx:{border:"1px solid",borderColor:"divider",bgcolor:"background.paper",color:"text.primary",flex:1,display:"flex",flexDirection:"column",overflow:"hidden",borderRadius:2,boxShadow:"none"},children:[h(F,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:{xs:1.5,sm:2},py:1,borderBottom:"1px solid",borderColor:"divider",gap:1,flexWrap:"wrap"},children:[h(F,{sx:{display:"flex",flexDirection:"column",gap:.25,minWidth:0},children:[n(G,{variant:"subtitle2",sx:{fontWeight:800},children:it}),h(G,{variant:"caption",sx:{color:"text.secondary"},children:[ie.toLocaleString()," events â€¢ Updated ",pe?pe.toLocaleTimeString():"â€”"]})]}),n(ot,{direction:"row",spacing:1,alignItems:"center",children:n(ci,{value:p,onChange:et})})]}),n(F,{sx:{flex:1,minHeight:0,overflow:"hidden"},children:B?n(Mr,{events:$,contextEvents:v,loading:f,error:k,timezone:d,onRefresh:ge,autoScrollToNextKey:o||Ce,isFavoriteEvent:w,onToggleFavorite:O,isFavoritePending:T,favoritesLoading:D,hasEventNotes:R,onOpenNotes:ke,isEventNotesLoading:H}):n(Tr,{events:$,contextEvents:v,loading:f,timezone:d,onVisibleCountChange:xe,autoScrollToNextKey:o||Ce,isFavoriteEvent:w,onToggleFavorite:O,isFavoritePending:T,favoritesLoading:D,hasEventNotes:R,onOpenNotes:ke,isEventNotesLoading:H})}),!B&&k&&n(F,{sx:{borderTop:"1px solid",borderColor:yt("#1e293b",.6),px:1.5,py:1},children:n(at,{severity:"error",sx:{my:0},children:k})})]})]})]}),n(ui,{open:!!A,onClose:ce,event:(A==null?void 0:A.event)||null,timezone:d,notes:A?_(A.event):[],loading:A?H(A.event):!1,onAddNote:Ne,onRemoveNote:$e,error:z})]})})}function wi(){const{isLoading:e,clockStyle:t,canvasSize:o,clockSize:r,sessions:i,selectedTimezone:l,updateClockStyle:c,updateCanvasSize:d,updateClockSize:s,updateSessions:p,backgroundColor:u,updateBackgroundColor:M,backgroundBasedOnSession:D,toggleBackgroundBasedOnSession:w,showHandClock:E,showDigitalClock:T,showSessionLabel:z,toggleShowHandClock:R,toggleShowDigitalClock:_,toggleShowSessionLabel:b,showTimeToEnd:P,showTimeToStart:x,toggleShowTimeToEnd:I,toggleShowTimeToStart:H,showSessionNamesInCanvas:m,showEventsOnCanvas:ne,eventFilters:V,newsSource:X}=kn(),{currentTime:v,activeSession:N,timeToEnd:f,nextSession:L,timeToStart:k}=ms(l,i),[j,A]=a.useState(!1),[Q,oe]=a.useState(!1),[W,J]=a.useState(r),[ve,Se]=a.useState(!1),U=a.useRef(null),{isFullscreen:B}=Oo(U),[ue,be]=a.useState(null),te=a.useRef({hour:0,minute:0,second:0}),[ie,xe]=a.useState(E&&ne),pe=O=>{oe(!0),O!=null&&O.id&&be({eventId:O.id,ts:Date.now()})};a.useEffect(()=>{const O=()=>{const ke=window.innerHeight,ce=window.innerWidth,Ne=48,$e=375,je=T?.133:0,Re=z?.213:0,C=1+je+Re,$=ke-Ne-10;let K=Math.floor($/C*(o/100));K=Math.max(150,K);const se=ce-60;K=Math.min(K,se);const fe=T?Math.round(60*(K/$e)):0,S=z?Math.round(100*(K/$e)):0,q=K+fe+S+Ne+20;if(o===100&&q>ke){const ge=ke/q;K=Math.floor(K*ge*.98)}J(K),Se(!0)};return O(),window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[o,T,z]);const le=D&&N?N.color:u,Ce=Kn(le)?"#fff":"#4B4B4B";a.useEffect(()=>{document.body.style.backgroundColor=le},[le]),a.useEffect(()=>{window.dispatchEvent(new Event("resize"))},[B]);const re=!ve,ae=e||ie;a.useEffect(()=>{xe(E&&ne)},[E,ne]);const me=()=>{oe(!1),be(null)};return h(tt,{children:[n(pr,{isLoading:ae,clockSize:W}),h("div",{className:"app-container",ref:U,style:{maxWidth:W+200,backgroundColor:le,opacity:ae?0:1,pointerEvents:ae?"none":"auto",transition:"opacity 0.6s ease"},children:[n(bt,{title:"Economic events",placement:"left",children:n(Ke,{onClick:()=>oe(!0),sx:{position:"fixed",bottom:"max(12px, env(safe-area-inset-bottom, 0px))",right:"max(12px, env(safe-area-inset-right, 0px))",color:Ce,zIndex:1100,"&:hover":{backgroundColor:"transparent",opacity:.8}},"aria-label":"Open economic events",children:n(hs,{sx:{fontSize:26}})})}),h("div",{className:"clock-elements-container",children:[E&&n("div",{className:"hand-clock",style:{width:"100%",display:"flex",justifyContent:"center"},children:re?n("div",{style:{width:W,height:W}}):h("div",{className:"hand-clock-wrapper",style:{position:"relative",width:W,height:W},children:[n(xs,{size:W,time:v,sessions:i,handColor:Ce,clockStyle:t,showSessionNamesInCanvas:m,activeSession:N,backgroundBasedOnSession:D,renderHandsInCanvas:!1,handAnglesRef:te}),n($s,{size:W,handAnglesRef:te,handColor:Ce,time:v}),ne?n(Ns,{size:W,timezone:l,eventFilters:V,newsSource:X,onEventClick:pe,onLoadingStateChange:E?xe:void 0}):null]})}),T&&!re&&n(zs,{time:v,clockSize:W,textColor:Ce}),z&&!re&&n(Ws,{activeSession:N,showTimeToEnd:P,timeToEnd:f,showTimeToStart:x,nextSession:L,timeToStart:k,clockSize:W})]}),n(oi,{open:j,onClose:()=>A(!1)}),n(hi,{open:Q,onClose:me,autoScrollRequest:ue,onOpenAuth:()=>A(!0),onOpenSettings:()=>A(!0)})]})]})}export{wi as default};
