import{g as xt,a as vt,r as s,u as Dt,j as n,s as Pe,c as Je,b as Ne,d as St,P as Ze,m as Fe,e as tn,f as _o,h as $t,C as Xo,i as nt,k as h,I as _e,l as He,B as Go,n as ko,o as Tn,p as Co,q as Gt,t as Qo,v as Zo,w as Rn,x as _n,y as yn,z as Io,A as Lt,D as Pn,E as Kn,F as nn,G as Jo,H as To,T as Po,J as At,K as Ht,L as on,M as Mo,N as Do,O as Ao,Q as N,R as lt,S as Mn,U as _,V as er,W as ct,X as ut,Y as tr,Z as mt,_ as Eo,$ as nr,a0 as or,a1 as rr,a2 as ar,a3 as Xn,a4 as Ro,a5 as Gn,a6 as Qn,a7 as sr,a8 as ir,a9 as Zn,aa as Jn,ab as lr,ac as cr,ad as dr,ae as Dn,af as xn,ag as Ln,ah as ur}from"./index-XD017Ux3.js";import{u as pr,P as qn,S as Lo,g as Zt,N as vn,a as eo,b as to,f as No,F as no,c as kn,D as Mt,T as yt,d as Wn,s as Bn,e as fr,h as Et,i as qt,j as Rt,k as Yt,C as hr,l as Ut,M as Nn,m as $o,I as $n,n as mr,o as gr,p as br,q as yr,r as en,t as st,v as oo,w as xr,x as vr,y as Sr,z as wr,R as kr,A as Cr,E as Ir,B as Tr,G as Pr}from"./EventsTable-3lFdCGq0.js";import{S as it,C as Fn,B as Re,L as Mr}from"./CheckCircle-L9Op5omW.js";import{u as Jt,s as Dr,A as Ar,C as Hn,f as Wt,i as Nt,o as ro,a as zn,b as Er,m as Rr,M as Lr,c as Sn,d as Tt,T as ot}from"./TextField-CNKW704z.js";import{L as Nr,a as $r}from"./ListItemText-ZBraA32D.js";import"./listItemIconClasses-B7QrIPOo.js";function zr(e){return xt("MuiAppBar",e)}vt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Or=e=>{const{color:t,position:o,classes:r}=e,i={root:["root",`color${Ne(t)}`,`position${Ne(o)}`]};return St(i,zr,r)},ao=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,Wr=Pe(Ze,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`position${Ne(o.position)}`],t[`color${Ne(o.color)}`]]}})(Fe(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(tn(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?ao(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?ao(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),Br=s.forwardRef(function(t,o){const r=Dt({props:t,name:"MuiAppBar"}),{className:i,color:l="primary",enableColorOnDark:c=!1,position:d="fixed",...a}=r,p={...r,color:l,position:d,enableColorOnDark:c},u=Or(p);return n(Wr,{square:!0,component:"header",ownerState:p,elevation:4,className:Je(u.root,i,d==="fixed"&&"mui-fixed"),ref:o,...a})});function so({array1:e,array2:t,parser:o=r=>r}){return e&&t&&e.length===t.length&&e.every((r,i)=>o(r)===o(t[i]))}function io(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Fr(e={}){const{ignoreAccents:t=!0,ignoreCase:o=!0,limit:r,matchFrom:i="any",stringify:l,trim:c=!1}=e;return(d,{inputValue:a,getOptionLabel:p})=>{let u=c?a.trim():a;o&&(u=u.toLowerCase()),t&&(u=io(u));const P=u?d.filter(D=>{let T=(l||p)(D);return o&&(T=T.toLowerCase()),t&&(T=io(T)),i==="start"?T.startsWith(u):T.includes(u)}):d;return typeof r=="number"?P.slice(0,r):P}}const Hr=Fr(),Ur=5,Vr=e=>{var t;return e.current!==null&&((t=e.current.parentElement)==null?void 0:t.contains(document.activeElement))},Kr=[];function lo(e,t,o,r){if(t||e==null||r)return"";const i=o(e);return typeof i=="string"?i:""}function qr(e){const{unstable_isActiveElementInListbox:t=Vr,unstable_classNamePrefix:o="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:l=!1,blurOnSelect:c=!1,clearOnBlur:d=!e.freeSolo,clearOnEscape:a=!1,componentName:p="useAutocomplete",defaultValue:u=e.multiple?Kr:null,disableClearable:P=!1,disableCloseOnSelect:D=!1,disabled:T,disabledItemsFocusable:E=!1,disableListWrap:I=!1,filterOptions:$=Hr,filterSelectedOptions:R=!1,freeSolo:j=!1,getOptionDisabled:b,getOptionKey:M,getOptionLabel:k=y=>y.label??y,groupBy:w,handleHomeEndKeys:q=!e.freeSolo,id:m,includeInputInList:ne=!1,inputValue:F,isOptionEqualToValue:X=(y,g)=>y===g,multiple:C=!1,onChange:z,onClose:O,onHighlightChange:ee,onInputChange:f,onOpen:G,open:S,openOnFocus:Z=!1,options:se,readOnly:A=!1,renderValue:re,selectOnFocus:xe=!e.freeSolo,value:ve}=e,Q=_o(m);let Y=k;Y=y=>{const g=k(y);return typeof g!="string"?String(g):g};const he=s.useRef(!1),ke=s.useRef(!0),H=s.useRef(null),ie=s.useRef(null),[te,ce]=s.useState(null),[de,Se]=s.useState(-1),Ae=i?0:-1,pe=s.useRef(Ae),Me=s.useRef(lo(u??ve,C,Y)).current,[B,be]=Jt({controlled:ve,default:u,name:p}),[ae,Ee]=Jt({controlled:F,default:Me,name:p,state:"inputValue"}),[$e,ze]=s.useState(!1),we=s.useCallback((y,g,J)=>{if(!(C?B.length<g.length:g!==null)&&!d)return;const ge=lo(g,C,Y,re);ae!==ge&&(Ee(ge),f&&f(y,ge,J))},[Y,ae,C,f,Ee,d,B,re]),[v,L]=Jt({controlled:S,default:!1,name:p,state:"open"}),[U,oe]=s.useState(!0),fe=!C&&B!=null&&ae===Y(B),x=v&&!A,V=x?$(se.filter(y=>!(R&&(C?B:[B]).some(g=>g!==null&&X(y,g)))),{inputValue:fe&&U?"":ae,getOptionLabel:Y}):[],le=pr({filteredOptions:V,value:B,inputValue:ae});s.useEffect(()=>{const y=B!==le.value;$e&&!y||j&&!y||we(null,B,"reset")},[B,we,$e,le.value,j]);const Ce=v&&V.length>0&&!A,Le=$t(y=>{if(y===-1)H.current.focus();else{const g=re?"data-item-index":"data-tag-index";te.querySelector(`[${g}="${y}"]`).focus()}});s.useEffect(()=>{C&&de>B.length-1&&(Se(-1),Le(-1))},[B,C,de,Le]);function et(y,g){if(!ie.current||y<0||y>=V.length)return-1;let J=y;for(;;){const ue=ie.current.querySelector(`[data-option-index="${J}"]`),ge=E?!1:!ue||ue.disabled||ue.getAttribute("aria-disabled")==="true";if(ue&&ue.hasAttribute("tabindex")&&!ge)return J;if(g==="next"?J=(J+1)%V.length:J=(J-1+V.length)%V.length,J===y)return-1}}const Xe=$t(({event:y,index:g,reason:J})=>{if(pe.current=g,g===-1?H.current.removeAttribute("aria-activedescendant"):H.current.setAttribute("aria-activedescendant",`${Q}-option-${g}`),ee&&["mouse","keyboard","touch"].includes(J)&&ee(y,g===-1?null:V[g],J),!ie.current)return;const ue=ie.current.querySelector(`[role="option"].${o}-focused`);ue&&(ue.classList.remove(`${o}-focused`),ue.classList.remove(`${o}-focusVisible`));let ge=ie.current;if(ie.current.getAttribute("role")!=="listbox"&&(ge=ie.current.parentElement.querySelector('[role="listbox"]')),!ge)return;if(g===-1){ge.scrollTop=0;return}const je=ie.current.querySelector(`[data-option-index="${g}"]`);if(je&&(je.classList.add(`${o}-focused`),J==="keyboard"&&je.classList.add(`${o}-focusVisible`),ge.scrollHeight>ge.clientHeight&&J!=="mouse"&&J!=="touch")){const Be=je,ft=ge.clientHeight+ge.scrollTop,ln=Be.offsetTop+Be.offsetHeight;ln>ft?ge.scrollTop=ln-ge.clientHeight:Be.offsetTop-Be.offsetHeight*(w?1.3:0)<ge.scrollTop&&(ge.scrollTop=Be.offsetTop-Be.offsetHeight*(w?1.3:0))}}),Ge=$t(({event:y,diff:g,direction:J="next",reason:ue})=>{if(!x)return;const je=et((()=>{const Be=V.length-1;if(g==="reset")return Ae;if(g==="start")return 0;if(g==="end")return Be;const ft=pe.current+g;return ft<0?ft===-1&&ne?-1:I&&pe.current!==-1||Math.abs(g)>1?0:Be:ft>Be?ft===Be+1&&ne?-1:I||Math.abs(g)>1?Be:0:ft})(),J);if(Xe({index:je,reason:ue,event:y}),r&&g!=="reset")if(je===-1)H.current.value=ae;else{const Be=Y(V[je]);H.current.value=Be,Be.toLowerCase().indexOf(ae.toLowerCase())===0&&ae.length>0&&H.current.setSelectionRange(ae.length,Be.length)}}),wt=!so({array1:le.filteredOptions,array2:V,parser:Y}),bt=()=>{const y=(g,J)=>{const ue=g?Y(g):"",ge=J?Y(J):"";return ue===ge};if(pe.current!==-1&&!so({array1:le.filteredOptions,array2:V,parser:Y})&&le.inputValue===ae&&(C?B.length===le.value.length&&le.value.every((g,J)=>Y(B[J])===Y(g)):y(le.value,B))){const g=le.filteredOptions[pe.current];if(g)return V.findIndex(J=>Y(J)===Y(g))}return-1},pt=s.useCallback(()=>{if(!x)return;const y=bt();if(y!==-1){pe.current=y;return}const g=C?B[0]:B;if(V.length===0||g==null){Ge({diff:"reset"});return}if(ie.current){if(g!=null){const J=V[pe.current];if(C&&J&&B.findIndex(ge=>X(J,ge))!==-1)return;const ue=V.findIndex(ge=>X(ge,g));ue===-1?Ge({diff:"reset"}):Xe({index:ue});return}if(pe.current>=V.length-1){Xe({index:V.length-1});return}Xe({index:pe.current})}},[V.length,C?!1:B,R,Ge,Xe,x,ae,C]),at=$t(y=>{Dr(ie,y),y&&pt()});s.useEffect(()=>{(wt||x)&&pt()},[pt,wt,x]);const Ie=y=>{v||(L(!0),oe(!0),G&&G(y))},W=(y,g)=>{v&&(L(!1),O&&O(y,g))},K=(y,g,J,ue)=>{if(C){if(B.length===g.length&&B.every((ge,je)=>ge===g[je]))return}else if(B===g)return;z&&z(y,g,J,ue),be(g)},me=s.useRef(!1),Te=(y,g,J="selectOption",ue="options")=>{let ge=J,je=g;if(C){je=Array.isArray(B)?B.slice():[];const Be=je.findIndex(ft=>X(g,ft));Be===-1?je.push(g):ue!=="freeSolo"&&(je.splice(Be,1),ge="removeOption")}we(y,je,ge),K(y,je,ge,{option:g}),!D&&(!y||!y.ctrlKey&&!y.metaKey)&&W(y,ge),(c===!0||c==="touch"&&me.current||c==="mouse"&&!me.current)&&H.current.blur()};function Qe(y,g){if(y===-1)return-1;let J=y;for(;;){if(g==="next"&&J===B.length||g==="previous"&&J===-1)return-1;const ue=re?"data-item-index":"data-tag-index",ge=te.querySelector(`[${ue}="${J}"]`);if(!ge||!ge.hasAttribute("tabindex")||ge.disabled||ge.getAttribute("aria-disabled")==="true")J+=g==="next"?1:-1;else return J}}const Ue=(y,g)=>{if(!C)return;ae===""&&W(y,"toggleInput");let J=de;de===-1?ae===""&&g==="previous"&&(J=B.length-1):(J+=g==="next"?1:-1,J<0&&(J=0),J===B.length&&(J=-1)),J=Qe(J,g),Se(J),Le(J)},Oe=y=>{he.current=!0,Ee(""),f&&f(y,"","clear"),K(y,C?[]:null,"clear")},Ke=y=>g=>{if(y.onKeyDown&&y.onKeyDown(g),!g.defaultMuiPrevented&&(de!==-1&&!["ArrowLeft","ArrowRight"].includes(g.key)&&(Se(-1),Le(-1)),g.which!==229))switch(g.key){case"Home":x&&q&&(g.preventDefault(),Ge({diff:"start",direction:"next",reason:"keyboard",event:g}));break;case"End":x&&q&&(g.preventDefault(),Ge({diff:"end",direction:"previous",reason:"keyboard",event:g}));break;case"PageUp":g.preventDefault(),Ge({diff:-5,direction:"previous",reason:"keyboard",event:g}),Ie(g);break;case"PageDown":g.preventDefault(),Ge({diff:Ur,direction:"next",reason:"keyboard",event:g}),Ie(g);break;case"ArrowDown":g.preventDefault(),Ge({diff:1,direction:"next",reason:"keyboard",event:g}),Ie(g);break;case"ArrowUp":g.preventDefault(),Ge({diff:-1,direction:"previous",reason:"keyboard",event:g}),Ie(g);break;case"ArrowLeft":!C&&re?Le(0):Ue(g,"previous");break;case"ArrowRight":!C&&re?Le(-1):Ue(g,"next");break;case"Enter":if(pe.current!==-1&&x){const J=V[pe.current],ue=b?b(J):!1;if(g.preventDefault(),ue)return;Te(g,J,"selectOption"),r&&H.current.setSelectionRange(H.current.value.length,H.current.value.length)}else j&&ae!==""&&fe===!1&&(C&&g.preventDefault(),Te(g,ae,"createOption","freeSolo"));break;case"Escape":x?(g.preventDefault(),g.stopPropagation(),W(g,"escape")):a&&(ae!==""||C&&B.length>0||re)&&(g.preventDefault(),g.stopPropagation(),Oe(g));break;case"Backspace":if(C&&!A&&ae===""&&B.length>0){const J=de===-1?B.length-1:de,ue=B.slice();ue.splice(J,1),K(g,ue,"removeOption",{option:B[J]})}!C&&re&&!A&&(be(null),Le(-1));break;case"Delete":if(C&&!A&&ae===""&&B.length>0&&de!==-1){const J=de,ue=B.slice();ue.splice(J,1),K(g,ue,"removeOption",{option:B[J]})}!C&&re&&!A&&(be(null),Le(-1));break}},We=y=>{ze(!0),Z&&!he.current&&Ie(y)},rt=y=>{if(t(ie)){H.current.focus();return}ze(!1),ke.current=!0,he.current=!1,l&&pe.current!==-1&&x?Te(y,V[pe.current],"blur"):l&&j&&ae!==""?Te(y,ae,"blur","freeSolo"):d&&we(y,B,"blur"),W(y,"blur")},qe=y=>{const g=y.target.value;ae!==g&&(Ee(g),oe(!1),f&&f(y,g,"input")),g===""?!P&&!C&&K(y,null,"clear"):Ie(y)},zt=y=>{const g=Number(y.currentTarget.getAttribute("data-option-index"));pe.current!==g&&Xe({event:y,index:g,reason:"mouse"})},Ot=y=>{Xe({event:y,index:Number(y.currentTarget.getAttribute("data-option-index")),reason:"touch"}),me.current=!0},an=y=>{const g=Number(y.currentTarget.getAttribute("data-option-index"));Te(y,V[g],"selectOption"),me.current=!1},An=y=>g=>{const J=B.slice();J.splice(y,1),K(g,J,"removeOption",{option:B[y]})},jt=y=>{K(y,null,"removeOption",{option:B})},Ve=y=>{v?W(y,"toggleInput"):Ie(y)},Ye=y=>{y.currentTarget.contains(y.target)&&y.target.getAttribute("id")!==Q&&y.preventDefault()},kt=y=>{y.currentTarget.contains(y.target)&&(H.current.focus(),xe&&ke.current&&H.current.selectionEnd-H.current.selectionStart===0&&H.current.select(),ke.current=!1)},En=y=>{!T&&(ae===""||!v)&&Ve(y)};let _t=j&&ae.length>0;_t=_t||(C?B.length>0:B!==null);let sn=V;return w&&(sn=V.reduce((y,g,J)=>{const ue=w(g);return y.length>0&&y[y.length-1].group===ue?y[y.length-1].options.push(g):y.push({key:J,index:J,group:ue,options:[g]}),y},[])),T&&$e&&rt(),{getRootProps:(y={})=>({...y,onKeyDown:Ke(y),onMouseDown:Ye,onClick:kt}),getInputLabelProps:()=>({id:`${Q}-label`,htmlFor:Q}),getInputProps:()=>({id:Q,value:ae,onBlur:rt,onFocus:We,onChange:qe,onMouseDown:En,"aria-activedescendant":x?"":null,"aria-autocomplete":r?"both":"list","aria-controls":Ce?`${Q}-listbox`:void 0,"aria-expanded":Ce,autoComplete:"off",ref:H,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:T}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Oe}),getItemProps:({index:y=0}={})=>({...C&&{key:y},...re?{"data-item-index":y}:{"data-tag-index":y},tabIndex:-1,...!A&&{onDelete:C?An(y):jt}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Ve}),getTagProps:({index:y})=>({key:y,"data-tag-index":y,tabIndex:-1,...!A&&{onDelete:An(y)}}),getListboxProps:()=>({role:"listbox",id:`${Q}-listbox`,"aria-labelledby":`${Q}-label`,ref:at,onMouseDown:y=>{y.preventDefault()}}),getOptionProps:({index:y,option:g})=>{const J=(C?B:[B]).some(ge=>ge!=null&&X(g,ge)),ue=b?b(g):!1;return{key:(M==null?void 0:M(g))??Y(g),tabIndex:-1,role:"option",id:`${Q}-option-${y}`,onMouseMove:zt,onClick:an,onTouchStart:Ot,"data-option-index":y,"aria-disabled":ue,"aria-selected":J}},id:Q,inputValue:ae,value:B,dirty:_t,expanded:x&&te,popupOpen:x,focused:$e||de!==-1,anchorEl:te,setAnchorEl:ce,focusedItem:de,focusedTag:de,groupedOptions:sn}}function Yr(e){return xt("MuiListSubheader",e)}vt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const jr=e=>{const{classes:t,color:o,disableGutters:r,inset:i,disableSticky:l}=e,c={root:["root",o!=="default"&&`color${Ne(o)}`,!r&&"gutters",i&&"inset",!l&&"sticky"]};return St(c,Yr,t)},_r=Pe("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.color!=="default"&&t[`color${Ne(o.color)}`],!o.disableGutters&&t.gutters,o.inset&&t.inset,!o.disableSticky&&t.sticky]}})(Fe(({theme:e})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(e.vars||e).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:72}},{props:({ownerState:t})=>!t.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}}]}))),Un=s.forwardRef(function(t,o){const r=Dt({props:t,name:"MuiListSubheader"}),{className:i,color:l="default",component:c="li",disableGutters:d=!1,disableSticky:a=!1,inset:p=!1,...u}=r,P={...r,color:l,component:c,disableGutters:d,disableSticky:a,inset:p},D=jr(P);return n(_r,{as:c,className:Je(D.root,i),ref:o,ownerState:P,...u})});Un&&(Un.muiSkipListHighlight=!0);function Xr(e){return xt("MuiAutocomplete",e)}const ye=vt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var co,uo;const Gr=e=>{const{classes:t,disablePortal:o,expanded:r,focused:i,fullWidth:l,hasClearIcon:c,hasPopupIcon:d,inputFocused:a,popupOpen:p,size:u}=e,P={root:["root",r&&"expanded",i&&"focused",l&&"fullWidth",c&&"hasClearIcon",d&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",a&&"inputFocused"],tag:["tag",`tagSize${Ne(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",p&&"popupIndicatorOpen"],popper:["popper",o&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return St(P,Xr,t)},Qr=Pe("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e,{fullWidth:r,hasClearIcon:i,hasPopupIcon:l,inputFocused:c,size:d}=o;return[{[`& .${ye.tag}`]:t.tag},{[`& .${ye.tag}`]:t[`tagSize${Ne(d)}`]},{[`& .${ye.inputRoot}`]:t.inputRoot},{[`& .${ye.input}`]:t.input},{[`& .${ye.input}`]:c&&t.inputFocused},t.root,r&&t.fullWidth,l&&t.hasPopupIcon,i&&t.hasClearIcon]}})({[`&.${ye.focused} .${ye.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${ye.clearIndicator}`]:{visibility:"visible"}},[`& .${ye.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${ye.inputRoot}`]:{[`.${ye.hasPopupIcon}&, .${ye.hasClearIcon}&`]:{paddingRight:30},[`.${ye.hasPopupIcon}.${ye.hasClearIcon}&`]:{paddingRight:56},[`& .${ye.input}`]:{width:0,minWidth:30}},[`& .${zn.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${zn.root}.${Nt.sizeSmall}`]:{[`& .${zn.input}`]:{padding:"2px 4px 3px 0"}},[`& .${ro.root}`]:{padding:9,[`.${ye.hasPopupIcon}&, .${ye.hasClearIcon}&`]:{paddingRight:39},[`.${ye.hasPopupIcon}.${ye.hasClearIcon}&`]:{paddingRight:65},[`& .${ye.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${ye.endAdornment}`]:{right:9}},[`& .${ro.root}.${Nt.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${ye.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Wt.root}`]:{paddingTop:19,paddingLeft:8,[`.${ye.hasPopupIcon}&, .${ye.hasClearIcon}&`]:{paddingRight:39},[`.${ye.hasPopupIcon}.${ye.hasClearIcon}&`]:{paddingRight:65},[`& .${Wt.input}`]:{padding:"7px 4px"},[`& .${ye.endAdornment}`]:{right:9}},[`& .${Wt.root}.${Nt.sizeSmall}`]:{paddingBottom:1,[`& .${Wt.input}`]:{padding:"2.5px 4px"}},[`& .${Nt.hiddenLabel}`]:{paddingTop:8},[`& .${Wt.root}.${Nt.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${ye.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Wt.root}.${Nt.hiddenLabel}.${Nt.sizeSmall}`]:{[`& .${ye.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${ye.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${ye.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${ye.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${ye.inputRoot}`]:{flexWrap:"wrap"}}}]}),Zr=Pe("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),Jr=Pe(_e,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),ea=Pe(_e,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.popupIndicator,o.popupOpen&&t.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),ta=Pe(qn,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${ye.option}`]:t.option},t.popper,o.disablePortal&&t.popperDisablePortal]}})(Fe(({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),na=Pe(Ze,{name:"MuiAutocomplete",slot:"Paper"})(Fe(({theme:e})=>({...e.typography.body1,overflow:"auto"}))),oa=Pe("div",{name:"MuiAutocomplete",slot:"Loading"})(Fe(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),ra=Pe("div",{name:"MuiAutocomplete",slot:"NoOptions"})(Fe(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),aa=Pe("ul",{name:"MuiAutocomplete",slot:"Listbox"})(Fe(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${ye.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${ye.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${ye.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${ye.focused}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${ye.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}}}))),sa=Pe(Un,{name:"MuiAutocomplete",slot:"GroupLabel"})(Fe(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),ia=Pe("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${ye.option}`]:{paddingLeft:24}}),la=s.forwardRef(function(t,o){const r=Dt({props:t,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:l=!1,autoSelect:c=!1,blurOnSelect:d=!1,ChipProps:a,className:p,clearIcon:u=co||(co=n(Xo,{fontSize:"small"})),clearOnBlur:P=!r.freeSolo,clearOnEscape:D=!1,clearText:T="Clear",closeText:E="Close",componentsProps:I,defaultValue:$=r.multiple?[]:null,disableClearable:R=!1,disableCloseOnSelect:j=!1,disabled:b=!1,disabledItemsFocusable:M=!1,disableListWrap:k=!1,disablePortal:w=!1,filterOptions:q,filterSelectedOptions:m=!1,forcePopupIcon:ne="auto",freeSolo:F=!1,fullWidth:X=!1,getLimitTagsText:C=De=>`+${De}`,getOptionDisabled:z,getOptionKey:O,getOptionLabel:ee,isOptionEqualToValue:f,groupBy:G,handleHomeEndKeys:S=!r.freeSolo,id:Z,includeInputInList:se=!1,inputValue:A,limitTags:re=-1,ListboxComponent:xe,ListboxProps:ve,loading:Q=!1,loadingText:Y="Loadingâ€¦",multiple:he=!1,noOptionsText:ke="No options",onChange:H,onClose:ie,onHighlightChange:te,onInputChange:ce,onOpen:de,open:Se,openOnFocus:Ae=!1,openText:pe="Open",options:Me,PaperComponent:B,PopperComponent:be,popupIcon:ae=uo||(uo=n(Ar,{})),readOnly:Ee=!1,renderGroup:$e,renderInput:ze,renderOption:we,renderTags:v,renderValue:L,selectOnFocus:U=!r.freeSolo,size:oe="medium",slots:fe={},slotProps:x={},value:V,...le}=r,{getRootProps:Ce,getInputProps:Le,getInputLabelProps:et,getPopupIndicatorProps:Xe,getClearProps:Ge,getItemProps:wt,getListboxProps:bt,getOptionProps:pt,value:at,dirty:Ie,expanded:W,id:K,popupOpen:me,focused:Te,focusedItem:Qe,anchorEl:Ue,setAnchorEl:Oe,inputValue:Ke,groupedOptions:We}=qr({...r,componentName:"Autocomplete"}),rt=!R&&!b&&Ie&&!Ee,qe=(!F||ne===!0)&&ne!==!1,{onMouseDown:zt}=Le(),{ref:Ot,...an}=bt(),jt=ee||(De=>De.label??De),Ve={...r,disablePortal:w,expanded:W,focused:Te,fullWidth:X,getOptionLabel:jt,hasClearIcon:rt,hasPopupIcon:qe,inputFocused:Qe===-1,popupOpen:me,size:oe},Ye=Gr(Ve),kt={slots:{paper:B,popper:be,...fe},slotProps:{chip:a,listbox:ve,...I,...x}},[En,_t]=nt("listbox",{elementType:aa,externalForwardedProps:kt,ownerState:Ve,className:Ye.listbox,additionalProps:an,ref:Ot}),[sn,y]=nt("paper",{elementType:Ze,externalForwardedProps:kt,ownerState:Ve,className:Ye.paper}),[g,J]=nt("popper",{elementType:qn,externalForwardedProps:kt,ownerState:Ve,className:Ye.popper,additionalProps:{disablePortal:w,style:{width:Ue?Ue.clientWidth:null},role:"presentation",anchorEl:Ue,open:me}});let ue;const ge=De=>({className:Ye.tag,disabled:b,...wt(De)});if(he?at.length>0&&(v?ue=v(at,ge,Ve):L?ue=L(at,ge,Ve):ue=at.map((De,Ct)=>{const{key:It,...Xt}=ge({index:Ct});return n(Hn,{label:jt(De),size:oe,...Xt,...kt.slotProps.chip},It)})):L&&at!=null&&(ue=L(at,ge,Ve)),re>-1&&Array.isArray(ue)){const De=ue.length-re;!Te&&De>0&&(ue=ue.splice(0,re),ue.push(n("span",{className:Ye.tag,children:C(De)},ue.length)))}const Be=$e||(De=>h("li",{children:[n(sa,{className:Ye.groupLabel,ownerState:Ve,component:"div",children:De.group}),n(ia,{className:Ye.groupUl,ownerState:Ve,children:De.children})]},De.key)),ln=we||((De,Ct)=>{const{key:It,...Xt}=De;return n("li",{...Xt,children:jt(Ct)},It)}),jn=(De,Ct)=>{const It=pt({option:De,index:Ct});return ln({...It,className:Ye.option},De,{selected:It["aria-selected"],index:Ct,inputValue:Ke},Ve)},cn=kt.slotProps.clearIndicator,dn=kt.slotProps.popupIndicator;return h(s.Fragment,{children:[n(Qr,{ref:o,className:Je(Ye.root,p),ownerState:Ve,...Ce(le),children:ze({id:K,disabled:b,fullWidth:!0,size:oe==="small"?"small":void 0,InputLabelProps:et(),InputProps:{ref:Oe,className:Ye.inputRoot,startAdornment:ue,onMouseDown:De=>{De.target===De.currentTarget&&zt(De)},...(rt||qe)&&{endAdornment:h(Zr,{className:Ye.endAdornment,ownerState:Ve,children:[rt?n(Jr,{...Ge(),"aria-label":T,title:T,ownerState:Ve,...cn,className:Je(Ye.clearIndicator,cn==null?void 0:cn.className),children:u}):null,qe?n(ea,{...Xe(),disabled:b,"aria-label":me?E:pe,title:me?E:pe,ownerState:Ve,...dn,className:Je(Ye.popupIndicator,dn==null?void 0:dn.className),children:ae}):null]})}},inputProps:{className:Ye.input,disabled:b,readOnly:Ee,...Le()}})}),Ue?n(ta,{as:g,...J,children:h(na,{as:sn,...y,children:[Q&&We.length===0?n(oa,{className:Ye.loading,ownerState:Ve,children:Y}):null,We.length===0&&!F&&!Q?n(ra,{className:Ye.noOptions,ownerState:Ve,role:"presentation",onMouseDown:De=>{De.preventDefault()},children:ke}):null,We.length>0?n(En,{as:xe,..._t,children:We.map((De,Ct)=>G?Be({key:De.key,group:De.group,children:De.options.map((It,Xt)=>jn(It,De.index+Xt))}):jn(De,Ct))}):null]})}):null]})}),ca=He(n("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function da(e){return xt("MuiAvatar",e)}vt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const ua=e=>{const{classes:t,variant:o,colorDefault:r}=e;return St({root:["root",o,r&&"colorDefault"],img:["img"],fallback:["fallback"]},da,t)},pa=Pe("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],o.colorDefault&&t.colorDefault]}})(Fe(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(e.vars||e).palette.background.default,...e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.grey[400],...e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})}}}]}))),fa=Pe("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),ha=Pe(ca,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function ma({crossOrigin:e,referrerPolicy:t,src:o,srcSet:r}){const[i,l]=s.useState(!1);return s.useEffect(()=>{if(!o&&!r)return;l(!1);let c=!0;const d=new Image;return d.onload=()=>{c&&l("loaded")},d.onerror=()=>{c&&l("error")},d.crossOrigin=e,d.referrerPolicy=t,d.src=o,r&&(d.srcset=r),()=>{c=!1}},[e,t,o,r]),i}const Cn=s.forwardRef(function(t,o){const r=Dt({props:t,name:"MuiAvatar"}),{alt:i,children:l,className:c,component:d="div",slots:a={},slotProps:p={},imgProps:u,sizes:P,src:D,srcSet:T,variant:E="circular",...I}=r;let $=null;const R={...r,component:d,variant:E},j=ma({...u,...typeof p.img=="function"?p.img(R):p.img,src:D,srcSet:T}),b=D||T,M=b&&j!=="error";R.colorDefault=!M,delete R.ownerState;const k=ua(R),[w,q]=nt("root",{ref:o,className:Je(k.root,c),elementType:pa,externalForwardedProps:{slots:a,slotProps:p,component:d,...I},ownerState:R}),[m,ne]=nt("img",{className:k.img,elementType:fa,externalForwardedProps:{slots:a,slotProps:{img:{...u,...p.img}}},additionalProps:{alt:i,src:D,srcSet:T,sizes:P},ownerState:R}),[F,X]=nt("fallback",{className:k.fallback,elementType:ha,externalForwardedProps:{slots:a,slotProps:p},shouldForwardComponentProp:!0,ownerState:R});return M?$=n(m,{...ne}):l||l===0?$=l:b&&i?$=i[0]:$=n(F,{...X}),n(w,{...q,children:$})});function ga(e){return xt("MuiCardActions",e)}vt("MuiCardActions",["root","spacing"]);const ba=e=>{const{classes:t,disableSpacing:o}=e;return St({root:["root",!o&&"spacing"]},ga,t)},ya=Pe("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),xa=s.forwardRef(function(t,o){const r=Dt({props:t,name:"MuiCardActions"}),{disableSpacing:i=!1,className:l,...c}=r,d={...r,disableSpacing:i},a=ba(d);return n(ya,{className:Je(a.root,l),ownerState:d,ref:o,...c})});function va(e){return xt("PrivateSwitchBase",e)}vt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Sa=e=>{const{classes:t,checked:o,disabled:r,edge:i}=e,l={root:["root",o&&"checked",r&&"disabled",i&&`edge${Ne(i)}`],input:["input"]};return St(l,va,t)},wa=Pe(Go,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),ka=Pe("input",{name:"MuiSwitchBase",shouldForwardProp:ko})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Ca=s.forwardRef(function(t,o){const{autoFocus:r,checked:i,checkedIcon:l,defaultChecked:c,disabled:d,disableFocusRipple:a=!1,edge:p=!1,icon:u,id:P,inputProps:D,inputRef:T,name:E,onBlur:I,onChange:$,onFocus:R,readOnly:j,required:b=!1,tabIndex:M,type:k,value:w,slots:q={},slotProps:m={},...ne}=t,[F,X]=Jt({controlled:i,default:!!c,name:"SwitchBase",state:"checked"}),C=Er(),z=Q=>{R&&R(Q),C&&C.onFocus&&C.onFocus(Q)},O=Q=>{I&&I(Q),C&&C.onBlur&&C.onBlur(Q)},ee=Q=>{if(Q.nativeEvent.defaultPrevented)return;const Y=Q.target.checked;X(Y),$&&$(Q,Y)};let f=d;C&&typeof f>"u"&&(f=C.disabled);const G=k==="checkbox"||k==="radio",S={...t,checked:F,disabled:f,disableFocusRipple:a,edge:p},Z=Sa(S),se={slots:q,slotProps:{input:D,...m}},[A,re]=nt("root",{ref:o,elementType:wa,className:Z.root,shouldForwardComponentProp:!0,externalForwardedProps:{...se,component:"span",...ne},getSlotProps:Q=>({...Q,onFocus:Y=>{var he;(he=Q.onFocus)==null||he.call(Q,Y),z(Y)},onBlur:Y=>{var he;(he=Q.onBlur)==null||he.call(Q,Y),O(Y)}}),ownerState:S,additionalProps:{centerRipple:!0,focusRipple:!a,disabled:f,role:void 0,tabIndex:null}}),[xe,ve]=nt("input",{ref:T,elementType:ka,className:Z.input,externalForwardedProps:se,getSlotProps:Q=>({...Q,onChange:Y=>{var he;(he=Q.onChange)==null||he.call(Q,Y),ee(Y)}}),ownerState:S,additionalProps:{autoFocus:r,checked:i,defaultChecked:c,disabled:f,id:G?P:void 0,name:E,readOnly:j,required:b,tabIndex:M,type:k,...k==="checkbox"&&w===void 0?{}:{value:w}}});return h(A,{...re,children:[n(xe,{...ve}),F?l:u]})});function Ia(e){return xt("MuiDrawer",e)}vt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const zo=(e,t)=>{const{ownerState:o}=e;return[t.root,(o.variant==="permanent"||o.variant==="persistent")&&t.docked,t.modal]},Ta=e=>{const{classes:t,anchor:o,variant:r}=e,i={root:["root",`anchor${Ne(o)}`],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Ne(o)}`,r!=="temporary"&&`paperAnchorDocked${Ne(o)}`]};return St(i,Ia,t)},Pa=Pe(Lr,{name:"MuiDrawer",slot:"Root",overridesResolver:zo})(Fe(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer}))),Ma=Pe("div",{shouldForwardProp:ko,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:zo})({flex:"0 0 auto"}),Da=Pe(Ze,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.paper,t[`paperAnchor${Ne(o.anchor)}`],o.variant!=="temporary"&&t[`paperAnchorDocked${Ne(o.anchor)}`]]}})(Fe(({theme:e})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:t})=>t.anchor==="left"&&t.variant!=="temporary",style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="top"&&t.variant!=="temporary",style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="right"&&t.variant!=="temporary",style:{borderLeft:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="bottom"&&t.variant!=="temporary",style:{borderTop:`1px solid ${(e.vars||e).palette.divider}`}}]}))),Oo={left:"right",right:"left",top:"down",bottom:"up"};function Aa(e){return["left","right"].includes(e)}function Ea({direction:e},t){return e==="rtl"&&Aa(t)?Oo[t]:t}const Ra=s.forwardRef(function(t,o){const r=Dt({props:t,name:"MuiDrawer"}),i=Tn(),l=Co(),c={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:d="left",BackdropProps:a,children:p,className:u,elevation:P=16,hideBackdrop:D=!1,ModalProps:{BackdropProps:T,...E}={},onClose:I,open:$=!1,PaperProps:R={},SlideProps:j,TransitionComponent:b,transitionDuration:M=c,variant:k="temporary",slots:w={},slotProps:q={},...m}=r,ne=s.useRef(!1);s.useEffect(()=>{ne.current=!0},[]);const F=Ea({direction:l?"rtl":"ltr"},d),C={...r,anchor:d,elevation:P,open:$,variant:k,...m},z=Ta(C),O={slots:{transition:b,...w},slotProps:{paper:R,transition:j,...q,backdrop:Rr(q.backdrop||{...a,...T},{transitionDuration:M})}},[ee,f]=nt("root",{ref:o,elementType:Pa,className:Je(z.root,z.modal,u),shouldForwardComponentProp:!0,ownerState:C,externalForwardedProps:{...O,...m,...E},additionalProps:{open:$,onClose:I,hideBackdrop:D,slots:{backdrop:O.slots.backdrop},slotProps:{backdrop:O.slotProps.backdrop}}}),[G,S]=nt("paper",{elementType:Da,shouldForwardComponentProp:!0,className:Je(z.paper,R.className),ownerState:C,externalForwardedProps:O,additionalProps:{elevation:k==="temporary"?P:0,square:!0,...k==="temporary"&&{role:"dialog","aria-modal":"true"}}}),[Z,se]=nt("docked",{elementType:Ma,ref:o,className:Je(z.root,z.docked,u),ownerState:C,externalForwardedProps:O,additionalProps:m}),[A,re]=nt("transition",{elementType:Lo,ownerState:C,externalForwardedProps:O,additionalProps:{in:$,direction:Oo[F],timeout:M,appear:ne.current}}),xe=n(G,{...S,children:p});if(k==="permanent")return n(Z,{...se,children:xe});const ve=n(A,{...re,children:xe});return k==="persistent"?n(Z,{...se,children:ve}):n(ee,{...f,children:ve})}),La={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Na(e,t,o=(r,i)=>r===i){return e.length===t.length&&e.every((r,i)=>o(r,t[i]))}const $a=2;function Bt(e,t,o,r,i){return o===1?Math.min(e+t,i):Math.max(e-t,r)}function Wo(e,t){return e-t}function po(e,t){const{index:o}=e.reduce((r,i,l)=>{const c=Math.abs(t-i);return r===null||c<r.distance||c===r.distance?{distance:c,index:l}:r},null)??{};return o}function un(e,t){if(t.current!==void 0&&e.changedTouches){const o=e;for(let r=0;r<o.changedTouches.length;r+=1){const i=o.changedTouches[r];if(i.identifier===t.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function In(e,t,o){return(e-t)*100/(o-t)}function za(e,t,o){return(o-t)*e+t}function Oa(e){if(Math.abs(e)<1){const o=e.toExponential().split("e-"),r=o[0].split(".")[1];return(r?r.length:0)+parseInt(o[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function Wa(e,t,o){const r=Math.round((e-o)/t)*t+o;return Number(r.toFixed(Oa(t)))}function fo({values:e,newValue:t,index:o}){const r=e.slice();return r[o]=t,r.sort(Wo)}function pn({sliderRef:e,activeIndex:t,setActive:o}){var i,l,c;const r=Sn(e.current);(!((i=e.current)!=null&&i.contains(r.activeElement))||Number((l=r==null?void 0:r.activeElement)==null?void 0:l.getAttribute("data-index"))!==t)&&((c=e.current)==null||c.querySelector(`[type="range"][data-index="${t}"]`).focus()),o&&o(t)}function fn(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?Na(e,t):!1}const Ba={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},Fa=e=>e;let hn;function ho(){return hn===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?hn=CSS.supports("touch-action","none"):hn=!0),hn}function Ha(e){const{"aria-labelledby":t,defaultValue:o,disabled:r=!1,disableSwap:i=!1,isRtl:l=!1,marks:c=!1,max:d=100,min:a=0,name:p,onChange:u,onChangeCommitted:P,orientation:D="horizontal",rootRef:T,scale:E=Fa,step:I=1,shiftStep:$=10,tabIndex:R,value:j}=e,b=s.useRef(void 0),[M,k]=s.useState(-1),[w,q]=s.useState(-1),[m,ne]=s.useState(!1),F=s.useRef(0),X=s.useRef(null),[C,z]=Jt({controlled:j,default:o??a,name:"Slider"}),O=u&&((v,L,U)=>{const oe=v.nativeEvent||v,fe=new oe.constructor(oe.type,oe);Object.defineProperty(fe,"target",{writable:!0,value:{value:L,name:p}}),X.current=L,u(fe,L,U)}),ee=Array.isArray(C);let f=ee?C.slice().sort(Wo):[C];f=f.map(v=>v==null?a:Gt(v,a,d));const G=c===!0&&I!==null?[...Array(Math.floor((d-a)/I)+1)].map((v,L)=>({value:a+I*L})):c||[],S=G.map(v=>v.value),[Z,se]=s.useState(-1),A=s.useRef(null),re=Qo(T,A),xe=v=>L=>{var oe;const U=Number(L.currentTarget.getAttribute("data-index"));_n(L.target)&&se(U),q(U),(oe=v==null?void 0:v.onFocus)==null||oe.call(v,L)},ve=v=>L=>{var U;_n(L.target)||se(-1),q(-1),(U=v==null?void 0:v.onBlur)==null||U.call(v,L)},Q=(v,L)=>{const U=Number(v.currentTarget.getAttribute("data-index")),oe=f[U],fe=S.indexOf(oe);let x=L;if(G&&I==null){const V=S[S.length-1];x>=V?x=V:x<=S[0]?x=S[0]:x=x<oe?S[fe-1]:S[fe+1]}if(x=Gt(x,a,d),ee){i&&(x=Gt(x,f[U-1]||-1/0,f[U+1]||1/0));const V=x;x=fo({values:f,newValue:x,index:U});let le=U;i||(le=x.indexOf(V)),pn({sliderRef:A,activeIndex:le})}z(x),se(U),O&&!fn(x,C)&&O(v,x,U),P&&P(v,X.current??x)},Y=v=>L=>{var U;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(L.key)){L.preventDefault();const oe=Number(L.currentTarget.getAttribute("data-index")),fe=f[oe];let x=null;if(I!=null){const V=L.shiftKey?$:I;switch(L.key){case"ArrowUp":x=Bt(fe,V,1,a,d);break;case"ArrowRight":x=Bt(fe,V,l?-1:1,a,d);break;case"ArrowDown":x=Bt(fe,V,-1,a,d);break;case"ArrowLeft":x=Bt(fe,V,l?1:-1,a,d);break;case"PageUp":x=Bt(fe,$,1,a,d);break;case"PageDown":x=Bt(fe,$,-1,a,d);break;case"Home":x=a;break;case"End":x=d;break}}else if(G){const V=S[S.length-1],le=S.indexOf(fe),Ce=[l?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],Le=[l?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];Ce.includes(L.key)?le===0?x=S[0]:x=S[le-1]:Le.includes(L.key)&&(le===S.length-1?x=V:x=S[le+1])}x!=null&&Q(L,x)}(U=v==null?void 0:v.onKeyDown)==null||U.call(v,L)};Zo(()=>{var v;r&&A.current.contains(document.activeElement)&&((v=document.activeElement)==null||v.blur())},[r]),r&&M!==-1&&k(-1),r&&Z!==-1&&se(-1);const he=v=>L=>{var U;(U=v.onChange)==null||U.call(v,L),Q(L,L.target.valueAsNumber)},ke=s.useRef(void 0);let H=D;l&&D==="horizontal"&&(H+="-reverse");const ie=({finger:v,move:L=!1})=>{const{current:U}=A,{width:oe,height:fe,bottom:x,left:V}=U.getBoundingClientRect();let le;H.startsWith("vertical")?le=(x-v.y)/fe:le=(v.x-V)/oe,H.includes("-reverse")&&(le=1-le);let Ce;if(Ce=za(le,a,d),I)Ce=Wa(Ce,I,a);else{const et=po(S,Ce);Ce=S[et]}Ce=Gt(Ce,a,d);let Le=0;if(ee){L?Le=ke.current:Le=po(f,Ce),i&&(Ce=Gt(Ce,f[Le-1]||-1/0,f[Le+1]||1/0));const et=Ce;Ce=fo({values:f,newValue:Ce,index:Le}),i&&L||(Le=Ce.indexOf(et),ke.current=Le)}return{newValue:Ce,activeIndex:Le}},te=$t(v=>{const L=un(v,b);if(!L)return;if(F.current+=1,v.type==="mousemove"&&v.buttons===0){ce(v);return}const{newValue:U,activeIndex:oe}=ie({finger:L,move:!0});pn({sliderRef:A,activeIndex:oe,setActive:k}),z(U),!m&&F.current>$a&&ne(!0),O&&!fn(U,C)&&O(v,U,oe)}),ce=$t(v=>{const L=un(v,b);if(ne(!1),!L)return;const{newValue:U}=ie({finger:L,move:!0});k(-1),v.type==="touchend"&&q(-1),P&&P(v,X.current??U),b.current=void 0,Se()}),de=$t(v=>{if(r)return;ho()||v.preventDefault();const L=v.changedTouches[0];L!=null&&(b.current=L.identifier);const U=un(v,b);if(U!==!1){const{newValue:fe,activeIndex:x}=ie({finger:U});pn({sliderRef:A,activeIndex:x,setActive:k}),z(fe),O&&!fn(fe,C)&&O(v,fe,x)}F.current=0;const oe=Sn(A.current);oe.addEventListener("touchmove",te,{passive:!0}),oe.addEventListener("touchend",ce,{passive:!0})}),Se=s.useCallback(()=>{const v=Sn(A.current);v.removeEventListener("mousemove",te),v.removeEventListener("mouseup",ce),v.removeEventListener("touchmove",te),v.removeEventListener("touchend",ce)},[ce,te]);s.useEffect(()=>{const{current:v}=A;return v.addEventListener("touchstart",de,{passive:ho()}),()=>{v.removeEventListener("touchstart",de),Se()}},[Se,de]),s.useEffect(()=>{r&&Se()},[r,Se]);const Ae=v=>L=>{var fe;if((fe=v.onMouseDown)==null||fe.call(v,L),r||L.defaultPrevented||L.button!==0)return;L.preventDefault();const U=un(L,b);if(U!==!1){const{newValue:x,activeIndex:V}=ie({finger:U});pn({sliderRef:A,activeIndex:V,setActive:k}),z(x),O&&!fn(x,C)&&O(L,x,V)}F.current=0;const oe=Sn(A.current);oe.addEventListener("mousemove",te,{passive:!0}),oe.addEventListener("mouseup",ce)},pe=In(ee?f[0]:a,a,d),Me=In(f[f.length-1],a,d)-pe,B=(v={})=>{const L=Rn(v),U={onMouseDown:Ae(L||{})},oe={...L,...U};return{...v,ref:re,...oe}},be=v=>L=>{var oe;(oe=v.onMouseOver)==null||oe.call(v,L);const U=Number(L.currentTarget.getAttribute("data-index"));q(U)},ae=v=>L=>{var U;(U=v.onMouseLeave)==null||U.call(v,L),q(-1)},Ee=(v={})=>{const L=Rn(v),U={onMouseOver:be(L||{}),onMouseLeave:ae(L||{})};return{...v,...L,...U}},$e=v=>({pointerEvents:M!==-1&&M!==v?"none":void 0});let ze;return D==="vertical"&&(ze=l?"vertical-rl":"vertical-lr"),{active:M,axis:H,axisProps:Ba,dragging:m,focusedThumbIndex:Z,getHiddenInputProps:(v={})=>{const L=Rn(v),U={onChange:he(L||{}),onFocus:xe(L||{}),onBlur:ve(L||{}),onKeyDown:Y(L||{})},oe={...L,...U};return{tabIndex:R,"aria-labelledby":t,"aria-orientation":D,"aria-valuemax":E(d),"aria-valuemin":E(a),name:p,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":e.step??void 0,disabled:r,...v,...oe,style:{...La,direction:l?"rtl":"ltr",width:"100%",height:"100%",writingMode:ze}}},getRootProps:B,getThumbProps:Ee,marks:G,open:w,range:ee,rootRef:re,trackLeap:Me,trackOffset:pe,values:f,getThumbStyle:$e}}const Ua=e=>!e||!yn(e);function Va(e){return xt("MuiSlider",e)}const dt=vt("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Ka=e=>{const{open:t}=e;return{offset:Je(t&&dt.valueLabelOpen),circle:dt.valueLabelCircle,label:dt.valueLabelLabel}};function qa(e){const{children:t,className:o,value:r}=e,i=Ka(e);return t?s.cloneElement(t,{className:t.props.className},h(s.Fragment,{children:[t.props.children,n("span",{className:Je(i.offset,o),"aria-hidden":!0,children:n("span",{className:i.circle,children:n("span",{className:i.label,children:r})})})]})):null}function mo(e){return e}const Ya=Pe("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`color${Ne(o.color)}`],o.size!=="medium"&&t[`size${Ne(o.size)}`],o.marked&&t.marked,o.orientation==="vertical"&&t.vertical,o.track==="inverted"&&t.trackInverted,o.track===!1&&t.trackFalse]}})(Fe(({theme:e})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${dt.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${dt.dragging}`]:{[`& .${dt.thumb}, & .${dt.track}`]:{transition:"none"}},variants:[...Object.entries(e.palette).filter(tn()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),ja=Pe("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),_a=Pe("span",{name:"MuiSlider",slot:"Track"})(Fe(({theme:e})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(e.palette).filter(tn()).map(([t])=>({props:{color:t,track:"inverted"},style:{...e.vars?{backgroundColor:e.vars.palette.Slider[`${t}Track`],borderColor:e.vars.palette.Slider[`${t}Track`]}:{backgroundColor:e.lighten(e.palette[t].main,.62),borderColor:e.lighten(e.palette[t].main,.62),...e.applyStyles("dark",{backgroundColor:e.darken(e.palette[t].main,.5)}),...e.applyStyles("dark",{borderColor:e.darken(e.palette[t].main,.5)})}}}))]}))),Xa=Pe("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.thumb,t[`thumbColor${Ne(o.color)}`],o.size!=="medium"&&t[`thumbSize${Ne(o.size)}`]]}})(Fe(({theme:e})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${dt.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(e.palette).filter(tn()).map(([t])=>({props:{color:t},style:{[`&:hover, &.${dt.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.alpha((e.vars||e).palette[t].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${dt.active}`]:{boxShadow:`0px 0px 0px 14px ${e.alpha((e.vars||e).palette[t].main,.16)}`}}}))]}))),Ga=Pe(qa,{name:"MuiSlider",slot:"ValueLabel"})(Fe(({theme:e})=>({zIndex:1,whiteSpace:"nowrap",...e.typography.body2,fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${dt.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${dt.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),Qa=Pe("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Io(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:o}=e;return[t.mark,o&&t.markActive]}})(Fe(({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),Za=Pe("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Io(e)&&e!=="markLabelActive"})(Fe(({theme:e})=>({...e.typography.body2,color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]}))),Ja=e=>{const{disabled:t,dragging:o,marked:r,orientation:i,track:l,classes:c,color:d,size:a}=e,p={root:["root",t&&"disabled",o&&"dragging",r&&"marked",i==="vertical"&&"vertical",l==="inverted"&&"trackInverted",l===!1&&"trackFalse",d&&`color${Ne(d)}`,a&&`size${Ne(a)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",a&&`thumbSize${Ne(a)}`,d&&`thumbColor${Ne(d)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return St(p,Va,c)},es=({children:e})=>e,ts=s.forwardRef(function(t,o){const r=Dt({props:t,name:"MuiSlider"}),i=Co(),{"aria-label":l,"aria-valuetext":c,"aria-labelledby":d,component:a="span",components:p={},componentsProps:u={},color:P="primary",classes:D,className:T,disableSwap:E=!1,disabled:I=!1,getAriaLabel:$,getAriaValueText:R,marks:j=!1,max:b=100,min:M=0,name:k,onChange:w,onChangeCommitted:q,orientation:m="horizontal",shiftStep:ne=10,size:F="medium",step:X=1,scale:C=mo,slotProps:z,slots:O,tabIndex:ee,track:f="normal",value:G,valueLabelDisplay:S="off",valueLabelFormat:Z=mo,...se}=r,A={...r,isRtl:i,max:b,min:M,classes:D,disabled:I,disableSwap:E,orientation:m,marks:j,color:P,size:F,step:X,shiftStep:ne,scale:C,track:f,valueLabelDisplay:S,valueLabelFormat:Z},{axisProps:re,getRootProps:xe,getHiddenInputProps:ve,getThumbProps:Q,open:Y,active:he,axis:ke,focusedThumbIndex:H,range:ie,dragging:te,marks:ce,values:de,trackOffset:Se,trackLeap:Ae,getThumbStyle:pe}=Ha({...A,rootRef:o});A.marked=ce.length>0&&ce.some(Ie=>Ie.label),A.dragging=te,A.focusedThumbIndex=H;const Me=Ja(A),B=(O==null?void 0:O.root)??p.Root??Ya,be=(O==null?void 0:O.rail)??p.Rail??ja,ae=(O==null?void 0:O.track)??p.Track??_a,Ee=(O==null?void 0:O.thumb)??p.Thumb??Xa,$e=(O==null?void 0:O.valueLabel)??p.ValueLabel??Ga,ze=(O==null?void 0:O.mark)??p.Mark??Qa,we=(O==null?void 0:O.markLabel)??p.MarkLabel??Za,v=(O==null?void 0:O.input)??p.Input??"input",L=(z==null?void 0:z.root)??u.root,U=(z==null?void 0:z.rail)??u.rail,oe=(z==null?void 0:z.track)??u.track,fe=(z==null?void 0:z.thumb)??u.thumb,x=(z==null?void 0:z.valueLabel)??u.valueLabel,V=(z==null?void 0:z.mark)??u.mark,le=(z==null?void 0:z.markLabel)??u.markLabel,Ce=(z==null?void 0:z.input)??u.input,Le=Tt({elementType:B,getSlotProps:xe,externalSlotProps:L,externalForwardedProps:se,additionalProps:{...Ua(B)&&{as:a}},ownerState:{...A,...L==null?void 0:L.ownerState},className:[Me.root,T]}),et=Tt({elementType:be,externalSlotProps:U,ownerState:A,className:Me.rail}),Xe=Tt({elementType:ae,externalSlotProps:oe,additionalProps:{style:{...re[ke].offset(Se),...re[ke].leap(Ae)}},ownerState:{...A,...oe==null?void 0:oe.ownerState},className:Me.track}),Ge=Tt({elementType:Ee,getSlotProps:Q,externalSlotProps:fe,ownerState:{...A,...fe==null?void 0:fe.ownerState},className:Me.thumb}),wt=Tt({elementType:$e,externalSlotProps:x,ownerState:{...A,...x==null?void 0:x.ownerState},className:Me.valueLabel}),bt=Tt({elementType:ze,externalSlotProps:V,ownerState:A,className:Me.mark}),pt=Tt({elementType:we,externalSlotProps:le,ownerState:A,className:Me.markLabel}),at=Tt({elementType:v,getSlotProps:ve,externalSlotProps:Ce,ownerState:A});return h(B,{...Le,children:[n(be,{...et}),n(ae,{...Xe}),ce.filter(Ie=>Ie.value>=M&&Ie.value<=b).map((Ie,W)=>{const K=In(Ie.value,M,b),me=re[ke].offset(K);let Te;return f===!1?Te=de.includes(Ie.value):Te=f==="normal"&&(ie?Ie.value>=de[0]&&Ie.value<=de[de.length-1]:Ie.value<=de[0])||f==="inverted"&&(ie?Ie.value<=de[0]||Ie.value>=de[de.length-1]:Ie.value>=de[0]),h(s.Fragment,{children:[n(ze,{"data-index":W,...bt,...!yn(ze)&&{markActive:Te},style:{...me,...bt.style},className:Je(bt.className,Te&&Me.markActive)}),Ie.label!=null?n(we,{"aria-hidden":!0,"data-index":W,...pt,...!yn(we)&&{markLabelActive:Te},style:{...me,...pt.style},className:Je(Me.markLabel,pt.className,Te&&Me.markLabelActive),children:Ie.label}):null]},W)}),de.map((Ie,W)=>{const K=In(Ie,M,b),me=re[ke].offset(K),Te=S==="off"?es:$e;return n(Te,{...!yn(Te)&&{valueLabelFormat:Z,valueLabelDisplay:S,value:typeof Z=="function"?Z(C(Ie),W):Z,index:W,open:Y===W||he===W||S==="on",disabled:I},...wt,children:n(Ee,{"data-index":W,...Ge,className:Je(Me.thumb,Ge.className,he===W&&Me.active,H===W&&Me.focusVisible),style:{...me,...pe(W),...Ge.style},children:n(v,{"data-index":W,"aria-label":$?$(W):l,"aria-valuenow":C(Ie),"aria-labelledby":d,"aria-valuetext":R?R(C(Ie),W):c,value:de[W],...at})})},W)})]})});function ns(e){return xt("MuiSwitch",e)}const tt=vt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),os=e=>{const{classes:t,edge:o,size:r,color:i,checked:l,disabled:c}=e,d={root:["root",o&&`edge${Ne(o)}`,`size${Ne(r)}`],switchBase:["switchBase",`color${Ne(i)}`,l&&"checked",c&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},a=St(d,ns,t);return{...t,...a}},rs=Pe("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.edge&&t[`edge${Ne(o.edge)}`],t[`size${Ne(o.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${tt.thumb}`]:{width:16,height:16},[`& .${tt.switchBase}`]:{padding:4,[`&.${tt.checked}`]:{transform:"translateX(16px)"}}}}]}),as=Pe(Ca,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.switchBase,{[`& .${tt.input}`]:t.input},o.color!=="default"&&t[`color${Ne(o.color)}`]]}})(Fe(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${tt.checked}`]:{transform:"translateX(20px)"},[`&.${tt.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${tt.checked} + .${tt.track}`]:{opacity:.5},[`&.${tt.disabled} + .${tt.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${tt.input}`]:{left:"-100%",width:"300%"}})),Fe(({theme:e})=>({"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(tn(["light"])).map(([t])=>({props:{color:t},style:{[`&.${tt.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${tt.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.55)}`}},[`&.${tt.checked} + .${tt.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),ss=Pe("span",{name:"MuiSwitch",slot:"Track"})(Fe(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),is=Pe("span",{name:"MuiSwitch",slot:"Thumb"})(Fe(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),ls=s.forwardRef(function(t,o){const r=Dt({props:t,name:"MuiSwitch"}),{className:i,color:l="primary",edge:c=!1,size:d="medium",sx:a,slots:p={},slotProps:u={},...P}=r,D={...r,color:l,edge:c,size:d},T=os(D),E={slots:p,slotProps:u},[I,$]=nt("root",{className:Je(T.root,i),elementType:rs,externalForwardedProps:E,ownerState:D,additionalProps:{sx:a}}),[R,j]=nt("thumb",{className:T.thumb,elementType:is,externalForwardedProps:E,ownerState:D}),b=n(R,{...j}),[M,k]=nt("track",{className:T.track,elementType:ss,externalForwardedProps:E,ownerState:D});return h(I,{...$,children:[n(as,{type:"checkbox",icon:b,checkedIcon:b,ref:o,ownerState:D,...P,classes:{...T,root:T.switchBase},slots:{...p.switchBase&&{root:p.switchBase},...p.input&&{input:p.input}},slotProps:{...u.switchBase&&{root:typeof u.switchBase=="function"?u.switchBase(D):u.switchBase},input:{role:"switch"},...u.input&&{input:typeof u.input=="function"?u.input(D):u.input}}}),n(M,{...k})]})}),cs=He(n("path",{d:"M17 10H7v2h10zm2-7h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V8h14zm-5-5H7v2h7z"})),ds=(e,t)=>{const o=()=>{const u=new Date;return new Date(u.toLocaleString("en-US",{timeZone:e}))},[r,i]=s.useState(o()),l=()=>{const u=r;let P=[],D=[];t.forEach(R=>{if(!R.startNY||!R.endNY)return;const[j,b]=R.startNY.split(":").map(Number),[M,k]=R.endNY.split(":").map(Number);let w=new Date(u);w.setHours(j,b,0,0);let q=new Date(u);q.setHours(M,k,0,0),q<=w&&q.setDate(q.getDate()+1),u>=w&&u<q?P.push({session:R,startDate:w,endDate:q}):(u>=w&&w.setDate(w.getDate()+1),D.push({session:R,startDate:w}))}),P.sort((R,j)=>u-R.startDate-(u-j.startDate)),D.sort((R,j)=>R.startDate-j.startDate);const T=P.length>0?P[0].session:null,E=P.length>0?Math.floor((P[0].endDate-u)/1e3):null,I=D.length>0?D[0].session:null,$=D.length>0?Math.floor((D[0].startDate-u)/1e3):null;return{activeSession:T,timeToEnd:E,nextSession:I,timeToStart:$}},{activeSession:c,timeToEnd:d,nextSession:a,timeToStart:p}=s.useMemo(()=>l(),[r,t]);return s.useEffect(()=>{const u=setInterval(()=>{i(o())},1e3);return()=>clearInterval(u)},[e]),{currentTime:r,activeSession:c,timeToEnd:d,nextSession:a,timeToStart:p}},Qt=()=>document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement,go=()=>document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled;function Bo(e){const[t,o]=s.useState(!!Qt()),[r,i]=s.useState(go());s.useEffect(()=>{const a=()=>o(!!Qt()),p=()=>i(go());return document.addEventListener("fullscreenchange",a),document.addEventListener("webkitfullscreenchange",a),document.addEventListener("msfullscreenchange",a),document.addEventListener("fullscreenerror",p),document.addEventListener("webkitfullscreenerror",p),document.addEventListener("msfullscreenerror",p),()=>{document.removeEventListener("fullscreenchange",a),document.removeEventListener("webkitfullscreenchange",a),document.removeEventListener("msfullscreenchange",a),document.removeEventListener("fullscreenerror",p),document.removeEventListener("webkitfullscreenerror",p),document.removeEventListener("msfullscreenerror",p)}},[]);const l=s.useCallback(async()=>{try{const a=e&&e.current||document.documentElement;return a?Qt()?!0:a.requestFullscreen?(await a.requestFullscreen(),!0):a.webkitRequestFullscreen?(await a.webkitRequestFullscreen(),!0):a.msRequestFullscreen?(await a.msRequestFullscreen(),!0):(i(!1),!1):!1}catch{return i(!1),!1}},[e]),c=s.useCallback(async()=>{try{return Qt()?document.exitFullscreen?(await document.exitFullscreen(),!0):document.webkitExitFullscreen?(await document.webkitExitFullscreen(),!0):document.msExitFullscreen?(await document.msExitFullscreen(),!0):!1:!0}catch{return!1}},[]),d=s.useCallback(async()=>Qt()?c():l(),[c,l]);return{isFullscreen:t,canFullscreen:r,requestFullscreen:l,exitFullscreen:c,toggleFullscreen:d}}const wn=(e,t="normal")=>{const r=t==="aesthetic"?80:30,i=e/375,l=Math.round(r*i),c=Math.round(l*1.13);return{lineWidth:l,hoverLineWidth:c}},us=(e,t,o=!1,r="normal")=>{const i=t/2,l=t/2,c=Math.min(t,t)/2-5;e.beginPath(),e.arc(i,l,c,0,Math.PI*2),e.fillStyle="#fff",e.fill(),Fo(e,i,l,c,"#333",r,o)},Fo=(e,t,o,r,i,l="normal",c=!1)=>{e.font=`${r*.085}px Roboto`,e.textAlign="center",e.textBaseline="middle",e.fillStyle=i;let d;l==="minimalistic"?d=.5:l==="aesthetic"?d=.18:d=.29;for(let a=1;a<=12;a++){const p=(a*30-90)*(Math.PI/180),u=t+Math.cos(p)*(r*d),P=o+Math.sin(p)*(r*d);e.fillText(a.toString(),u,P)}},ps=(e,t,o,r,i,l,c="normal",d={},a=null,p=!0,u=null,P=!1,D=!0)=>{const T=t/2,E=t/2,I=Math.min(t,t)/2-5;if(e.clearRect(Math.floor(T-I),Math.floor(E-I),Math.ceil(I*2),Math.ceil(I*2)),c!=="minimalistic"){const{lineWidth:R,hoverLineWidth:j}=wn(t,c);o.forEach((b,M)=>{if(!b.startNY||!b.endNY)return;const k=d[M]||{opacity:1,targetLineWidth:R},[w,q]=b.startNY.split(":").map(Number),[m,ne]=b.endNY.split(":").map(Number);let F=(w%12*60+q)/720*Math.PI*2,X=(m%12*60+ne)/720*Math.PI*2;(w>m||w===m&&q>ne)&&(X+=Math.PI*2);const C=w<12?I*.52:I*.75,z=k.targetLineWidth||(b===i?j:R);e.save(),e.globalAlpha=k.opacity||1;const ee=z/2/C,f=F,G=X;if(G>f){const S=u&&b.name===u.name;let Z=null;if(S){const se=r.getHours(),A=r.getMinutes(),re=r.getSeconds();Z=(se%12*60+A+re/60)/720*Math.PI*2,X>Math.PI*2&&Z<X-Math.PI*2&&(Z+=Math.PI*2);const ve=f+ee,Q=G-ee;let Y,he;if(P&&S?(Y=fs(b.color,15),he=bo(b.color,60)):(Y=bo(b.color,60),he=b.color),e.save(),e.beginPath(),e.arc(T,E,C,ve-Math.PI/2,Q-Math.PI/2),e.lineWidth=z,e.strokeStyle=Y,e.lineCap="round",e.stroke(),e.restore(),Z>f){const ke=Math.min(Z,G),H=ke-f;if(H>0){e.save();const ie=z/2,te=ee*2,ce=H/te,de=ce<.52?.25+ce*.22/.52:1,Se=f+ee-Math.PI/2,Ae=T+Math.cos(Se)*C,pe=E+Math.sin(Se)*C,B=f-Math.PI/2+Math.PI,be=B,ae=B+Math.PI*2*de;if(de>0&&(e.beginPath(),e.arc(Ae,pe,ie,be,ae),e.fillStyle=he,e.fill()),de>=.52){const Ee=f+ee,$e=ke>=G?G-ee:ke-ee;$e>=Ee&&(e.beginPath(),e.arc(T,E,C,Ee-Math.PI/2,$e-Math.PI/2),e.lineWidth=z,e.strokeStyle=he,e.lineCap="round",e.stroke())}e.restore()}}}else{const se=f+ee,A=G-ee;e.save(),e.beginPath(),e.arc(T,E,C,se-Math.PI/2,A-Math.PI/2),e.lineWidth=z,e.strokeStyle=b.color,e.lineCap="round",e.stroke(),e.restore()}if(p){const se=b.name||"";if(se){e.save();const A=Math.max(9,Math.min(z*.45,13));e.font=`${A}px Roboto`,e.fillStyle=b.color,e.textAlign="center",e.textBaseline="middle";const xe=C===I*.52?C-z/2-A*1.5:C+z/2+A*1.2,ve=(f+G)/2,Q=A*.15;let Y=0;for(let ie=0;ie<se.length;ie++)Y+=e.measureText(se[ie]).width+(ie<se.length-1?Q:0);const he=Y/xe;let H=ve-he/2;for(let ie=0;ie<se.length;ie++){const te=se[ie],ce=e.measureText(te).width,de=ce/(2*xe),Se=H+de,Ae=T+Math.cos(Se-Math.PI/2)*xe,pe=E+Math.sin(Se-Math.PI/2)*xe;e.save(),e.translate(Ae,pe),e.rotate(Se),e.fillText(te,0,0),e.restore(),H+=(ce+Q)/xe}e.restore()}}}e.restore()})}if(D){const $=r.getHours(),R=(b,M,k,w)=>{e.beginPath(),e.moveTo(T,E),e.lineTo(T+Math.cos(b-Math.PI/2)*M,E+Math.sin(b-Math.PI/2)*M),e.strokeStyle=w,e.lineWidth=k,e.lineCap="round",e.stroke()};if(a){const b=a.hour*Math.PI/180,M=a.minute*Math.PI/180,k=a.second*Math.PI/180,w=$>=12?I*.74:I*.5;R(b,w,6,l),R(M,I*.9,3,l),R(k,I*1,1,l)}else{const b=r.getMinutes(),M=r.getSeconds(),k=($%12*30+b*.5)*Math.PI/180,w=$>=12?I*.74:I*.5;R(k,w,6,l);const q=b*6*Math.PI/180;R(q,I*.9,3,l);const m=M*6*Math.PI/180;R(m,I*1,1,l)}const j=3;e.beginPath(),e.arc(T,E,j,0,Math.PI*2),e.fillStyle=l,e.fill()}},Yn=e=>{const t=e.replace("#",""),o=parseInt(t.substring(0,2),16),r=parseInt(t.substring(2,4),16),i=parseInt(t.substring(4,6),16);return(.299*o+.587*r+.114*i)/255<.5},bo=(e,t=40)=>{const o=e.replace("#",""),r=parseInt(o.substring(0,2),16),i=parseInt(o.substring(2,4),16),l=parseInt(o.substring(4,6),16),c=Math.round(r+(255-r)*(t/100)),d=Math.round(i+(255-i)*(t/100)),a=Math.round(l+(255-l)*(t/100));return`#${c.toString(16).padStart(2,"0")}${d.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}`},fs=(e,t=40)=>{const o=e.replace("#",""),r=parseInt(o.substring(0,2),16),i=parseInt(o.substring(2,4),16),l=parseInt(o.substring(4,6),16),c=Math.round(r*(1-t/100)),d=Math.round(i*(1-t/100)),a=Math.round(l*(1-t/100));return`#${c.toString(16).padStart(2,"0")}${d.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}`};function hs({size:e,time:t,sessions:o,handColor:r,clockStyle:i="normal",showSessionNamesInCanvas:l=!0,activeSession:c=null,backgroundBasedOnSession:d=!1,renderHandsInCanvas:a=!0,handAnglesRef:p=null}){const u=s.useRef(null),[P,D]=s.useState(null),[T,E]=s.useState(null),I=s.useRef(document.createElement("canvas")),$=s.useRef({}),R=s.useRef(null),j=s.useRef(null),b=s.useRef(null),M=s.useRef({hour:0,minute:0,second:0}),k=p||M;s.useEffect(()=>{o.forEach((F,X)=>{$.current[X]||($.current[X]={lineWidth:0,opacity:0,targetLineWidth:0,targetOpacity:1},Lt.to($.current[X],{lineWidth:wn(e,i).lineWidth,opacity:1,duration:.8,delay:X*.1,ease:"power2.out"}))})},[o,e,i]),s.useEffect(()=>{const F=window.devicePixelRatio||1,X=I.current.getContext("2d");I.current.width=Math.round(e*F),I.current.height=Math.round(e*F),X.scale(F,F),us(X,e,l,i)},[e,l,i]),s.useEffect(()=>{const{lineWidth:F,hoverLineWidth:X}=wn(e,i);o.forEach((C,z)=>{if(!$.current[z])return;const ee=C===T?X:F;Lt.to($.current[z],{targetLineWidth:ee,duration:.3,ease:"power2.out"})})},[T,e,o,i]),s.useEffect(()=>{const F=t.getHours(),X=t.getMinutes(),C=t.getSeconds(),z=t.getMilliseconds();let O=(C+z/1e3)*6,ee=(X+C/60)*6,f=(F%12+X/60)*30;const G=k.current.second;O<G&&G-O>180&&(O+=360);const S=k.current.minute;ee<S&&S-ee>180&&(ee+=360);const Z=k.current.hour;f<Z&&Z-f>180&&(f+=360),Lt.to(k.current,{second:O,duration:.3,ease:"linear",onUpdate:()=>{k.current.second=k.current.second%360}}),Lt.to(k.current,{minute:ee,duration:.5,ease:"power1.out",onUpdate:()=>{k.current.minute=k.current.minute%360}}),Lt.to(k.current,{hour:f,duration:.5,ease:"power1.out",onUpdate:()=>{k.current.hour=k.current.hour%360}})},[t]),s.useEffect(()=>{const F=u.current,X=F.getContext("2d"),C=window.devicePixelRatio||1;X.setTransform(1,0,0,1,0,0),F.width=Math.round(e*C),F.height=Math.round(e*C),F.style.width=`${e}px`,F.style.height=`${e}px`,X.scale(C,C);let z;const O=()=>{X.clearRect(0,0,e,e),X.drawImage(I.current,0,0,e,e),ps(X,e,o,t,T,r,i,$.current,k.current,l,c,d,a),Fo(X,e/2,e/2,e/2-5,r,i),z=requestAnimationFrame(O)};return z=requestAnimationFrame(O),()=>cancelAnimationFrame(z)},[e,o,T,r,i,l,c,d]);const w=(F,X,C)=>{const z=F.getBoundingClientRect(),O=z.width/2,ee=z.height/2,f=Math.min(z.width,z.height)/2-5,G=X-O,S=C-ee,Z=Math.sqrt(G*G+S*S),A=(Math.atan2(S,G)+Math.PI/2+2*Math.PI)%(2*Math.PI),{hoverLineWidth:re}=wn(e,i),xe=f*.52,ve=f*.75;if(Z>=xe-re/2&&Z<=xe+re/2)for(const Q of o){const[Y,he]=Q.startNY.split(":").map(Number),[ke,H]=Q.endNY.split(":").map(Number);if(Y<12){const te=(Y%12*60+he)/720*Math.PI*2;let ce=(ke%12*60+H)/720*Math.PI*2;if(te>ce&&(ce+=Math.PI*2),A>=te&&A<=ce)return Q}}if(Z>=ve-re/2&&Z<=ve+re/2)for(const Q of o){const[Y,he]=Q.startNY.split(":").map(Number),[ke,H]=Q.endNY.split(":").map(Number);if(Y>=12){const te=(Y%12*60+he)/720*Math.PI*2;let ce=(ke%12*60+H)/720*Math.PI*2;if(te>ce&&(ce+=Math.PI*2),A>=te&&A<=ce)return Q}}return null},q=(F,X,C)=>{b.current&&b.current.kill(),D({x:F,y:X,...C}),R.current&&(b.current=Lt.fromTo(R.current,{opacity:0,scale:.8,y:-10},{opacity:1,scale:1,y:0,duration:.2,ease:"back.out(1.7)"}))},m=()=>{b.current&&b.current.kill(),R.current?b.current=Lt.to(R.current,{opacity:0,scale:.8,duration:.15,ease:"power2.in",onComplete:()=>D(null)}):D(null)},ne=F=>{if(i==="minimalistic")return;const X=u.current,C=X.getBoundingClientRect(),z=F.clientX-C.left,O=F.clientY-C.top,ee=w(X,z,O);ee!==j.current?(j.current=ee,E(ee),ee?q(F.clientX,F.clientY,ee):m()):ee&&P&&D(f=>({...f,x:F.clientX,y:F.clientY}))};return s.useEffect(()=>{const F=u.current;if(!F)return;const X=z=>{F.contains(z.target)||(j.current=null,E(null),m())},C=z=>{if(i==="minimalistic")return;const O=F.getBoundingClientRect(),ee=z.touches[0],f=ee.clientX-O.left,G=ee.clientY-O.top,S=w(F,f,G);S?(z.preventDefault(),j.current=S,E(S),q(ee.clientX,ee.clientY,S)):(j.current=null,E(null),m())};return document.addEventListener("mousedown",X),document.addEventListener("touchstart",X),F.addEventListener("touchstart",C,{passive:!1}),()=>{document.removeEventListener("mousedown",X),document.removeEventListener("touchstart",X),F.removeEventListener("touchstart",C)}},[i,o,e]),h("div",{className:"canvas-container",children:[n("canvas",{ref:u,onMouseMove:ne,onMouseLeave:()=>{j.current=null,E(null),m()},style:{touchAction:"none"}}),P&&h("div",{ref:R,className:"tooltip",style:{left:P.x+10,top:P.y+10,backgroundColor:P.color,color:Yn(P.color)?"#fff":"#000"},children:[n("strong",{children:P.name}),h("div",{children:["Start: ",P.startNY]}),h("div",{children:["End: ",P.endNY]})]})]})}const Kt=e=>{if(!e)return null;const t=String(e).trim().toLowerCase();return t.length?t:null},Ho=(e=[])=>{const t=new Set;return e.forEach(o=>{const r=Kt(o);r&&t.add(r)}),Array.from(t)},ms=(e={})=>{const t=[e.name,e.Name,e.title,e.Title,e.eventName,e.eventTitle,e.headline,e.displayName,e.canonicalName];return Array.isArray(e.aliases)&&t.push(...e.aliases),Array.isArray(e.alias)&&t.push(...e.alias),Array.isArray(e.alternativeNames)&&t.push(...e.alternativeNames),Ho(t)},rn=(e={})=>{const o=[e.id,e.eventId,e.event_id,e.eventID,e.uid,e.uuid,e._id,e.docId].find(Boolean)||null,r=ms(e),i=r.length?r[0]:null;if(o)return{eventId:String(o),nameKeys:r,primaryNameKey:i};const l=Kt(e.currency||e.Currency),c=e.time||e.date,d=c?new Date(c):null,a=d&&!Number.isNaN(d.getTime())?d.getTime():null;return{eventId:Ho([i,l,a]).join("-")||null,nameKeys:r,primaryNameKey:i}},gs=e=>{if(!e)return null;const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?null:Po.fromDate(t)},bs=(e,t,o)=>{if(!e)return()=>{};const r=Pn(At,"users",e,"favorites");return Kn(r,i=>{const l=new Map,c=new Set;i.forEach(d=>{const a=d.data()||{};l.set(d.id,a),a.nameKey&&c.add(Kt(a.nameKey)),Array.isArray(a.aliasKeys)&&a.aliasKeys.forEach(p=>{const u=Kt(p);u&&c.add(u)})}),t({favoritesMap:l,nameKeySet:c})},i=>{o&&o(i)})},ys=async(e,t,o,r=new Map)=>{if(!e)throw new Error("User must be authenticated to manage favorites.");const{eventId:i,nameKeys:l,primaryNameKey:c}=rn(t),d=i||c;if(!d)throw new Error("Unable to determine a stable identifier for this event.");let a=String(d);if(o&&r)if(r.has(String(i)))a=String(i);else if(r.has(c))a=c;else for(const[D,T]of r.entries()){const E=T==null?void 0:T.nameKey,I=(T==null?void 0:T.aliasKeys)||[],$=[E,...I].filter(Boolean);if(l.some(j=>$.some(b=>Kt(j)===Kt(b)))){a=D;break}}const p=nn(At,"users",e,"favorites",a);if(o)return await Jo(p),{favorited:!1,docId:a};const u=l.filter(D=>D&&D!==c),P=t.time||t.date;return await To(p,{eventId:i||null,name:t.name||t.Name||null,nameKey:c||null,aliasKeys:u,currency:t.currency||t.Currency||null,source:t.source||t.Source||null,date:gs(P),updatedAt:Ht(),createdAt:Ht()},{merge:!0}),{favorited:!0,docId:String(d)}},xs=(e,t=new Map,o=new Set)=>{const{eventId:r,nameKeys:i,primaryNameKey:l}=rn(e);return r&&t.has(String(r))||l&&t.has(l)?!0:(i||[]).some(c=>c&&o.has(c))},Pt=e=>{const{eventId:t,primaryNameKey:o}=rn(e);return t||o||null},Uo=()=>{const{user:e}=on(),[t,o]=s.useState(new Map),[r,i]=s.useState(new Set),[l,c]=s.useState(!1),[d,a]=s.useState(null),[p,u]=s.useState(new Set);s.useEffect(()=>{if(!e){o(new Map),i(new Set),a(null),c(!1);return}c(!0);const E=bs(e.uid,({favoritesMap:I,nameKeySet:$})=>{o(I),i($),c(!1)},I=>{a((I==null?void 0:I.message)||"Failed to load favorites"),c(!1)});return()=>E&&E()},[e]);const P=s.useCallback(E=>xs(E,t,r),[t,r]),D=s.useCallback(E=>{const I=Pt(E);return I?p.has(String(I)):!1},[p]),T=s.useCallback(async E=>{if(!e)return a("Sign in to save favorites."),{success:!1,requiresAuth:!0};const I=Pt(E);if(!I)return a("Unable to identify this event for favorites."),{success:!1,requiresAuth:!1};const $=P(E);u(k=>{const w=new Set(k);return w.add(String(I)),w});const R=t,j=r,b=rn(E),M=b.nameKeys||[];o(k=>{const w=new Map(k);return $?w.delete(String(I)):w.set(String(I),{nameKey:b.primaryNameKey||null,aliasKeys:M.filter(q=>q&&q!==b.primaryNameKey)}),w}),i(k=>{const w=new Set(k);return M.forEach(q=>{q&&($?w.delete(q):w.add(q))}),w});try{return await ys(e.uid,E,$,t),{success:!0,requiresAuth:!1}}catch(k){return a((k==null?void 0:k.message)||"Failed to update favorite"),o(R),i(j),{success:!1,requiresAuth:!1}}finally{u(k=>{const w=new Set(k);return w.delete(String(I)),w})}},[e,P,t,r]);return{favoritesLoading:l,favoritesError:d,isFavorite:P,toggleFavorite:T,isFavoritePending:D}},vs=e=>{if(!e)return null;const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?null:Po.fromDate(t)},Vo=(e,t={})=>{if(!e)throw new Error("User must be authenticated to manage event notes.");const{eventId:o,primaryNameKey:r,nameKeys:i}=rn(t),l=Pt(t);if(!l)throw new Error("Unable to determine a stable identifier for this event.");return{eventRef:nn(At,"users",e,"eventNotes",String(l)),docId:String(l),identity:{eventId:o||null,primaryNameKey:r||null,nameKeys:i||[]},eventMeta:{name:t.name||t.Name||null,currency:t.currency||t.Currency||null,source:t.source||t.Source||null,date:vs(t.time||t.date)}}},Ss=e=>Pt(e),ws=(e,t,o)=>{if(!e)return()=>{};const r=Pn(At,"users",e,"eventNotes"),i=Mo(r,Do("updatedAt","desc"));return Kn(i,l=>{const c=new Map;l.forEach(d=>{const a=d.data()||{};c.set(d.id,{id:d.id,noteCount:a.noteCount||0,name:a.name||null,currency:a.currency||null,source:a.source||null,date:a.date||null,updatedAt:a.updatedAt||null,createdAt:a.createdAt||null})}),t(c)},l=>{o&&o(l)})},ks=(e,t,o,r)=>{if(!e||!t)return()=>{};const i=Pn(At,"users",e,"eventNotes",String(t),"notes"),l=Mo(i,Do("createdAt","desc"));return Kn(l,c=>{const d=c.docs.map(a=>({id:a.id,...a.data()||{}}));o(d)},c=>{r&&r(c)})},Cs=async(e,t,o)=>{const r=(o||"").trim();if(!r)throw new Error("Note cannot be empty.");const{eventRef:i,docId:l,identity:c,eventMeta:d}=Vo(e,t),a=Pn(i,"notes"),p=nn(a);return await Ao(At,async u=>{const P=await u.get(i),D=P.exists()?P.data():{},T=(D.noteCount||0)+1;u.set(i,{eventId:c.eventId||null,name:d.name,nameKey:c.primaryNameKey||null,aliasKeys:c.nameKeys||[],currency:d.currency,source:d.source,date:d.date,noteCount:T,updatedAt:Ht(),createdAt:D.createdAt||Ht()},{merge:!0}),u.set(p,{content:r,createdAt:Ht(),eventDate:d.date,source:d.source,currency:d.currency})}),{noteId:p.id,eventKey:l}},Is=async(e,t,o)=>{if(!o)throw new Error("Note id is required.");const{eventRef:r}=Vo(e,t),i=nn(r,"notes",String(o));return await Ao(At,async l=>{const c=await l.get(r),d=c.exists()?c.data():{},a=Math.max(0,(d.noteCount||0)-1);if(l.delete(i),a===0){l.delete(r);return}l.set(r,{noteCount:a,updatedAt:Ht()},{merge:!0})}),{noteId:o}},Ko=()=>{const{user:e}=on(),[t,o]=s.useState(new Map),[r,i]=s.useState(new Map),[l,c]=s.useState(new Map),[d,a]=s.useState(null),p=s.useRef(null),u=s.useRef(new Map),P=s.useCallback(()=>{u.current.forEach(b=>b&&b()),u.current=new Map},[]);s.useEffect(()=>{if(P(),p.current&&(p.current(),p.current=null),!e){o(new Map),i(new Map),c(new Map),a(null);return}return p.current=ws(e.uid,b=>{o(b)},b=>{a((b==null?void 0:b.message)||"Failed to load notes")}),()=>{P(),p.current&&(p.current(),p.current=null)}},[e,P]);const D=s.useCallback(b=>{const M=Ss(b);if(!M)return!1;const k=t.get(String(M));return!!(k&&k.noteCount>0)},[t]),T=s.useCallback(b=>{const M=Pt(b);return M?r.get(String(M))||[]:[]},[r]),E=s.useCallback(b=>{const M=Pt(b);return M?!!l.get(String(M)):!1},[l]),I=s.useCallback(b=>{const M=Pt(b);if(!M)return;const k=u.current.get(String(M));k&&k(),u.current.delete(String(M)),i(w=>{const q=new Map(w);return q.delete(String(M)),q}),c(w=>{const q=new Map(w);return q.delete(String(M)),q})},[]),$=s.useCallback(b=>{if(!e)return a("Sign in to add notes."),{key:null,requiresAuth:!0};const M=Pt(b);if(!M)return a("Unable to identify this event for notes."),{key:null,requiresAuth:!1};if(u.current.has(String(M)))return{key:String(M),requiresAuth:!1};c(w=>{const q=new Map(w);return q.set(String(M),!0),q});const k=ks(e.uid,String(M),w=>{i(q=>{const m=new Map(q);return m.set(String(M),w),m}),c(q=>{const m=new Map(q);return m.set(String(M),!1),m})},w=>{a((w==null?void 0:w.message)||"Failed to load notes"),c(q=>{const m=new Map(q);return m.set(String(M),!1),m})});return u.current.set(String(M),k),{key:String(M),requiresAuth:!1}},[e]),R=s.useCallback(async(b,M)=>{if(!e)return a("Sign in to add notes."),{success:!1,requiresAuth:!0};try{const k=await Cs(e.uid,b,M);return $(b),{success:!0,requiresAuth:!1,result:k}}catch(k){return a((k==null?void 0:k.message)||"Failed to add note"),{success:!1,requiresAuth:!1}}},[e,$]),j=s.useCallback(async(b,M)=>{if(!e)return a("Sign in to remove notes."),{success:!1,requiresAuth:!0};try{return await Is(e.uid,b,M),{success:!0,requiresAuth:!1}}catch(k){return a((k==null?void 0:k.message)||"Failed to remove note"),{success:!1,requiresAuth:!1}}},[e]);return{notesError:d,hasNotes:D,getNotesForEvent:T,isEventNotesLoading:E,ensureNotesStream:$,stopNotesStream:I,addNote:R,removeNote:j}},On=[{test:e=>e.includes("strong")||e.includes("high"),icon:"!!!",color:"#d32f2f",priority:4,label:"High"},{test:e=>e.includes("moderate")||e.includes("medium"),icon:"!!",color:"#f57c00",priority:3,label:"Medium"},{test:e=>e.includes("weak")||e.includes("low"),icon:"!",color:"#018786",priority:2,label:"Low"},{test:e=>e.includes("non-economic")||e==="none",icon:"~",color:"#9e9e9e",priority:1,label:"Non-Economic"},{test:()=>!0,icon:"?",color:"#666666",priority:0,label:"Unknown"}],mn=e=>{const t=(e||"").toString().toLowerCase();return On.find(({test:o})=>o(t))||On[On.length-1]},Ts=e=>{const t=new Date,r=new Intl.DateTimeFormat("en-US",{timeZone:e,year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(t),i=r.find(u=>u.type==="year").value,l=r.find(u=>u.type==="month").value,c=r.find(u=>u.type==="day").value,d=`${i}-${l}-${c}`,a=new Date(`${d}T00:00:00`),p=new Date(`${d}T23:59:59.999`);return{start:a,end:p}},Ps=(e,t,o)=>{if(!e||o===null||o===void 0)return"";const r=Zt({date:e});return r===null?"":fr({eventEpochMs:r,nowEpochMs:o,nowWindowMs:vn})},Ms=e=>{const t=s.useMemo(()=>new Intl.DateTimeFormat("en-US",{timeZone:e,hour:"numeric",minute:"numeric",hour12:!1}),[e]);return o=>{var c,d;if(!o)return null;const r=t.formatToParts(o instanceof Date?o:new Date(o)),i=Number((c=r.find(a=>a.type==="hour"))==null?void 0:c.value),l=Number((d=r.find(a=>a.type==="minute"))==null?void 0:d.value);return Number.isNaN(i)||Number.isNaN(l)?null:{hour:i,minute:l}}};function Ds({size:e,timezone:t,eventFilters:o,newsSource:r,onEventClick:i,onLoadingStateChange:l}){const[c,d]=s.useState([]),[a,p]=s.useState(Date.now()),[u,P]=s.useState(null),D=s.useRef(null),{isFavorite:T}=Uo(),{hasNotes:E}=Ko(),I=s.useMemo(()=>typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,[]),$=s.useCallback(()=>{D.current&&(clearTimeout(D.current),D.current=null)},[]),R=s.useCallback(()=>{$(),P(null)},[$]),j=s.useCallback(f=>{$(),P(f),D.current=window.setTimeout(()=>{P(G=>G===f?null:G),D.current=null},3500)},[$]),b=s.useCallback((f,G)=>{if(!f)return;const S=G||`${f.hour}-${f.minute}`;if(!I){i==null||i(f.events||[]);return}if(u!==S){j(S);return}i==null||i(f.events||[]),R()},[u,R,I,i,j]),M=s.useCallback(f=>{i==null||i(f),I&&R()},[R,I,i]),k=Ms(t);s.useEffect(()=>{let f=!1;return l==null||l(!0),(async()=>{try{let S,Z;if(o!=null&&o.startDate&&(o!=null&&o.endDate))S=new Date(o.startDate),Z=new Date(o.endDate);else{const A=Ts(t);S=A.start,Z=A.end}const se=await Wn(S,Z,{source:r,impacts:(o==null?void 0:o.impacts)||[],eventTypes:(o==null?void 0:o.eventTypes)||[],currencies:(o==null?void 0:o.currencies)||[]});if(f)return;if(se.success){const A=(se.data||[]).filter(re=>re.date||re.dateTime||re.Date);d(Bn(A))}else d([])}finally{f||l==null||l(!1)}})(),()=>{f=!0}},[t,r,o==null?void 0:o.impacts,o==null?void 0:o.eventTypes,o==null?void 0:o.currencies,o==null?void 0:o.startDate,o==null?void 0:o.endDate,l]);const w=a;s.useEffect(()=>{const f=setInterval(()=>p(Date.now()),6e4);return()=>clearInterval(f)},[]),s.useEffect(()=>()=>$(),[$]);const q=s.useMemo(()=>o!=null&&o.favoritesOnly?c.filter(f=>T(f)):c,[o==null?void 0:o.favoritesOnly,c,T]),m=s.useMemo(()=>{let f=null;return q.forEach(G=>{const S=Zt(G);S!==null&&S>w&&(f===null||S<f)&&(f=S)}),f},[q,w]),ne=s.useMemo(()=>q.some(f=>{const G=Zt(f);if(G===null)return!1;const S=G-w;return S<=0&&Math.abs(S)<vn}),[q,w]),F=s.useMemo(()=>{const f=new Map;return q.forEach(G=>{const S=G.date||G.dateTime||G.Date,Z=k(S);if(!Z)return;const{hour:se,minute:A}=Z,re=`${se}-${A}`,xe=f.get(re)||[];xe.push(G),f.set(re,xe)}),Array.from(f.entries()).map(([G,S])=>{const Z=S.reduce((be,ae)=>{const Ee=mn(ae.impact||ae.strength||ae.Strength),$e=mn(be.impact||be.strength||be.Strength);return Ee.priority>$e.priority?ae:be},S[0]),se=S.some(be=>T(be)),A=S.some(be=>E(be)),[re,xe]=G.split("-"),ve=Number(re),Q=Number(xe),Y=mn(Z.impact||Z.strength||Z.Strength),he=Z.currency||Z.Currency,ke=he?eo(he):null,H=Zt(Z);if(H===null)return null;const ie=H-w,te=ie<=0&&Math.abs(ie)<vn,ce=!te&&m!==null&&H===m,de=new Date(H),Se=new Date(w),Ae=to(de,t),pe=to(Se,t),Me=Ae!==null&&pe!==null&&Ae>pe,B=!te&&!Me&&H<w;return{hour:ve,minute:Q,events:S,meta:Y,isNow:te,isNext:ce,currency:he,countryCode:ke,isTodayPast:B,isFavoriteMarker:se,hasNoteMarker:A}}).filter(Boolean)},[q,k,m,w,t,E,T]),X=e/2,C=e/2-5,z=C*.52,O=C*.75,ee=(f,G,S)=>{const Z=(f%12+G/60)*(Math.PI*2)/12-Math.PI/2,se=S?z:O,A=X+se*Math.cos(Z),re=X+se*Math.sin(Z);return{x:A,y:re}};return n(N,{className:"clock-events-overlay",sx:{position:"absolute",inset:0,pointerEvents:"none",width:e,height:e,zIndex:2},children:F.map(f=>{const G=f.hour<12,S=`${f.hour}-${f.minute}`,{x:Z,y:se}=ee(f.hour,f.minute,G);let A=10;if(f.isNow)A=50;else if(f.isNext)A=40;else if(f.isFavoriteMarker)A=60;else if(f.hasNoteMarker)A=35;else{const H=f.meta.priority||0;H>=3?A=30:H===2?A=20:H===1&&(A=15)}const re={position:"absolute",left:Z,top:se,transform:"translate(-50%, -50%)",transformOrigin:"center",backgroundColor:f.isNow?"#0288d1":f.isTodayPast?"#bdbdbd":f.meta.color,color:f.isTodayPast?"#424242":"#fff",border:`2px solid ${f.isTodayPast?"#9e9e9e":lt("#000",.14)}`,boxShadow:f.isTodayPast?"none":"0 4px 12px rgba(0,0,0,0.2)",animation:f.isNow?"nowScale 1.25s ease-in-out infinite":f.isNext&&!ne?"nextScale 1.25s ease-in-out infinite":"none",cursor:"pointer",userSelect:"none",zIndex:A,"@keyframes nowScale":{"0%, 100%":{transform:"translate(-50%, -50%) scale(1)"},"50%":{transform:"translate(-50%, -50%) scale(1.25)"}},"@keyframes nextScale":{"0%, 100%":{transform:"translate(-50%, -50%) scale(1)"},"50%":{transform:"translate(-50%, -50%) scale(1.15)"}}},xe=f.events.reduce((H,ie)=>{const ce=new Date(ie.date||ie.dateTime||ie.Date).toLocaleDateString("en-US",{timeZone:t,weekday:"short",month:"short",day:"numeric"});return H[ce]||(H[ce]=[]),H[ce].push(ie),H},{}),ve=Object.keys(xe),Q=ve.length>1,Y=new Date().toLocaleDateString("en-US",{timeZone:t,weekday:"short",month:"short",day:"numeric"}),he=n(it,{spacing:.5,sx:{minWidth:240},children:ve.map((H,ie)=>h(Mn.Fragment,{children:[h(_,{variant:"caption",sx:{fontWeight:700,color:"rgba(255,255,255,0.7)",px:.5,pt:ie>0?.5:0,fontSize:"0.7rem",letterSpacing:.5},children:[H===Y?"Today - ":"",H]}),xe[H].map(te=>{const ce=No(te.date||te.dateTime||te.Date,t),de=mn(te.impact||te.strength||te.Strength),Se=te.currency||te.Currency,Ae=Se?eo(Se):null,pe=Ps(te.date||te.dateTime||te.Date,t,w),Me=T(te),B=E(te),be=Zt(te),ae=w>=be&&w<be+vn,Ee=!ae&&m!==null&&be===m,$e=be<w&&!ae;return h(N,{role:"button",tabIndex:0,onClick:ze=>{ze.preventDefault(),ze.stopPropagation(),M(te)},onKeyDown:ze=>{(ze.key==="Enter"||ze.key===" ")&&(ze.preventDefault(),ze.stopPropagation(),M(te))},sx:{display:"flex",gap:1,alignItems:"flex-start",cursor:"pointer",userSelect:"none",borderRadius:1,px:.5,py:.25,"&:hover":I?void 0:{bgcolor:lt("#fff",.08)},"&:focus-visible":{outline:"2px solid rgba(255,255,255,0.35)",outlineOffset:2}},children:[n(_,{variant:"body2",sx:{fontWeight:700,lineHeight:1.3,color:$e?"#9e9e9e":"inherit"},children:de.icon}),h(N,{sx:{flex:1,minWidth:0},children:[n(_,{variant:"body2",sx:{fontWeight:700,lineHeight:1.3},children:te.name||te.Name}),h(_,{variant:"caption",color:"text.secondary",sx:{display:"flex",alignItems:"center",gap:.75,flexWrap:"wrap"},children:[n("span",{children:ce}),Se&&h("span",{style:{display:"inline-flex",alignItems:"center",gap:4},children:[Ae?n("span",{className:`fi fi-${Ae}`,style:{display:"inline-block",width:16,height:12,borderRadius:2,boxShadow:"0 0 0 1px rgba(255,255,255,0.18)"},title:Se}):null,n("span",{children:Se})]}),pe&&h("span",{style:{display:"inline-flex",alignItems:"center",gap:4},children:["Â· ",pe,ae&&n(N,{component:"span",sx:{display:"inline-flex",alignItems:"center",px:.5,py:.125,bgcolor:"#0288d1",color:"#fff",borderRadius:.5,fontSize:"0.6rem",fontWeight:700,textTransform:"uppercase",letterSpacing:.5,ml:.5},children:"NOW"}),Ee&&n(N,{component:"span",sx:{display:"inline-flex",alignItems:"center",px:.5,py:.125,bgcolor:"#018786",color:"#fff",borderRadius:.5,fontSize:"0.6rem",fontWeight:700,textTransform:"uppercase",letterSpacing:.5,ml:.5},children:"NEXT"}),Me&&n(no,{sx:{fontSize:12,color:"#f50057",ml:.25}}),B&&n(kn,{sx:{fontSize:12,color:"#fff",ml:.25}})]}),te.category||te.Category?h("span",{children:["Â· ",te.category||te.Category]}):null]})]})]},`${te.id}-${te.name||te.Name}`)}),Q&&ie<ve.length-1&&n(Mt,{sx:{borderColor:"rgba(255,255,255,0.1)",my:.5}})]},H))});return n(yt,{title:he,placement:"top",arrow:!0,enterDelay:100,disableInteractive:!1,...I?{open:u===S,disableHoverListener:!0,disableFocusListener:!0,disableTouchListener:!0,onClose:R,enterTouchDelay:0,leaveTouchDelay:0}:{},PopperProps:{modifiers:[{name:"preventOverflow",enabled:!0,options:{boundary:"viewport",padding:8}},{name:"flip",enabled:!0,options:{fallbackPlacements:["bottom","top","right","left"],padding:8}}]},componentsProps:{tooltip:{onClick:I?()=>b(f,S):void 0,sx:{bgcolor:"#111",color:"#fff",boxShadow:"0 10px 28px rgba(0,0,0,0.32)",border:"1px solid rgba(255,255,255,0.08)",maxWidth:{xs:"min(calc(100vw - 32px), 320px)",sm:320},maxHeight:{xs:"min(60vh, calc(var(--t2t-vv-height, 100dvh) - 180px))",sm:"min(70vh, calc(var(--t2t-vv-height, 100dvh) - 120px))"},overflowY:"auto",overflowX:"hidden",p:1.25,"& .MuiTypography-root":{color:"#fff"},cursor:I?"pointer":"default",scrollbarWidth:"none","&:hover":{scrollbarWidth:"thin",scrollbarColor:"rgba(255,255,255,0.25) transparent"},"&::-webkit-scrollbar":{width:0,height:0},"&:hover::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-track":{bgcolor:"transparent"},"&::-webkit-scrollbar-thumb":{bgcolor:"rgba(255,255,255,0.25)",borderRadius:3,"&:hover":{bgcolor:"rgba(255,255,255,0.35)"}}}},arrow:{sx:{color:"#111"}}},children:h(N,{className:"clock-event-marker",sx:re,style:{pointerEvents:"auto"},onClick:()=>b(f,S),children:[f.hasNoteMarker&&n(N,{sx:{position:"absolute",top:-6,left:-6,width:18,height:18,borderRadius:"50%",bgcolor:"primary.main",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 3px 8px rgba(0,0,0,0.35)",pointerEvents:"none"},children:n(kn,{sx:{fontSize:12,color:"#fff"}})}),f.isFavoriteMarker&&n(N,{sx:{position:"absolute",top:-6,right:-6,width:18,height:18,borderRadius:"50%",bgcolor:"error.main",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 3px 8px rgba(0,0,0,0.35)",pointerEvents:"none"},children:n(no,{sx:{fontSize:12,color:"#fff"}})}),n(_,{component:"span",variant:"caption",sx:{fontWeight:800,fontSize:"0.75rem"},children:f.meta.icon}),f.countryCode&&!f.isTodayPast?n("span",{className:"clock-event-flag",title:f.currency,children:n("span",{className:`fi fi-${f.countryCode}`})}):null]})},S)})})}function As({size:e,handAnglesRef:t,handColor:o,time:r}){const i=s.useRef(null),l=s.useRef(r);return s.useEffect(()=>{l.current=r},[r]),s.useEffect(()=>{const c=i.current;if(!c||!e)return;const d=window.devicePixelRatio||1,a=c.getContext("2d"),p=()=>{c.width=Math.round(e*d),c.height=Math.round(e*d),c.style.width=`${e}px`,c.style.height=`${e}px`,a.setTransform(1,0,0,1,0,0),a.scale(d,d)};let u;const P=()=>{var b,M;a.clearRect(0,0,e,e);const D=e/2,T=e/2,E=Math.min(e,e)/2-5,I=(t==null?void 0:t.current)||{hour:0,minute:0,second:0},R=(((M=(b=l.current)==null?void 0:b.getHours)==null?void 0:M.call(b))??0)>=12?E*.74:E*.5,j=(k,w,q)=>{const m=k*Math.PI/180;a.beginPath(),a.moveTo(D,T),a.lineTo(D+Math.cos(m-Math.PI/2)*w,T+Math.sin(m-Math.PI/2)*w),a.strokeStyle=o,a.lineWidth=q,a.lineCap="round",a.stroke()};j(I.hour,R,6),j(I.minute,E*.9,3),j(I.second,E*1,1),a.beginPath(),a.arc(D,T,3,0,Math.PI*2),a.fillStyle=o,a.fill(),u=requestAnimationFrame(P)};return p(),P(),()=>{cancelAnimationFrame(u)}},[e,t,o]),n("canvas",{ref:i,className:"clock-hands-overlay",style:{position:"absolute",inset:0,pointerEvents:"none",zIndex:3}})}const Es=Mn.memo(({time:e,clockSize:t,textColor:o})=>{if(!e)return null;const r=375,i=28,l=t/r,c=Math.max(16,Math.round(i*l)),d=e.getHours(),a=e.getMinutes().toString().padStart(2,"0"),p=e.getSeconds().toString().padStart(2,"0"),u=d>=12?"PM":"AM",P=d%12||12;return n(_,{className:"digital-clock",sx:{fontSize:`${c}px`,color:o,fontWeight:400,marginBottom:"10px"},children:`${P}:${a}:${p} ${u}`})}),yo=e=>{const t=Math.floor(e/3600),o=Math.floor(e%3600/60),r=Math.floor(e%60);return e<3600?`${o.toString().padStart(2,"0")}m:${r.toString().padStart(2,"0")}s`:`${t}h:${o.toString().padStart(2,"0")}m`};function Rs({activeSession:e,showTimeToEnd:t,timeToEnd:o,showTimeToStart:r,nextSession:i,timeToStart:l,clockSize:c}){const a=Math.min(Math.max(c/375,.7),1.3),p=`${.875*a}rem`,u=12*a,P=(e==null?void 0:e.color)||"#757575",D=Yn(P)?"#fff":"#000";return n(er,{in:!0,timeout:400,children:n(N,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",margin:"8px auto",maxWidth:"90vw"},children:n(it,{direction:"row",spacing:1,alignItems:"center",sx:{backgroundColor:"transparent",padding:"4px 12px",transition:"all 0.3s ease"},children:e?n(ct,{children:n(Hn,{label:h(N,{component:"span",sx:{display:"flex",flexDirection:"column",gap:.25,alignItems:"center",py:.25},children:[n(N,{component:"span",sx:{display:"inline-flex",alignItems:"center",gap:.5},children:n("span",{style:{fontWeight:600},children:e.name})}),t&&o!=null&&h(N,{component:"span",sx:{display:"inline-flex",alignItems:"center",gap:.3,fontSize:"0.75em",opacity:.9},children:[n(Fn,{sx:{fontSize:`${u*.85}px`,animation:"pulse 2s ease-in-out infinite","@keyframes pulse":{"0%, 100%":{opacity:1},"50%":{opacity:.6}}}}),h("span",{style:{fontWeight:500},children:["Ends in: ",yo(o)]})]})]}),size:"small",sx:{backgroundColor:P,color:D,fontWeight:600,fontSize:p,height:"auto",padding:"6px 10px","& .MuiChip-label":{padding:"0 4px",width:"100%"},border:"none",transition:"all 0.3s ease"}})}):n(ct,{children:n(Hn,{label:n(N,{component:"span",sx:{display:"flex",flexDirection:"column",gap:.25,alignItems:"center",py:.25},children:r&&i&&l!=null&&h(N,{component:"span",sx:{display:"inline-flex",alignItems:"center",gap:.3,fontSize:"0.75em"},children:[n("span",{style:{fontWeight:600},children:i.name}),h("span",{style:{fontWeight:500,opacity:.9},children:["starts in: ",yo(l)]})]})}),size:"small",variant:"outlined",sx:{fontSize:p,fontWeight:500,height:"auto",padding:"6px 10px",borderColor:"divider",color:"text.secondary","& .MuiChip-label":{padding:"0 4px",width:"100%"}}})})})})})}const Ls=He(n("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"})),Ns=He(n("path",{d:"m7 10 5 5 5-5z"})),qo=He(n("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"})),$s=He(n("path",{d:"M6 14c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1H7v-2c0-.55-.45-1-1-1m0-4c.55 0 1-.45 1-1V7h2c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1m11 7h-2c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1s-1 .45-1 1zM14 6c0 .55.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1V6c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1"})),zs=He(n("path",{d:"M6 16h2v2c0 .55.45 1 1 1s1-.45 1-1v-3c0-.55-.45-1-1-1H6c-.55 0-1 .45-1 1s.45 1 1 1m2-8H6c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1s-1 .45-1 1zm7 11c.55 0 1-.45 1-1v-2h2c.55 0 1-.45 1-1s-.45-1-1-1h-3c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1m1-11V6c0-.55-.45-1-1-1s-1 .45-1 1v3c0 .55.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1z"})),Os=He(n("path",{d:"M19.5 12c0-.23-.01-.45-.03-.68l1.86-1.41c.4-.3.51-.86.26-1.3l-1.87-3.23c-.25-.44-.79-.62-1.25-.42l-2.15.91c-.37-.26-.76-.49-1.17-.68l-.29-2.31c-.06-.5-.49-.88-.99-.88h-3.73c-.51 0-.94.38-1 .88l-.29 2.31c-.41.19-.8.42-1.17.68l-2.15-.91c-.46-.2-1-.02-1.25.42L2.41 8.62c-.25.44-.14.99.26 1.3l1.86 1.41c-.02.22-.03.44-.03.67s.01.45.03.68l-1.86 1.41c-.4.3-.51.86-.26 1.3l1.87 3.23c.25.44.79.62 1.25.42l2.15-.91c.37.26.76.49 1.17.68l.29 2.31c.06.5.49.88.99.88h3.73c.5 0 .93-.38.99-.88l.29-2.31c.41-.19.8-.42 1.17-.68l2.15.91c.46.2 1 .02 1.25-.42l1.87-3.23c.25-.44.14-.99-.26-1.3l-1.86-1.41c.03-.23.04-.45.04-.68m-7.46 3.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5"})),Ws=He(n("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m-.22-13h-.06c-.4 0-.72.32-.72.72v4.72c0 .35.18.68.49.86l4.15 2.49c.34.2.78.1.98-.24.21-.34.1-.79-.25-.99l-3.87-2.3V7.72c0-.4-.32-.72-.72-.72"})),Bs=He(n("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 15c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1m1-8h-2V7h2z"})),Fs=He(n("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})),Hs=He(n("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"})),Us=He(n("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"}));function gt(e){switch(e){case"auth/wrong-password":return"Incorrect password. Please try again or reset it.";case"auth/user-not-found":return"No account found with that email. Please sign up first.";case"auth/email-already-in-use":return"That email is already registered. You have been logged in.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/user-disabled":return"Your account is currently disabled. Please contact support.";case"auth/too-many-requests":return"Too many attempts. Please wait a moment and try again.";case"auth/network-request-failed":return"Network error. Please check your connection.";default:return"An unexpected error occurred. Please try again or use another method."}}function Vt(e){switch(e){case"login":return"Welcome back! You have successfully logged in.";case"signup":return"Your account was created! A verification email was sent to you.";case"verify-email":return"Weâ€™ve sent a verification email. Please check your inbox.";case"password-reset":return"Weâ€™ve sent a password reset link to your email.";case"profile-updated":return"Profile updated successfully!";case"change-password":return"A password reset email has been sent. Please check your inbox.";default:return"Success!"}}function Vs({onClose:e}){const[t,o]=s.useState(""),[r,i]=s.useState(""),[l,c]=s.useState("");return h(Et,{open:!0,onClose:e,maxWidth:"sm",fullWidth:!0,children:[n(qt,{children:"Forgot Password"}),h("form",{onSubmit:async a=>{a.preventDefault(),i(""),c("");try{if((await tr(mt,t)).length===0){c("No account exists with that email.");return}await Eo(mt,t),i(Vt("password-reset"))}catch(p){c(gt(p.code))}},children:[h(Rt,{children:[l&&n(ut,{severity:"error",sx:{mb:2},children:l}),r&&n(ut,{severity:"success",sx:{mb:2},children:r}),n(ot,{fullWidth:!0,type:"email",label:"Email",placeholder:"Enter your Email",value:t,onChange:a=>o(a.target.value),required:!0,autoFocus:!0})]}),h(Yt,{sx:{padding:"16px 24px"},children:[n(Re,{onClick:e,variant:"text",color:"primary",children:"Close"}),n(Re,{type:"submit",variant:"contained",color:"primary",children:"Reset Password"})]})]})]})}function Ks({onClose:e}){return h(Et,{open:!0,onClose:e,maxWidth:"sm",fullWidth:!0,slotProps:{backdrop:{sx:{zIndex:1500}},paper:{sx:{zIndex:1501}}},children:[n(Rt,{children:n(_,{children:"Please follow the steps we sent via email to activate your account."})}),n(Yt,{children:n(Re,{onClick:e,variant:"contained",color:"primary",children:"OK"})})]})}function qs({onClose:e}){const[t,o]=s.useState(!0),[r,i]=s.useState(""),[l,c]=s.useState(""),[d,a]=s.useState(""),[p,u]=s.useState(""),[P,D]=s.useState(!1),[T,E]=s.useState(!1),I=()=>{o(!t),a(""),u("")},$=async j=>{a(""),u("");let b;try{j==="google"?b=new nr:j==="facebook"?b=new or:j==="twitter"&&(b=new rr),await ar(mt,b),u(Vt("login")),setTimeout(()=>e(),1e3)}catch(M){a(gt(M.code))}},R=async j=>{j.preventDefault(),a(""),u("");try{if(t){if(!(await Xn(mt,r,l)).user.emailVerified){a("Please verify your email address before logging in."),await Ro(mt);return}u(Vt("login")),setTimeout(()=>e(),1e3)}else{const b=await Gn(mt,r,l);await Qn(b.user),u(Vt("signup")),E(!0)}}catch(b){const M=b.code;if(t&&M==="auth/user-not-found")try{const k=await Gn(mt,r,l);await Qn(k.user),u("No account was found, so we created one for you."),E(!0)}catch(k){a(gt(k.code))}else if(!t&&M==="auth/email-already-in-use")try{await Xn(mt,r,l),u("That email is already registered. You have been logged in."),setTimeout(()=>e(),1500)}catch(k){a(gt(k.code))}else a(gt(M))}};return P?n(Vs,{onClose:()=>D(!1)}):h(ct,{children:[h(Et,{open:!0,onClose:e,maxWidth:"sm",fullWidth:!0,slotProps:{backdrop:{sx:{zIndex:1500}},paper:{sx:{zIndex:1501}}},PaperProps:{sx:{borderRadius:2,p:2}},children:[n(qt,{sx:{textAlign:"center",pb:1},children:t?"Login to access all Proâ˜… Features":"Create a free account to access all Proâ˜… Features"}),n(Rt,{children:h(N,{component:"form",onSubmit:R,sx:{mt:2},children:[h(it,{spacing:1.5,sx:{mb:3},children:[n(Re,{variant:"contained",fullWidth:!0,startIcon:n(Fs,{}),onClick:()=>$("google"),sx:{backgroundColor:"#DB4437","&:hover":{backgroundColor:"#C33D2E"},textTransform:"none"},children:"Login with Google"}),n(Re,{variant:"contained",fullWidth:!0,startIcon:n(Hs,{}),onClick:()=>$("facebook"),sx:{backgroundColor:"#4267B2","&:hover":{backgroundColor:"#365899"},textTransform:"none"},children:"Login with Facebook"}),n(Re,{variant:"contained",fullWidth:!0,startIcon:n(Us,{}),onClick:()=>$("twitter"),sx:{backgroundColor:"#000000","&:hover":{backgroundColor:"#333333"},textTransform:"none"},children:"Login with X"})]}),n(Mt,{sx:{my:3},children:n(_,{variant:"body2",color:"text.secondary",children:"or"})}),h(it,{spacing:2,children:[n(ot,{type:"email",label:"Email",required:!0,fullWidth:!0,value:r,onChange:j=>i(j.target.value),autoComplete:"email"}),n(ot,{type:"password",label:"Password",required:!0,fullWidth:!0,value:l,onChange:j=>c(j.target.value),autoComplete:t?"current-password":"new-password"}),d&&n(ut,{severity:"error",onClose:()=>a(""),children:d}),p&&n(ut,{severity:"success",onClose:()=>u(""),children:p}),n(Re,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,size:"large",sx:{mt:2},children:t?"Login":"Create free account"})]})]})}),n(Yt,{sx:{flexDirection:"column",gap:1,p:2,pt:0},children:h(N,{sx:{display:"flex",justifyContent:"space-between",width:"100%"},children:[n(Re,{onClick:I,sx:{textTransform:"none"},children:t?"Sign up":"Login"}),n(Re,{onClick:()=>D(!0),sx:{textTransform:"none"},children:"Forgot password?"})]})})]}),T&&n(Ks,{onClose:()=>{E(!1),e()}})]})}const Ys=He([n("circle",{cx:"12",cy:"12",r:"3.2"},"0"),n("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")]);function Vn({open:e=!1,onClose:t,onConfirm:o,title:r="Please Confirm",message:i,confirmText:l="Confirm",cancelText:c="Cancel",requirePassword:d=!1,password:a=null}){const[p,u]=s.useState(""),[P,D]=s.useState(!1),T=()=>{d&&a?p===a?(D(!1),u(""),o()):D(!0):o()},E=()=>{u(""),D(!1),t()};return h(Et,{open:e,onClose:E,maxWidth:"sm",fullWidth:!0,children:[n(qt,{sx:{textAlign:"center"},children:r}),h(Rt,{children:[typeof i=="string"?n(_,{sx:{textAlign:"center"},children:i}):i,d&&a&&n(N,{sx:{mt:3},children:n(ot,{fullWidth:!0,type:"password",label:"Enter Password to Confirm",value:p,onChange:$=>{u($.target.value),D(!1)},onKeyPress:$=>{$.key==="Enter"&&T()},error:P,helperText:P?"Incorrect password":"",autoFocus:!0,sx:{mt:1}})})]}),h(Yt,{sx:{justifyContent:"space-around",padding:"16px 24px"},children:[n(Re,{onClick:T,variant:"contained",color:"primary",children:l}),n(Re,{onClick:E,variant:"outlined",color:"primary",children:c})]})]})}function js({onClose:e,user:t,resetSettings:o}){const[r,i]=s.useState(t.displayName||""),[l,c]=s.useState(t.photoURL||""),[d,a]=s.useState(""),[p,u]=s.useState(""),[P,D]=s.useState(!1),[T,E]=s.useState(!1),I=s.useRef(null);s.useEffect(()=>{i(t.displayName||""),c(t.photoURL||"")},[t]);const $=async()=>{a(""),u("");try{await sr(t,{displayName:r,photoURL:l}),await To(nn(At,"users",t.uid),{displayName:r,photoURL:l,updatedAt:new Date},{merge:!0}),a(Vt("profile-updated")),setTimeout(()=>e(),1e3)}catch(w){u(gt(w.code)||w.message)}},R=async()=>{if(window.confirm("Are you sure you want to delete your account? This action cannot be undone."))try{await ir(t),e()}catch(w){u(gt(w.code)||w.message)}},j=async w=>{u(""),a("");const q=w.target.files[0];if(q)try{const m=Zn(Jn,`profilePictures/${t.uid}`);await lr(m,q);const ne=await cr(m);c(ne),a("Photo uploaded. Click Save to apply.")}catch(m){u(gt(m.code)||m.message)}},b=async()=>{u(""),a("");try{const w=Zn(Jn,`profilePictures/${t.uid}`);await dr(w),c(""),a("Image deleted. Click Save to apply.")}catch(w){w.code==="storage/object-not-found"?(c(""),a("Image deleted. Click Save to apply.")):u(gt(w.code)||w.message)}},M=()=>{E(!0)},k=async()=>{E(!1);try{await Eo(mt,t.email),a(Vt("change-password"))}catch(w){u(gt(w.code))}};return h(ct,{children:[h(Et,{open:!0,onClose:e,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2,p:2}},children:[n(qt,{children:"Account Information"}),n(Rt,{children:h(it,{spacing:3,sx:{mt:2},children:[h(N,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2},children:[h(N,{sx:{position:"relative"},children:[l?n(Cn,{src:l,alt:"Profile",sx:{width:100,height:100},imgProps:{referrerPolicy:"no-referrer",crossOrigin:"anonymous"}}):n(Cn,{sx:{width:100,height:100,bgcolor:"primary.main"},children:n(qo,{sx:{fontSize:80}})}),n(_e,{sx:{position:"absolute",bottom:-5,right:-5,backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"}},size:"small",onClick:()=>I.current.click(),children:n(Ys,{fontSize:"small"})})]}),n("input",{ref:I,type:"file",accept:"image/*",onChange:j,style:{display:"none"}}),h(N,{sx:{display:"flex",gap:2},children:[n(Re,{size:"small",onClick:()=>I.current.click(),sx:{textTransform:"none"},children:l?"Replace":"Add image"}),l&&n(Re,{size:"small",color:"error",onClick:b,sx:{textTransform:"none"},children:"Delete"})]})]}),h(N,{children:[n(_,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Email"}),n(_,{variant:"body1",children:t.email})]}),n(ot,{label:"Name",fullWidth:!0,value:r,onChange:w=>i(w.target.value)}),n(Re,{variant:"outlined",onClick:M,sx:{textTransform:"none"},children:"Change Password"}),p&&n(ut,{severity:"error",onClose:()=>u(""),children:p}),d&&n(ut,{severity:"success",onClose:()=>a(""),children:d}),h(N,{children:[n(Re,{onClick:()=>D(!P),sx:{textTransform:"none",color:"text.secondary"},children:P?"Hide":"More Account Settings"}),n(hr,{in:P,children:n(N,{sx:{mt:2},children:n(Re,{variant:"outlined",color:"error",fullWidth:!0,onClick:R,sx:{textTransform:"none"},children:"Delete Account"})})})]})]})}),h(Yt,{sx:{p:2,pt:0},children:[n(Re,{onClick:e,sx:{textTransform:"none"},children:"Cancel"}),n(Re,{onClick:$,variant:"contained",color:"primary",sx:{textTransform:"none"},children:"Save"})]})]}),T&&n(Vn,{message:`Send a password reset email to ${t.email}?`,onConfirm:k,onCancel:()=>E(!1)})]})}function Yo({onClose:e,onSignUp:t}){return h(Et,{open:!0,onClose:e,maxWidth:"sm",fullWidth:!0,slotProps:{backdrop:{sx:{zIndex:1500}},paper:{sx:{zIndex:1501}}},children:[n(qt,{sx:{textAlign:"center"},children:"Unlock Proâ˜… Features for free: $0"}),n(Rt,{children:n(_,{sx:{textAlign:"center",mb:2},children:"Create a free account to unlock full access to the pro features, including changing timezones and accessing premium settings."})}),h(Yt,{sx:{flexDirection:"column",gap:1,padding:"16px 24px"},children:[n(Re,{onClick:t,variant:"contained",color:"primary",fullWidth:!0,children:"Create Free Account"}),n(Re,{onClick:e,variant:"text",color:"primary",children:"Close"})]})]})}const Ft=({checked:e,onChange:t})=>n(ls,{checked:e,onChange:t,color:"primary"}),jo=Mn.forwardRef(({searchQuery:e,onSearchChange:t,searchInputRef:o,mainInputRef:r,children:i,placement:l="bottom-start",...c},d)=>n(qn,{...c,ref:d,placement:l,modifiers:[{name:"offset",options:{offset:[0,6]}},{name:"flip",enabled:!0},{name:"preventOverflow",options:{padding:8}}],children:h(N,{sx:{boxShadow:3,borderRadius:1.5,bgcolor:"background.paper",width:360,maxWidth:"90vw"},children:[n(N,{sx:{p:1.5,borderBottom:1,borderColor:"divider"},children:n(ot,{value:e,onChange:a=>t(a.target.value),onKeyDown:a=>{if(a.key===" "){a.preventDefault(),t(p=>`${p}_`);return}if(a.key==="Enter"){if(a.preventDefault(),r!=null&&r.current){const p=new KeyboardEvent("keydown",{key:"Enter",code:"Enter",keyCode:13,which:13,bubbles:!0});r.current.dispatchEvent(p)}return}if((a.key==="ArrowDown"||a.key==="ArrowUp")&&(a.preventDefault(),r!=null&&r.current)){const p=new KeyboardEvent("keydown",{key:a.key,code:a.key,bubbles:!0});r.current.dispatchEvent(p)}},size:"small",fullWidth:!0,placeholder:"Search timezones",autoFocus:!0,inputRef:o,inputProps:{"aria-label":"Search timezones"}})}),i]})}));jo.displayName="SearchablePopper";function _s({textColor:e="inherit",onRequestSignUp:t}){const{user:o}=on(),{selectedTimezone:r,updateSelectedTimezone:i}=Dn(),[l,c]=s.useState(!1),[d,a]=s.useState([]),[p,u]=s.useState(!0),[P,D]=s.useState(""),[T,E]=s.useState(!1),I=s.useRef(null),$=s.useRef(null),R=s.useRef(null),j=s.useRef(null);s.useEffect(()=>{let m=!0;return(async()=>{u(!0);try{const F=new Date,X=Intl.supportedValuesOf?Intl.supportedValuesOf("timeZone"):[],C=O=>{if(!O)return 0;const ee=O.startsWith("-")?-1:1,f=O.replace(/^[-+]/,""),[G,S]=f.split(":").map(Number);return ee*((G||0)*60+(S||0))},z=X.map(O=>{const ee=O.replace(/_/g," ");let f="";try{const Z=new Intl.DateTimeFormat("en-US",{timeZone:O,timeZoneName:"shortOffset"}).formatToParts(F).find(se=>se.type==="timeZoneName");f=Z?Z.value.replace(/UTC|GMT/,"").trim():""}catch{f=""}return{timezone:O,offset:f,sortKey:C(f),label:`(UTC${f||""}) ${ee}`}});z.sort((O,ee)=>O.sortKey-ee.sortKey||O.timezone.localeCompare(ee.timezone)),m&&a(z)}finally{m&&u(!1)}})(),()=>{m=!1}},[]);const b=s.useCallback(m=>{if(!P)return m;const ne=P.toLowerCase();return m.filter(F=>F.label.toLowerCase().includes(ne)||F.timezone.toLowerCase().includes(ne))},[P]),M=s.useMemo(()=>d.find(m=>m.timezone===r)||null,[d,r]),k=(m,ne)=>{if(!o){c(!0);return}ne&&i(ne.timezone),E(!1)},w=()=>{D(""),E(!0)},q=(m,ne)=>{(ne==="selectOption"||ne==="escape")&&E(!1)};return s.useEffect(()=>{if(!T)return;const m=ne=>{const F=ne.target;$.current&&$.current.contains(F)||I.current&&I.current.contains(F)||E(!1)};return document.addEventListener("mousedown",m),document.addEventListener("touchstart",m),()=>{document.removeEventListener("mousedown",m),document.removeEventListener("touchstart",m)}},[T]),s.useEffect(()=>{if(!T)return;const m=requestAnimationFrame(()=>{R.current&&(R.current.focus(),R.current.select&&R.current.select())}),ne=setTimeout(()=>{R.current&&(R.current.focus(),R.current.select&&R.current.select())},60);return()=>{cancelAnimationFrame(m),clearTimeout(ne)}},[T]),h(ct,{children:[h(Ze,{elevation:0,sx:{border:1,borderColor:"divider",borderRadius:3,overflow:"hidden"},children:[h(N,{sx:{px:1.75,py:1.5,borderBottom:1,borderColor:"divider"},children:[n(_,{variant:"subtitle2",sx:{fontWeight:700},children:"Timezone"}),n(_,{variant:"caption",color:"text.secondary",children:"Switch sessions to your local time instantly."})]}),n(N,{sx:{p:{xs:1.25,sm:1.5}},ref:$,children:n(la,{value:M,onChange:k,open:T,onOpen:w,onClose:q,openOnFocus:!0,options:d,filterOptions:b,getOptionLabel:m=>typeof m=="string"?m:m.label,isOptionEqualToValue:(m,ne)=>!m||!ne?!1:m.timezone===(ne.timezone||ne),size:"small",disableClearable:!0,clearOnBlur:!1,freeSolo:!1,loading:p,popupIcon:null,slots:{popper:jo},slotProps:{popper:{searchQuery:P,onSearchChange:D,searchInputRef:R,mainInputRef:j,ref:I,placement:"bottom-start",sx:{zIndex:1500}},listbox:{sx:{maxHeight:280,overflow:"auto",py:.5,"& .MuiAutocomplete-option":{paddingY:.75,paddingX:1.25}}},paper:{elevation:0,square:!0,sx:{boxShadow:"none",borderRadius:0}}},sx:{"& .MuiOutlinedInput-root":{backgroundColor:"background.paper",border:"1px solid",borderColor:"divider",borderRadius:2,"& fieldset":{border:"none"},"&:hover fieldset":{border:"none"}},"& .MuiInputBase-input":{fontSize:"0.9rem",color:e,padding:"10px 12px",cursor:"pointer",userSelect:"none"}},renderInput:m=>n(ot,{...m,placeholder:p?"Loading timezones...":"Select timezone",InputProps:{...m.InputProps,readOnly:!0,endAdornment:h(ct,{children:[p?n(xn,{color:"inherit",size:16,sx:{mr:1}}):null,m.InputProps.endAdornment]})},inputRef:j,inputProps:{...m.inputProps,readOnly:!0,"aria-label":"Select timezone",onSelect:ne=>ne.preventDefault()}})})})]}),l&&n(Yo,{onClose:()=>c(!1),onSignUp:()=>{c(!1),t&&t()}})]})}const Xs=[{key:"general",label:"General",icon:n(Os,{fontSize:"small"})},{key:"session",label:"Sessions",icon:n(Ws,{fontSize:"small"})},{key:"about",label:"About",icon:n(Bs,{fontSize:"small"})}];function gn({title:e,subtitle:t,children:o,dense:r}){return h(Ze,{elevation:0,sx:{p:r?2:{xs:2.25,sm:3},borderRadius:3,border:1,borderColor:"divider",bgcolor:"background.paper",mb:{xs:2,sm:3}},children:[(e||t)&&h(N,{sx:{mb:t?1.25:1},children:[e&&n(_,{variant:"h6",sx:{fontWeight:700,fontSize:{xs:"1rem",sm:"1.05rem"}},children:e}),t&&n(_,{variant:"body2",color:"text.secondary",sx:{mt:.25},children:t})]}),o]})}function bn({label:e,description:t,children:o,helperText:r,dense:i}){return h(N,{sx:{py:i?1:1.5,display:"flex",gap:2,alignItems:"flex-start"},children:[h(N,{sx:{flex:1,minWidth:0},children:[n(_,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.95rem",sm:"1rem"}},children:e}),t&&n(_,{variant:"body2",color:"text.secondary",sx:{mt:.25,fontSize:{xs:"0.85rem",sm:"0.9rem"},lineHeight:1.6},children:t}),r&&n(ut,{severity:"info",sx:{mt:1,fontSize:{xs:"0.8rem",sm:"0.85rem"},py:1},children:r})]}),n(N,{sx:{flexShrink:0},children:o})]})}function Gs({open:e,onClose:t}){const{user:o}=on(),{clockStyle:r,canvasSize:i,sessions:l,updateClockStyle:c,updateCanvasSize:d,updateSessions:a,backgroundColor:p,updateBackgroundColor:u,backgroundBasedOnSession:P,toggleBackgroundBasedOnSession:D,showHandClock:T,showDigitalClock:E,showSessionLabel:I,toggleShowHandClock:$,toggleShowDigitalClock:R,toggleShowSessionLabel:j,showTimeToEnd:b,showTimeToStart:M,toggleShowTimeToEnd:k,toggleShowTimeToStart:w,showSessionNamesInCanvas:q,toggleShowSessionNamesInCanvas:m,showEventsOnCanvas:ne,toggleShowEventsOnCanvas:F,resetSettings:X}=Dn(),[C,z]=s.useState("general"),[O,ee]=s.useState(!1),[f,G]=s.useState(!1),[S,Z]=s.useState(!1),[se,A]=s.useState(!1),[re,xe]=s.useState(!1),[ve,Q]=s.useState(null),[Y,he]=s.useState(null),[ke,H]=s.useState(""),{isFullscreen:ie,canFullscreen:te,toggleFullscreen:ce}=Bo(),de=()=>he(null),Se=async()=>{try{await Ro(mt),X(),de(),t()}catch(x){console.error(x)}},Ae=x=>{x()?H(""):(H("At least one of the main clock elements must be enabled."),setTimeout(()=>H(""),4e3))},pe=(x,V,le)=>{if(!o){Z(!0);return}const Ce=[...l];Ce[x][V]=le,a(Ce)},Me=()=>{if(!o){Z(!0);return}k()},B=()=>{if(!o){Z(!0);return}w()},be=()=>{if(!o){Z(!0);return}m()},ae=x=>{if(!o){Z(!0);return}Q(x),xe(!0)},Ee=()=>{if(ve==null)return;const x=[...l];x[ve]={...x[ve],name:"",startNY:"",endNY:"",color:""},a(x),Q(null),xe(!1)},$e=()=>{Q(null),xe(!1)},ze=()=>{X(),A(!1)},we=s.useMemo(()=>n(N,{role:"tablist","aria-label":"Settings sections",sx:{display:"flex",gap:1,p:{xs:1,sm:1.5},border:1,borderColor:"divider",borderRadius:2,bgcolor:"background.paper"},children:Xs.map(x=>{const V=C===x.key;return n(Re,{onClick:()=>z(x.key),startIcon:x.icon,variant:V?"contained":"text",color:V?"primary":"inherit",sx:{flex:1,textTransform:"none",borderRadius:2,fontWeight:600,bgcolor:V?"primary.main":"transparent",color:V?"primary.contrastText":"text.primary",boxShadow:V?2:"none"},"aria-current":V?"page":void 0,children:x.label},x.key)})}),[C]),v=h(gn,{dense:!0,children:[n(_,{variant:"overline",sx:{fontWeight:700,letterSpacing:.4,color:"text.secondary"},children:"Visibility"}),n(Ze,{elevation:0,sx:{mt:1,borderRadius:3,border:1,borderColor:"divider",overflow:"hidden"},children:[{label:"Hand Clock",helper:"Analog with sessions",checked:T,onChange:()=>Ae($)},{label:"Digital Clock",helper:"Readable digits",checked:E,onChange:()=>Ae(R)},{label:"Active Label",helper:"Current session tag",checked:I,onChange:()=>Ae(j)}].map((x,V)=>h(N,{sx:{display:"flex",alignItems:"center",gap:1.5,px:1.75,py:1.25,bgcolor:"background.paper",borderBottom:V===2?"none":"1px solid",borderColor:"divider"},children:[h(N,{sx:{flex:1,minWidth:0},children:[n(_,{variant:"body2",sx:{fontWeight:700,whiteSpace:"nowrap"},children:x.label}),n(_,{variant:"caption",color:"text.secondary",sx:{whiteSpace:"nowrap"},children:x.helper})]}),n(Ft,{checked:x.checked,onChange:x.onChange})]},x.label))}),ke&&n(ut,{severity:"error",sx:{mt:1.25},children:ke})]}),L=h(ct,{children:[n(N,{sx:{mb:{xs:2,sm:3}},children:n(_s,{onRequestSignUp:()=>ee(!0)})}),v,h(gn,{children:[n(_,{variant:"overline",sx:{fontWeight:700,letterSpacing:.4,color:"text.secondary",display:"block",mb:1},children:"Appearance"}),h(Ze,{elevation:0,sx:{border:1,borderColor:"divider",borderRadius:3,overflow:"hidden",mb:2},children:[n(N,{sx:{px:1.75,py:1.5,borderBottom:"1px solid",borderColor:"divider"},children:n(bn,{label:"Clock Style",description:"Choose the visual style of your clock",children:h(ot,{select:!0,value:r,onChange:x=>c(x.target.value),size:"small",sx:{minWidth:160},children:[n(Nn,{value:"normal",children:"Normal"}),n(Nn,{value:"aesthetic",children:"Aesthetic"}),n(Nn,{value:"minimalistic",children:"Minimalistic"})]})})}),h(N,{sx:{px:1.75,py:1.5},children:[n(_,{variant:"body1",sx:{fontWeight:600,mb:.5},children:"Canvas Size"}),n(_,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Drag to resize and watch the canvas update live."}),n(ts,{value:i,onChange:(x,V)=>d(V),min:25,max:100,valueLabelDisplay:"auto",valueLabelFormat:x=>`${x}%`})]})]}),n(_,{variant:"overline",sx:{fontWeight:700,letterSpacing:.4,color:"text.secondary",display:"block",mb:1},children:"Background"}),h(Ze,{elevation:0,sx:{border:1,borderColor:"divider",borderRadius:3,overflow:"hidden",mb:2},children:[n(N,{sx:{px:1.75,py:1.25,borderBottom:"1px solid",borderColor:"divider"},children:n(bn,{label:"Background Color",description:"Pick a custom background to match your workspace",children:n(ot,{type:"color",value:p,onChange:x=>u(x.target.value),size:"small",sx:{width:{xs:"100%",sm:90}}})})}),n(N,{sx:{px:1.75,py:1.25},children:n(bn,{label:"Session-based background",description:"Automatically shift background color to match the active session",children:n(Ft,{checked:P,onChange:D})})})]}),n(_,{variant:"overline",sx:{fontWeight:700,letterSpacing:.4,color:"text.secondary",display:"block",mb:1},children:"Economic calendar"}),n(Ze,{elevation:0,sx:{border:1,borderColor:"divider",borderRadius:3,overflow:"hidden",mb:2},children:n(N,{sx:{px:1.75,py:1.25},children:n(bn,{label:"Show events on clock",description:"Display economic event markers on the analog face",helperText:T?"":"Enable the hand clock to see events plotted on the analog face.",dense:!0,children:n(Ft,{checked:ne&&T,onChange:F,disabled:!T})})})}),n(N,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:n(Re,{variant:"outlined",color:"error",onClick:()=>A(!0),sx:{textTransform:"none",borderRadius:2,px:2.5,py:1},children:"Reset to Default Settings"})})]})]}),U=n(ct,{children:h(gn,{title:"Session schedule",subtitle:"Edit your trading sessions. Auth is required to sync changes.",children:[n(_,{variant:"overline",sx:{fontWeight:700,letterSpacing:.4,color:"text.secondary",display:"block",mb:1},children:"Sessions"}),n(Ze,{elevation:0,sx:{border:1,borderColor:"divider",borderRadius:3,overflow:"hidden",mb:2},children:l.map((x,V)=>h(N,{sx:{p:{xs:1.75,sm:2},borderBottom:V===l.length-1?"none":"1px solid",borderColor:"divider"},children:[h(N,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1.25,gap:1},children:[h(_,{variant:"subtitle2",sx:{fontWeight:700},children:["Session ",V+1]}),n(_e,{size:"small",onClick:()=>ae(V),sx:{color:"text.secondary"},"aria-label":`Clear session ${V+1}`,children:n(Ls,{fontSize:"small"})})]}),n(ot,{label:"Name",size:"small",fullWidth:!0,value:x.name,onChange:le=>pe(V,"name",le.target.value),placeholder:`Session ${V+1} Name`,sx:{mb:1.5}}),h(N,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr 90px"},gap:{xs:1.25,sm:1.5}},children:[n(ot,{label:"Start Time",type:"time",size:"small",value:x.startNY,onChange:le=>pe(V,"startNY",le.target.value),InputLabelProps:{shrink:!0}}),n(ot,{label:"End Time",type:"time",size:"small",value:x.endNY,onChange:le=>pe(V,"endNY",le.target.value),InputLabelProps:{shrink:!0}}),n(ot,{label:"Color",type:"color",size:"small",value:x.color,onChange:le=>pe(V,"color",le.target.value),sx:{width:{xs:"100%",sm:"100%"}},inputProps:{style:{padding:0,height:38}}})]})]},V))}),n(Mt,{sx:{my:2}}),n(_,{variant:"overline",sx:{fontWeight:700,letterSpacing:.4,color:"text.secondary",display:"block",mb:1},children:"Labels & timing"}),n(Ze,{elevation:0,sx:{border:1,borderColor:"divider",borderRadius:3,overflow:"hidden",mb:2},children:[{label:"Show Time to End",description:"Display remaining time until active session ends",control:n(Ft,{checked:b,onChange:Me})},{label:"Show Time to Start",description:"Display time until next session begins",control:n(Ft,{checked:M,onChange:B})},{label:"Session names on canvas",description:"Display session names curved along the session donuts",control:n(Ft,{checked:q,onChange:be})}].map((x,V)=>h(N,{sx:{px:1.75,py:1.25,borderBottom:V===2?"none":"1px solid",borderColor:"divider",display:"flex",gap:1.5,alignItems:"flex-start"},children:[h(N,{sx:{flex:1,minWidth:0},children:[n(_,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.95rem",sm:"1rem"}},children:x.label}),n(_,{variant:"body2",color:"text.secondary",sx:{mt:.25,lineHeight:1.6},children:x.description})]}),n(N,{sx:{flexShrink:0},children:x.control})]},x.label))})]})}),oe=h(gn,{title:"About",subtitle:"Learn more about Time 2 Trade.",children:[h(_,{variant:"body1",sx:{mb:1.5},children:[n("strong",{children:"Time 2 Trade"})," is a live, timezone-aware session clock built for futures and forex day traders. The dual-ring analog canvas shows AM/PM trading sessions at a glance while your settings sync across devices."]}),n(_,{variant:"body2",color:"text.secondary",sx:{mb:2.5},children:"Stay aligned with high-impact economic events, track active sessions in your local time, and keep at least one visible clock element on-screen for constant market awareness. All Proâ˜… features are included for freeâ€”no paywalls."}),n(Mt,{sx:{my:2}}),n(_,{variant:"subtitle2",sx:{mb:.5,fontWeight:700},children:"Developer"}),h(_,{variant:"body2",sx:{mb:2},children:["Developed by: ",n("strong",{children:n("a",{href:"https://x.com/lofi_trades",target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"none"},children:"@lofi_trades"})})]}),n(Mt,{sx:{my:2}}),n(_,{variant:"subtitle2",sx:{mb:.5,fontWeight:700},children:"Version"}),n(_,{variant:"body2",color:"text.secondary",children:"1.0.0-beta"})]}),fe=()=>C==="session"?U:C==="about"?oe:L;return h(ct,{children:[h(Ra,{anchor:"right",open:e&&!O&&!S&&!f,onClose:t,variant:"temporary",ModalProps:{keepMounted:!0},sx:{zIndex:1355,"& .MuiDrawer-paper":{boxSizing:"border-box"}},PaperProps:{sx:{width:{xs:"100%",sm:"100%",md:520,lg:560},maxWidth:"100vw",height:"100vh",display:"flex",flexDirection:"column",boxShadow:"-20px 0 40px rgba(0,0,0,0.12)",borderLeft:1,borderColor:"divider"}},children:[h(N,{sx:{p:{xs:2,sm:2.5},borderBottom:1,borderColor:"divider",display:"flex",alignItems:"center",justifyContent:"space-between",gap:1.5,flexShrink:0,backgroundImage:"linear-gradient(120deg, rgba(0,0,0,0.02), transparent)"},children:[h(N,{children:[n(_,{variant:"h6",sx:{fontWeight:700},children:"Settings"}),n(_,{variant:"caption",color:"text.secondary",children:"Live-preview updates on the canvas"})]}),h(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[n(yt,{title:ie?"Exit fullscreen":"Enter fullscreen",arrow:!0,children:n("span",{children:n(_e,{size:"small",onClick:ce,disabled:!te,sx:{"&:hover":{bgcolor:"action.hover"}},"aria-label":ie?"Exit fullscreen":"Enter fullscreen","aria-pressed":ie,children:ie?n(zs,{}):n($s,{})})})}),n(_e,{size:"small",onClick:t,sx:{"&:hover":{bgcolor:"action.hover"}},"aria-label":"Close settings",children:n(Ut,{})})]})]}),n(N,{sx:{p:{xs:2,sm:2.5},borderBottom:1,borderColor:"divider",flexShrink:0},children:o?n(ct,{children:h(Ze,{elevation:0,sx:{border:1,borderColor:"divider",borderRadius:2,overflow:"hidden"},children:[h(N,{sx:{display:"flex",alignItems:"center",gap:1.25,p:1.25,cursor:"pointer",bgcolor:"action.hover"},onClick:()=>he(x=>!x),children:[o.photoURL?n(Cn,{src:o.photoURL,alt:o.displayName||"User",sx:{width:40,height:40},imgProps:{referrerPolicy:"no-referrer",crossOrigin:"anonymous"}}):n(Cn,{sx:{width:40,height:40,bgcolor:"primary.main"},children:n(qo,{})}),h(N,{sx:{flex:1,minWidth:0},children:[n(_,{variant:"subtitle2",noWrap:!0,sx:{fontWeight:700},children:o.displayName||"User"}),n(_,{variant:"caption",color:"text.secondary",noWrap:!0,children:o.email})]}),n(Ns,{fontSize:"small",sx:{transform:Y?"rotate(180deg)":"none",transition:"transform 0.2s"}})]}),Y&&h(N,{sx:{borderTop:1,borderColor:"divider",bgcolor:"background.paper"},children:[n(Re,{fullWidth:!0,onClick:()=>{G(!0),he(!1)},sx:{justifyContent:"flex-start",textTransform:"none",py:1.25,px:1.5},children:"My Account"}),n(Re,{fullWidth:!0,onClick:()=>{Se(),he(!1)},sx:{justifyContent:"flex-start",textTransform:"none",py:1.25,px:1.5},children:"Log out"})]})]})}):n(Re,{variant:"contained",fullWidth:!0,onClick:()=>ee(!0),sx:{textTransform:"none",py:1},children:"Login / Sign Up"})}),n(N,{sx:{p:{xs:2,sm:2.5},flexShrink:0},children:we}),n(N,{sx:{flex:1,overflowY:"auto",px:{xs:2,sm:2.5},pb:{xs:2,sm:3},backgroundImage:"linear-gradient(to bottom right, rgba(0,0,0,0.01), transparent)"},children:fe()}),!o&&n(N,{sx:{p:{xs:2,sm:2.5},borderTop:1,borderColor:"divider",flexShrink:0,bgcolor:"background.paper"},children:n(_,{variant:"caption",color:"text.secondary",sx:{textAlign:"center",display:"block"},children:"Create a free account to unlock Proâ˜… Features."})})]}),O&&n(qs,{onClose:()=>ee(!1)}),f&&n(js,{onClose:()=>G(!1),user:o,resetSettings:X}),S&&n(Yo,{onClose:()=>Z(!1),onSignUp:()=>{Z(!1),ee(!0)}}),se&&n(Vn,{open:se,onClose:()=>A(!1),onConfirm:ze,title:"Reset to Default Settings?",message:"This will reset all settings including clock style, sessions, colors, and preferences to their default values. This action cannot be undone.",confirmText:"Reset Settings",cancelText:"Cancel"}),re&&n(Vn,{open:re,onClose:$e,onConfirm:Ee,title:"Clear this session?",message:"This will clear the name, start, end, and color fields for this session. Continue?",confirmText:"Clear session",cancelText:"Cancel"})]})}const xo=He(n("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"})),Qs=He(n("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-7 2h2.5v12H13zm-2 12H8.5V6H11zM4 6h2.5v12H4zm16 12h-2.5V6H20z"})),Zs=He(n("path",{fillRule:"evenodd",d:"M20 3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M10 17H5v-2h5zm0-4H5v-2h5zm0-4H5V7h5zm4.82 6L12 12.16l1.41-1.41 1.41 1.42L17.99 9l1.42 1.42z"})),Js=He(n("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),ei=He(n("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),ti=He(n("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}));function ni({value:e,onChange:t,sx:o={}}){const[r,i]=s.useState(!1),l=Tn(),c=$o(l.breakpoints.down("sm")),d=Ln.find(p=>p.value===e)||Ln[0],a=p=>{t(p),i(!1)};return h(ct,{children:[n(Re,{variant:"outlined",size:"small",onClick:()=>i(!0),endIcon:n($n,{sx:{fontSize:16}}),sx:{textTransform:"none",fontWeight:600,fontSize:{xs:"0.8125rem",sm:"0.875rem"},borderColor:"divider",color:"text.primary",px:{xs:1.5,sm:2},py:.75,whiteSpace:"nowrap","&:hover":{borderColor:"primary.main",bgcolor:"action.hover"},...o},children:d.label}),h(Et,{open:r,onClose:()=>i(!1),maxWidth:"md",fullWidth:!0,fullScreen:c,PaperProps:{sx:{borderRadius:{xs:0,sm:2},maxHeight:"90vh"}},children:[h(qt,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",pb:2,borderBottom:1,borderColor:"divider"},children:[h(N,{children:[n(_,{variant:"h6",sx:{fontWeight:700,mb:.5},children:"Select Data Source"}),n(_,{variant:"caption",color:"text.secondary",children:"Choose your preferred economic calendar provider"})]}),n(_e,{onClick:()=>i(!1),size:"small",sx:{ml:2},children:n(Ut,{})})]}),h(Rt,{sx:{p:{xs:2,sm:3},pt:{xs:2,sm:3}},children:[n(N,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(3, 1fr)"},gap:2,mt:2},children:Ln.map(p=>{const u=p.value===e,D={"forex-factory":{coverage:"Comprehensive",strength:"Broad historical coverage",availability:"Primary source via JBlanked"},mql5:{coverage:"Extensive",strength:"MetaTrader official data",availability:"Primary source via JBlanked"},fxstreet:{coverage:"Limited",strength:"Real-time updates",availability:"Supplementary source"}}[p.value];return h(mr,{elevation:u?8:1,sx:{position:"relative",border:2,borderColor:u?"primary.main":"divider",transition:"all 0.3s",cursor:"pointer","&:hover":{borderColor:u?"primary.dark":"primary.light",transform:"translateY(-4px)",boxShadow:l.shadows[8]}},onClick:()=>a(p.value),children:[u&&n(N,{sx:{position:"absolute",top:12,right:12,bgcolor:"primary.main",borderRadius:"50%",p:.5,display:"flex",alignItems:"center",justifyContent:"center"},children:n(Fn,{sx:{color:"white",fontSize:20}})}),h(gr,{sx:{p:2.5,pb:1.5},children:[n(_,{variant:"h6",sx:{fontWeight:700,mb:1,fontSize:"1rem",pr:3},children:p.label}),n(_,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8125rem",lineHeight:1.5,mb:2,minHeight:60},children:p.description}),n(Mt,{sx:{my:1.5}}),h(N,{sx:{display:"flex",flexDirection:"column",gap:1},children:[h(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[n(br,{sx:{fontSize:16,color:"info.main"}}),h(_,{variant:"caption",sx:{fontSize:"0.75rem"},children:[D.coverage," coverage"]})]}),h(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[n(Fn,{sx:{fontSize:16,color:p.value==="fxstreet"?"warning.main":"success.main"}}),n(_,{variant:"caption",sx:{fontSize:"0.75rem"},children:D.strength})]}),h(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[n($n,{sx:{fontSize:16,color:"text.secondary"}}),n(_,{variant:"caption",sx:{fontSize:"0.75rem"},children:D.availability})]})]})]}),n(xa,{sx:{p:2.5,pt:0},children:n(Re,{fullWidth:!0,variant:u?"contained":"outlined",size:"small",onClick:T=>{T.stopPropagation(),a(p.value)},sx:{textTransform:"none",fontWeight:600,py:1},children:u?"Current Source":"Select Source"})})]},p.value)})}),n(N,{sx:{mt:3,p:2,bgcolor:lt("#2196f3",.08),borderRadius:1.5,border:"1px solid",borderColor:lt("#2196f3",.2)},children:h(N,{sx:{display:"flex",gap:1.5,alignItems:"flex-start"},children:[n($n,{sx:{fontSize:20,color:"info.main",flexShrink:0,mt:.25}}),h(N,{children:[n(_,{variant:"subtitle2",sx:{fontWeight:600,mb:.5,fontSize:"0.875rem"},children:"How Data is Sourced"}),h(_,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem",lineHeight:1.6,display:"block"},children:["This application aggregates economic calendar data from multiple trusted providers to give you comprehensive event coverage. The system automatically selects the highest quality data when the same event is available from multiple sources.",n("br",{}),n("br",{}),n("strong",{children:"Your selection determines which provider is prioritized."})," If your preferred source is unavailable for an event, the system will automatically use the next best available source."]})]})]})}),n(N,{sx:{mt:2,p:2,bgcolor:lt("#ff9800",.08),borderRadius:1.5,border:"1px solid",borderColor:lt("#ff9800",.2)},children:h(_,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem",lineHeight:1.6,display:"block",fontStyle:"italic"},children:[n("strong",{children:"Important Disclaimer:"})," This economic calendar is provided for informational and educational purposes only. Data accuracy, completeness, and timeliness are not guaranteed. Event times, forecasts, and actual values may contain errors, omissions, or delays. ",n("strong",{children:"Do not use this information as the sole basis for trading or financial decisions."}),n("br",{}),n("br",{}),"We are not responsible for any trading losses, investment decisions, or financial outcomes resulting from the use of this data. Always verify critical information with official sources and consult qualified financial professionals before making investment decisions. Past performance and forecasts do not guarantee future results.",n("br",{}),n("br",{}),'By using this application, you acknowledge that all data is sourced from third-party providers (NFS API, JBlanked API, Forex Factory, MQL5/MetaTrader, FXStreet) and any inaccuracies or discrepancies are the responsibility of those original sources. We provide this data "as is" without warranties of any kind.']})})]})]})]})}const oi=(e,t)=>{if(!e)return"Unknown time";const o=e.toDate?e.toDate():new Date(e);return Number.isNaN(o.getTime())?"Unknown time":o.toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short",timeZone:t})};function ri({open:e,onClose:t,event:o,timezone:r,notes:i=[],loading:l=!1,onAddNote:c,onRemoveNote:d,error:a=null}){const p=Tn(),u=$o(p.breakpoints.down("sm")),[P,D]=s.useState(""),[T,E]=s.useState(!1),[I,$]=s.useState(null),[R,j]=s.useState(null),b=(o==null?void 0:o.name)||(o==null?void 0:o.Name)||"Selected Event",M=(o==null?void 0:o.currency)||(o==null?void 0:o.Currency)||null,k=s.useMemo(()=>o?No(o.time||o.date,r):"â€”",[o,r]);s.useEffect(()=>{e&&(D(""),$(null),j(null))},[o,e]);const w=async()=>{if(!P.trim()||!c||T)return;E(!0);const m=await c(P.trim());m!=null&&m.success&&D(""),E(!1)},q=async m=>{if(!(!d||I)){if(R!==m){j(m);return}$(m),await d(m),$(null),j(null)}};return h(Et,{open:e,onClose:t,fullScreen:u,maxWidth:"sm",fullWidth:!0,children:[u?n(Br,{sx:{position:"relative"},color:"primary",children:h(yr,{children:[n(_e,{edge:"start",color:"inherit",onClick:t,"aria-label":"close",children:n(Ut,{})}),n(_,{sx:{ml:2,flex:1,fontWeight:800},variant:"h6",component:"div",children:"Event Notes"})]})}):h(N,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:3,pt:3},children:[h(it,{direction:"row",spacing:1,alignItems:"center",children:[n(kn,{color:"primary"}),h(N,{children:[n(_,{variant:"subtitle2",sx:{fontWeight:800},children:"Event Notes"}),h(_,{variant:"caption",color:"text.secondary",children:[k," ",M?`â€¢ ${M}`:""]})]})]}),n(_e,{onClick:t,children:n(Ut,{})})]}),n(Rt,{sx:{pt:u?2:1,pb:{xs:3,sm:3}},children:h(it,{spacing:2.5,children:[h(N,{children:[n(_,{variant:"subtitle1",sx:{fontWeight:800},children:b}),h(_,{variant:"body2",color:"text.secondary",children:[k," ",M?`â€¢ ${M}`:""]})]}),a?n(ut,{severity:"error",children:a}):null,h(it,{spacing:1.25,children:[n(ot,{label:"Add a note",placeholder:"What do you want to remember for this event?",fullWidth:!0,multiline:!0,minRows:3,value:P,onChange:m=>D(m.target.value),disabled:T}),n(N,{sx:{display:"flex",justifyContent:"flex-end"},children:n(Re,{variant:"contained",endIcon:T?n(xn,{size:16,thickness:5,color:"inherit"}):n(ti,{}),onClick:w,disabled:T||!P.trim(),sx:{textTransform:"none",fontWeight:700},children:"Save Note"})})]}),n(Mt,{}),h(N,{children:[h(it,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[n(kn,{fontSize:"small"}),h(_,{variant:"subtitle2",sx:{fontWeight:800},children:["Notes (",i.length,")"]})]}),l?n(N,{sx:{display:"flex",alignItems:"center",justifyContent:"center",py:4},children:n(xn,{size:32,thickness:5})}):i.length===0?n(N,{sx:{p:2,bgcolor:"background.paper",borderRadius:2,border:"1px dashed",borderColor:"divider"},children:n(_,{variant:"body2",color:"text.secondary",children:"No notes yet. Start by adding one above."})}):n(Mr,{dense:!0,disablePadding:!0,children:i.map(m=>h(Mn.Fragment,{children:[n(Nr,{alignItems:"flex-start",secondaryAction:h(it,{direction:"row",spacing:.75,alignItems:"center",children:[R===m.id&&n(_,{variant:"caption",color:"error.main",sx:{fontWeight:700},children:"Confirm"}),R===m.id&&n(_e,{edge:"end","aria-label":"cancel delete",onClick:()=>j(null),size:"small",children:n(Ut,{fontSize:"small"})}),n(_e,{edge:"end","aria-label":"delete",onClick:()=>q(m.id),disabled:I===m.id,sx:{color:R===m.id?"error.main":"inherit"},children:I===m.id?n(xn,{size:18,thickness:5}):n(ei,{})})]}),children:n($r,{primary:n(_,{variant:"body2",sx:{fontWeight:700},children:oi(m.createdAt,r)}),secondary:n(_,{variant:"body2",color:"text.primary",sx:{whiteSpace:"pre-wrap"},children:m.content})})}),n(Mt,{component:"li"})]},m.id))})]})]})})]})}const vo=365,ai=5*60*1e3,So=10*60*1e3,wo=e=>{const{year:t,month:o,day:r}=en(e),i=st(e,t,o,r),l=st(e,t,o,r,{endOfDay:!0});return{startDate:i,endDate:l}},si=e=>{const{year:t,month:o,day:r,dayOfWeek:i}=en(e),l=r-i,c=r+(6-i),d=st(e,t,o,l),a=st(e,t,o,c,{endOfDay:!0});return{startDate:d,endDate:a}},ht=e=>e?e instanceof Date?e:new Date(e):null;function ii({open:e,onClose:t,autoScrollRequest:o=null,onOpenAuth:r,onOpenSettings:i}){const l=Tn(),{user:c}=on(),{selectedTimezone:d,eventFilters:a,newsSource:p,updateNewsSource:u,updateEventFilters:P}=Dn(),{favoritesLoading:D,isFavorite:T,toggleFavorite:E,isFavoritePending:I}=Uo(),{notesError:$,hasNotes:R,getNotesForEvent:j,ensureNotesStream:b,stopNotesStream:M,addNote:k,removeNote:w,isEventNotesLoading:q}=Ko(),[m,ne]=s.useState(()=>({startDate:ht(a.startDate),endDate:ht(a.endDate),impacts:a.impacts||[],currencies:a.currencies||[],favoritesOnly:a.favoritesOnly||!1,searchQuery:a.searchQuery||""})),[F,X]=s.useState([]),[C,z]=s.useState([]),[O,ee]=s.useState(!1),[f,G]=s.useState(null),[S,Z]=s.useState(null),[se,A]=s.useState(!1),[re,xe]=s.useState(!1),[ve,Q]=s.useState(!1),[Y,he]=s.useState(!1),[ke,H]=s.useState(null),[ie,te]=s.useState(0),[ce,de]=s.useState(null),[Se,Ae]=s.useState(0),pe=s.useRef(m),Me=s.useRef(!1),B=s.useCallback(async W=>{const K=await E(W);K!=null&&K.requiresAuth&&r&&r()},[E,r]),be=s.useCallback(W=>{const{key:K,requiresAuth:me}=b(W);if(me&&r){t(),r();return}K&&Z({event:W,key:K})},[b,t,r]),ae=s.useCallback(()=>{S!=null&&S.event&&M(S.event),Z(null)},[S,M]),Ee=s.useCallback(async W=>{if(!(S!=null&&S.event))return{success:!1};const K=await k(S.event,W);return K!=null&&K.requiresAuth&&r&&(t(),r()),K},[k,S,t,r]),$e=s.useCallback(async W=>{if(!(S!=null&&S.event))return{success:!1};const K=await w(S.event,W);return K!=null&&K.requiresAuth&&r&&(t(),r()),K},[S,t,r,w]),ze=s.useRef(0),we=s.useMemo(()=>wo(d),[d]);s.useMemo(()=>si(d),[d]);const v=s.useMemo(()=>{const W=ht(m.startDate),K=ht(m.endDate);return{...m,startDate:W,endDate:K}},[m]),L=s.useMemo(()=>{let W=F;if(m.searchQuery&&m.searchQuery.trim()){const K=m.searchQuery.toLowerCase().trim();W=W.filter(me=>!!((me.name||me.Name||me.title||me.Title||"").toLowerCase().includes(K)||(me.currency||me.Currency||"").toLowerCase().includes(K)||(me.description||me.Description||me.summary||me.Summary||"").toLowerCase().includes(K)))}return m.favoritesOnly&&(W=W.filter(K=>T(K))),W},[F,m.favoritesOnly,m.searchQuery,T]),U=s.useCallback(async(W=null)=>{const K=W?{...W}:{...v},me=ht(K.startDate),Te=ht(K.endDate),Qe=K.searchQuery||"";if(!me||!Te){G("Please select a date range to view events.");return}if(Math.ceil((Te-me)/(1e3*60*60*24))>vo){G(`Date range cannot exceed ${vo} days.`);return}ee(!0),G(null);try{const Oe=await Wn(me,Te,{source:p,impacts:K.impacts||[],currencies:K.currencies||[]});if(Oe.success){const Ke=Bn(Oe.data);X(Ke),de(new Date);let We=Ke;if(Qe&&Qe.trim()){const rt=Qe.toLowerCase().trim();We=We.filter(qe=>!!((qe.name||qe.Name||qe.title||qe.Title||"").toLowerCase().includes(rt)||(qe.currency||qe.Currency||"").toLowerCase().includes(rt)||(qe.description||qe.Description||qe.summary||qe.Summary||"").toLowerCase().includes(rt)))}K.favoritesOnly&&(We=We.filter(rt=>T(rt))),te(We.length)}else X([]),G(Oe.error||"Failed to load events.")}catch(Oe){X([]),G(Oe.message||"Unexpected error while loading events.")}finally{ee(!1)}},[v,T,p]),oe=s.useCallback(async()=>{const{year:W,month:K,day:me}=en(d),Te=st(d,W,K,me),Qe=st(d,W,K,me+7,{endOfDay:!0});console.log("[EconomicEvents3] Fetching context events for NEXT detection:",{contextStart:Te.toISOString(),contextEnd:Qe.toISOString(),newsSource:p,timezone:d});try{const Ue=await Wn(Te,Qe,{source:p,impacts:[],currencies:[]});if(Ue.success){const Oe=Bn(Ue.data);console.log("[EconomicEvents3] Context events fetched successfully:",{count:Oe.length,firstEvent:Oe[0]?{id:Oe[0].id,name:Oe[0].Name||Oe[0].name,date:Oe[0].date||Oe[0].time}:null}),z(Oe)}else console.warn("[EconomicEvents3] Failed to fetch context events:",Ue.error)}catch(Ue){console.warn("[EconomicEvents3] Failed to fetch context events for NEXT detection:",Ue)}},[p,d]);s.useEffect(()=>{m.favoritesOnly&&te(L.length)},[L,m.favoritesOnly]),s.useEffect(()=>{!c&&S&&Z(null)},[S,c]);const fe=s.useCallback(W=>{const K=pe.current||m,me={...K,...W,searchQuery:W.searchQuery!==void 0?W.searchQuery:K.searchQuery||""},Te=ht(me.startDate)||ht(K==null?void 0:K.startDate),Qe=ht(me.endDate)||ht(K==null?void 0:K.endDate),Ue=Te||we.startDate,Oe=Qe||we.endDate,Ke={...me,startDate:Ue,endDate:Oe};pe.current=Ke,ne(Ke),P(Ke),U(Ke),oe()},[oe,U,m,we.endDate,we.startDate,P]),x=s.useCallback(W=>{ne(K=>({...K,...W}))},[]),V=s.useCallback(W=>{fe(W),Ae(K=>K+1)},[fe]);s.useEffect(()=>{pe.current=m},[m]),s.useEffect(()=>{const W={current:null},K=()=>{const{year:Te,month:Qe,day:Ue}=en(d),Oe=`${Te}-${Qe}-${Ue}`;if(W.current===Oe)return;W.current=Oe;const Ke=wo(d),We=pe.current||{};if(!(We.startDate&&We.endDate&&Math.abs(new Date(We.endDate).getTime()-new Date(We.startDate).getTime())<864e5))return;const qe=We.startDate&&Ke.startDate&&new Date(We.startDate).getTime()===new Date(Ke.startDate).getTime(),zt=We.endDate&&Ke.endDate&&new Date(We.endDate).getTime()===new Date(Ke.endDate).getTime();qe&&zt||(fe({...We,startDate:Ke.startDate,endDate:Ke.endDate}),Ae(Ot=>Ot+1))};K();const me=setInterval(K,6e4);return()=>clearInterval(me)},[fe,d]);const le=s.useCallback(async()=>{if(!(ve||Me.current)){Q(!0),H(null);try{await oo(p);const W={...we,impacts:[],currencies:[],favoritesOnly:!1,searchQuery:""};fe(W),H(`Events refreshed from ${p}.`),setTimeout(()=>H(null),3e3)}catch{H("Failed to refresh events.")}finally{Q(!1)}}},[fe,p,we]),Ce=s.useCallback(async()=>{if(!(ve||Me.current)){Me.current=!0;try{await oo(p),fe({...pe.current||m,...we})}catch{}finally{Me.current=!1}}},[fe,m,p,we]);s.useEffect(()=>{if(!e)return;const W=setInterval(()=>{const K=ce?new Date(ce).getTime():0,me=Date.now(),Te=!K||me-K>=So;(typeof document>"u"?!0:!document.hidden)&&Te&&Ce()},ai);return()=>clearInterval(W)},[ce,e,Ce]),s.useEffect(()=>{if(typeof document>"u")return;const W=()=>{if(document.hidden||!e)return;const K=ce?new Date(ce).getTime():0,me=Date.now();(!K||me-K>=So)&&Ce()};return document.addEventListener("visibilitychange",W),()=>document.removeEventListener("visibilitychange",W)},[ce,e,Ce]);const Le=s.useCallback(async()=>{if(!(se||!window.confirm("Sync this week from NFS now? This may take a few seconds."))){A(!0),H(null);try{const K=await xr();K.success?(H("Synced NFS weekly schedule."),U(),oe()):H(K.error||"Failed to sync NFS week.")}catch{H("Failed to sync NFS week.")}finally{setTimeout(()=>H(null),4e3),A(!1)}}},[U,se]),et=s.useCallback(async()=>{if(!(re||!window.confirm("Sync today's actuals from JBlanked (all sources)? This may take a few seconds."))){xe(!0),H(null);try{const K=await vr();K.success?(H("Synced today's actuals from JBlanked."),U(),oe()):H(K.error||"Failed to sync actuals.")}catch{H("Failed to sync actuals.")}finally{setTimeout(()=>H(null),4e3),xe(!1)}}},[U,oe,re]),Xe=s.useCallback(W=>{u(W),H(`Switched to ${W.toUpperCase()}.`),U(),oe(),setTimeout(()=>H(null),2500)},[oe,U,u]);s.useEffect(()=>{if(!m.startDate||!m.endDate){const W={...m,...we};ne(W),P(W),U(W),oe()}else U(),oe()},[p,d,we.startDate,we.endDate]),s.useEffect(()=>{e&&c&&(ze.current+=1,Ae(W=>W+1))},[e,c]),s.useEffect(()=>{o&&Ae(W=>W+1)},[o]);const Ge=Y?"background.default":"background.paper",wt="text.primary",bt=Y?"Events Table":"Events Timeline",pt=Y?"Table":"Timeline",at=s.useCallback(()=>{i&&i()},[i]),Ie={enter:l.transitions.easing.easeOut,exit:l.transitions.easing.sharp};return n(Lo,{in:e,direction:"left",timeout:{enter:320,exit:260},easing:Ie,mountOnEnter:!0,unmountOnExit:!0,children:h(Ze,{elevation:Y?0:8,sx:{position:"fixed",right:0,top:0,left:Y?0:"auto",height:"var(--t2t-vv-height, 100dvh)",width:Y?"100%":{xs:"100%",sm:"100%",md:520,lg:560},display:"flex",flexDirection:"column",zIndex:1300,overflow:"hidden",bgcolor:Ge,color:wt,borderRadius:Y?0:{xs:0,sm:"16px 0 0 16px"},boxShadow:Y?"none":void 0,transition:l.transitions.create(["transform","opacity"],{duration:260,easing:Ie.enter})},children:[h(N,{sx:{px:{xs:1.5,sm:1.75},pb:{xs:1.5,sm:1.75},pt:W=>`calc(${W.spacing(1.5)} + var(--t2t-safe-top, 0px))`,borderBottom:"1px solid",borderColor:"primary.dark",display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",gap:{xs:1,sm:0},bgcolor:"primary.main",position:Y?"sticky":"relative",top:0,zIndex:1400},children:[h(it,{direction:"row",spacing:.75,alignItems:"center",sx:{order:{xs:1,sm:2},width:"100%",justifyContent:{xs:"flex-end",sm:"flex-end"},flexWrap:"wrap",gap:.75,pr:0},children:[n(N,{sx:{display:{xs:"grid",sm:"none"},width:36,height:36,borderRadius:"50%",bgcolor:lt(l.palette.common.white,.18),placeItems:"center"},children:n(xo,{sx:{fontSize:20,color:"primary.contrastText"}})}),c&&n(yt,{title:Y?"Switch to Timeline view":"Switch to Table view",children:n("span",{children:n(_e,{onClick:()=>he(W=>!W),sx:{color:"primary.contrastText"},size:"small",children:Y?n(Sr,{}):n(wr,{})})})}),c&&n(yt,{title:"Sync week (NFS)",children:n("span",{children:n(_e,{onClick:Le,disabled:se,sx:{color:"primary.contrastText"},size:"small",children:n(Qs,{sx:{animation:se?"spin 1s linear infinite":"none","@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}})})})}),c&&n(yt,{title:"Sync today's actuals (JBlanked)",children:n("span",{children:n(_e,{onClick:et,disabled:re,sx:{color:"primary.contrastText"},size:"small",children:n(Zs,{sx:{animation:re?"spin 1s linear infinite":"none","@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}})})})}),c&&n(yt,{title:"Refresh events",children:n("span",{children:n(_e,{onClick:le,disabled:ve,sx:{color:"primary.contrastText"},size:"small",children:n(kr,{sx:{animation:ve?"spin 1s linear infinite":"none","@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}})})})}),n(yt,{title:"Open settings",children:n("span",{children:n(_e,{onClick:at,sx:{color:"primary.contrastText"},size:"small",children:n(Js,{})})})}),n(yt,{title:"Close events",children:n("span",{children:n(_e,{onClick:t,sx:{color:"primary.contrastText"},size:"small",children:n(Ut,{})})})})]}),h(N,{sx:{order:{xs:2,sm:1},width:"100%",mt:{xs:.5,sm:0},display:"flex",alignItems:"center",gap:1},children:[n(N,{sx:{display:{xs:"none",sm:"grid"},width:36,height:36,borderRadius:"50%",bgcolor:lt(l.palette.common.white,.18),placeItems:"center"},children:n(xo,{sx:{fontSize:20,color:"primary.contrastText"}})}),h(N,{children:[n(_,{variant:"subtitle2",sx:{textTransform:"uppercase",letterSpacing:1,color:lt(l.palette.primary.contrastText,.8)},children:"Economic Calendar"}),n(_,{variant:"h6",sx:{fontWeight:800,color:"primary.contrastText"},children:bt})]})]})]}),c&&ke&&n(N,{sx:{px:{xs:1.5,sm:2},py:1,bgcolor:"background.paper"},children:n(ut,{severity:ke.includes("Failed")?"error":"success",sx:{py:.5},children:ke})}),h(N,{sx:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column",bgcolor:"background.default"},children:[!c&&n(N,{sx:{p:{xs:2.5,sm:3},overflow:"auto"},children:h(ut,{severity:"info",sx:{"& .MuiAlert-message":{width:"100%"}},children:[n(Cr,{sx:{fontWeight:800,fontSize:"1.05rem"},children:"ðŸ”’ Authentication Required"}),n(_,{variant:"body1",sx:{mb:1.5},children:"Create a free account to unlock the live economic calendar."}),n(_,{variant:"body2",color:"text.secondary",children:"- Real-time economic events"}),n(_,{variant:"body2",color:"text.secondary",children:"- Impact and currency filters"}),n(_,{variant:"body2",color:"text.secondary",sx:{mb:1.5},children:"- Cloud sync across devices"}),n(Re,{variant:"contained",onClick:()=>{t(),r&&r()},sx:{textTransform:"none",fontWeight:700},children:"Sign Up / Log In"})]})}),c&&h(N,{sx:{flex:1,display:"flex",flexDirection:"column",gap:1.25,overflow:"hidden",p:Y?{xs:1.5,sm:2}:{xs:1.25,sm:1.75}},children:[n(Ze,{elevation:0,sx:{border:"1px solid",borderColor:"divider",bgcolor:"background.paper",color:"text.primary",borderRadius:2,flexShrink:0,overflow:"hidden"},children:n(Ir,{filters:v,onFiltersChange:x,onApply:V,loading:O,timezone:d,newsSource:p,actionOffset:0})}),h(Ze,{elevation:0,sx:{border:"1px solid",borderColor:"divider",bgcolor:"background.paper",color:"text.primary",flex:1,display:"flex",flexDirection:"column",overflow:"hidden",borderRadius:2,boxShadow:"none"},children:[h(N,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:{xs:1.5,sm:2},py:1,borderBottom:"1px solid",borderColor:"divider",gap:1,flexWrap:"wrap"},children:[h(N,{sx:{display:"flex",flexDirection:"column",gap:.25,minWidth:0},children:[n(_,{variant:"subtitle2",sx:{fontWeight:800},children:pt}),h(_,{variant:"caption",sx:{color:"text.secondary"},children:[ie.toLocaleString()," events â€¢ Updated ",ce?ce.toLocaleTimeString():"â€”"]})]}),n(it,{direction:"row",spacing:1,alignItems:"center",children:n(ni,{value:p,onChange:Xe})})]}),n(N,{sx:{flex:1,minHeight:0,overflow:"hidden"},children:Y?n(Tr,{events:L,loading:O,error:f,timezone:d,onRefresh:le,autoScrollToNextKey:o||Se,isFavoriteEvent:T,onToggleFavorite:B,isFavoritePending:I,favoritesLoading:D,hasEventNotes:R,onOpenNotes:be,isEventNotesLoading:q}):n(Pr,{events:L,contextEvents:C,loading:O,timezone:d,onVisibleCountChange:te,autoScrollToNextKey:o||Se,searchQuery:m.searchQuery,isFavoriteEvent:T,onToggleFavorite:B,isFavoritePending:I,favoritesLoading:D,hasEventNotes:R,onOpenNotes:be,isEventNotesLoading:q})}),!Y&&f&&n(N,{sx:{borderTop:"1px solid",borderColor:lt("#1e293b",.6),px:1.5,py:1},children:n(ut,{severity:"error",sx:{my:0},children:f})})]})]})]}),n(ri,{open:!!S,onClose:ae,event:(S==null?void 0:S.event)||null,timezone:d,notes:S?j(S.event):[],loading:S?q(S.event):!1,onAddNote:Ee,onRemoveNote:$e,error:$})]})})}function hi(){const{isLoading:e,clockStyle:t,canvasSize:o,clockSize:r,sessions:i,selectedTimezone:l,updateClockStyle:c,updateCanvasSize:d,updateClockSize:a,updateSessions:p,backgroundColor:u,updateBackgroundColor:P,backgroundBasedOnSession:D,toggleBackgroundBasedOnSession:T,showHandClock:E,showDigitalClock:I,showSessionLabel:$,toggleShowHandClock:R,toggleShowDigitalClock:j,toggleShowSessionLabel:b,showTimeToEnd:M,showTimeToStart:k,toggleShowTimeToEnd:w,toggleShowTimeToStart:q,showSessionNamesInCanvas:m,showEventsOnCanvas:ne,eventFilters:F,newsSource:X}=Dn(),{currentTime:C,activeSession:z,timeToEnd:O,nextSession:ee,timeToStart:f}=ds(l,i),[G,S]=s.useState(!1),[Z,se]=s.useState(!1),[A,re]=s.useState(r),[xe,ve]=s.useState(!1),Q=s.useRef(null),{isFullscreen:Y}=Bo(Q),[he,ke]=s.useState(null),H=s.useRef({hour:0,minute:0,second:0}),[ie,te]=s.useState(E&&ne),ce=B=>{se(!0),B!=null&&B.id&&ke({eventId:B.id,ts:Date.now(),source:"canvas"})};s.useEffect(()=>{const B=()=>{const be=window.innerHeight,ae=window.innerWidth,Ee=48,$e=375,ze=I?.133:0,we=$?.213:0,v=1+ze+we,L=be-Ee-10;let U=Math.floor(L/v*(o/100));U=Math.max(150,U);const oe=ae-60;U=Math.min(U,oe);const fe=I?Math.round(60*(U/$e)):0,x=$?Math.round(100*(U/$e)):0,V=U+fe+x+Ee+20;if(o===100&&V>be){const le=be/V;U=Math.floor(U*le*.98)}re(U),ve(!0)};return B(),window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[o,I,$]);const de=D&&z?z.color:u,Se=Yn(de)?"#fff":"#4B4B4B";s.useEffect(()=>{document.body.style.backgroundColor=de},[de]),s.useEffect(()=>{window.dispatchEvent(new Event("resize"))},[Y]);const Ae=!xe,pe=e||ie;s.useEffect(()=>{te(E&&ne)},[E,ne]);const Me=()=>{se(!1),ke(null)};return h(ct,{children:[n(ur,{isLoading:pe,clockSize:A}),h("div",{className:"app-container",ref:Q,style:{maxWidth:A+200,backgroundColor:de,opacity:pe?0:1,pointerEvents:pe?"none":"auto",transition:"opacity 0.6s ease"},children:[n(yt,{title:"Economic events",placement:"left",children:n(_e,{onClick:()=>se(!0),sx:{position:"fixed",bottom:"calc(12px + var(--t2t-safe-bottom, 0px))",right:"max(12px, env(safe-area-inset-right, 0px))",color:Se,zIndex:1100,"&:hover":{backgroundColor:"transparent",opacity:.8}},"aria-label":"Open economic events",children:n(cs,{sx:{fontSize:26}})})}),ne&&!Ae&&(F==null?void 0:F.startDate)&&(F==null?void 0:F.endDate)&&(()=>{const{year:B,month:be,day:ae,dayOfWeek:Ee}=en(l),$e=st(l,B,be,ae),ze=st(l,B,be,ae,{endOfDay:!0}),we=new Date(F.startDate),v=new Date(F.endDate),L=we.getTime()===$e.getTime()&&v.getTime()===ze.getTime(),U=st(l,B,be,ae-Ee),oe=st(l,B,be,ae+(6-Ee),{endOfDay:!0}),fe=we.getTime()===U.getTime()&&v.getTime()===oe.getTime();if(L)return null;const x={weekday:"long",month:"short",day:"numeric",year:"numeric",timeZone:l},V={month:"short",day:"numeric",year:"numeric",timeZone:l};let le="";const Ce=st(l,B,be,ae-1),Le=st(l,B,be,ae+1);if(fe){const et=U.toLocaleDateString("en-US",V),Xe=oe.toLocaleDateString("en-US",V);le=`Showing events for this week: ${et} - ${Xe}`}else if(we.getTime()===Ce.getTime())le=`Showing events from Yesterday: ${we.toLocaleDateString("en-US",x)}`;else if(we.getTime()===Le.getTime())le=`Showing events for Tomorrow: ${we.toLocaleDateString("en-US",x)}`;else if(we.toDateString()===v.toDateString())le=`Showing events for ${we.toLocaleDateString("en-US",x)}`;else{const et=we.toLocaleDateString("en-US",x),Xe=v.toLocaleDateString("en-US",x);le=`Showing events: ${et} - ${Xe}`}return n(N,{onClick:()=>se(!0),sx:{textAlign:"center",mt:{xs:1.5,sm:2},mb:{xs:.5,sm:.75},px:{xs:1.5,sm:2},py:{xs:.5,sm:.625},bgcolor:lt("#000",.04),borderRadius:1.5,maxWidth:{xs:"95%",sm:A},mx:"auto",cursor:"pointer",userSelect:"none",transition:"all 0.2s ease","&:hover":{bgcolor:lt("#000",.08),transform:"translateY(-1px)"}},children:n(_,{variant:"caption",sx:{fontWeight:600,color:"text.secondary",fontSize:{xs:"0.7rem",sm:"0.75rem"},lineHeight:1.4,display:"block"},children:le})})})(),h("div",{className:"clock-elements-container",children:[E&&n("div",{className:"hand-clock",style:{width:"100%",display:"flex",justifyContent:"center"},children:Ae?n("div",{style:{width:A,height:A}}):h("div",{className:"hand-clock-wrapper",style:{position:"relative",width:A,height:A},children:[n(hs,{size:A,time:C,sessions:i,handColor:Se,clockStyle:t,showSessionNamesInCanvas:m,activeSession:z,backgroundBasedOnSession:D,renderHandsInCanvas:!1,handAnglesRef:H}),n(As,{size:A,handAnglesRef:H,handColor:Se,time:C}),ne?n(Ds,{size:A,timezone:l,eventFilters:F,newsSource:X,onEventClick:ce,onLoadingStateChange:E?te:void 0}):null]})}),I&&!Ae&&n(Es,{time:C,clockSize:A,textColor:Se}),$&&!Ae&&n(Rs,{activeSession:z,showTimeToEnd:M,timeToEnd:O,showTimeToStart:k,nextSession:ee,timeToStart:f,clockSize:A})]}),n(Gs,{open:G,onClose:()=>S(!1)}),n(ii,{open:Z,onClose:Me,autoScrollRequest:he,onOpenAuth:()=>S(!0),onOpenSettings:()=>S(!0)})]})]})}export{hi as default};
