import{g as xt,a as vt,r as s,u as Dt,j as n,s as Me,c as Ze,b as $e,d as St,P as Qe,m as We,e as tn,f as _o,h as $t,C as Go,i as nt,k as h,I as je,l as Be,B as Xo,n as ko,o as Tn,p as Co,q as Xt,t as Qo,v as Zo,w as Rn,x as _n,y as yn,z as Io,A as Lt,D as Mn,E as Kn,F as nn,G as Jo,H as To,T as Mo,J as At,K as Ht,L as on,M as Po,N as Do,O as Ao,Q as N,R as lt,S as Pn,U as G,V as er,W as ct,X as ut,Y as tr,Z as mt,_ as Eo,$ as nr,a0 as or,a1 as rr,a2 as ar,a3 as Gn,a4 as Ro,a5 as Xn,a6 as Qn,a7 as sr,a8 as ir,a9 as Zn,aa as Jn,ab as lr,ac as cr,ad as dr,ae as Dn,af as xn,ag as Ln,ah as ur}from"./index-5wZH95oK.js";import{u as pr,P as qn,S as Lo,g as Zt,N as vn,a as eo,b as to,f as No,F as no,c as kn,D as Pt,T as yt,d as Wn,s as Bn,e as fr,h as Et,i as qt,j as Rt,k as Yt,C as hr,l as Vt,M as Nn,m as $o,I as $n,n as mr,o as gr,p as br,q as yr,r as en,t as st,v as oo,w as xr,x as vr,y as Sr,z as wr,R as kr,A as Cr,E as Ir,B as Tr,G as Mr}from"./EventsTable-CTUFwlbE.js";import{S as it,C as Fn,B as Le,L as Pr}from"./CheckCircle-dnyFUncK.js";import{u as Jt,s as Dr,A as Ar,C as Hn,f as Wt,i as Nt,o as ro,a as zn,b as Er,m as Rr,M as Lr,c as Sn,d as Tt,T as ot}from"./TextField-CyNIe0j5.js";import{L as Nr,a as $r}from"./ListItemText-DqdI2hxJ.js";import"./listItemIconClasses-CrPJvG8F.js";function zr(e){return xt("MuiAppBar",e)}vt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Or=e=>{const{color:t,position:o,classes:r}=e,i={root:["root",`color${$e(t)}`,`position${$e(o)}`]};return St(i,zr,r)},ao=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,Wr=Me(Qe,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`position${$e(o.position)}`],t[`color${$e(o.color)}`]]}})(We(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(tn(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?ao(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?ao(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),Br=s.forwardRef(function(t,o){const r=Dt({props:t,name:"MuiAppBar"}),{className:i,color:l="primary",enableColorOnDark:c=!1,position:d="fixed",...a}=r,p={...r,color:l,position:d,enableColorOnDark:c},u=Or(p);return n(Wr,{square:!0,component:"header",ownerState:p,elevation:4,className:Ze(u.root,i,d==="fixed"&&"mui-fixed"),ref:o,...a})});function so({array1:e,array2:t,parser:o=r=>r}){return e&&t&&e.length===t.length&&e.every((r,i)=>o(r)===o(t[i]))}function io(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Fr(e={}){const{ignoreAccents:t=!0,ignoreCase:o=!0,limit:r,matchFrom:i="any",stringify:l,trim:c=!1}=e;return(d,{inputValue:a,getOptionLabel:p})=>{let u=c?a.trim():a;o&&(u=u.toLowerCase()),t&&(u=io(u));const M=u?d.filter(D=>{let T=(l||p)(D);return o&&(T=T.toLowerCase()),t&&(T=io(T)),i==="start"?T.startsWith(u):T.includes(u)}):d;return typeof r=="number"?M.slice(0,r):M}}const Hr=Fr(),Vr=5,Ur=e=>{var t;return e.current!==null&&((t=e.current.parentElement)==null?void 0:t.contains(document.activeElement))},Kr=[];function lo(e,t,o,r){if(t||e==null||r)return"";const i=o(e);return typeof i=="string"?i:""}function qr(e){const{unstable_isActiveElementInListbox:t=Ur,unstable_classNamePrefix:o="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:l=!1,blurOnSelect:c=!1,clearOnBlur:d=!e.freeSolo,clearOnEscape:a=!1,componentName:p="useAutocomplete",defaultValue:u=e.multiple?Kr:null,disableClearable:M=!1,disableCloseOnSelect:D=!1,disabled:T,disabledItemsFocusable:E=!1,disableListWrap:I=!1,filterOptions:$=Hr,filterSelectedOptions:R=!1,freeSolo:Y=!1,getOptionDisabled:b,getOptionKey:P,getOptionLabel:k=y=>y.label??y,groupBy:w,handleHomeEndKeys:K=!e.freeSolo,id:m,includeInputInList:ne=!1,inputValue:F,isOptionEqualToValue:X=(y,g)=>y===g,multiple:C=!1,onChange:z,onClose:O,onHighlightChange:te,onInputChange:f,onOpen:Q,open:S,openOnFocus:J=!1,options:ae,readOnly:A=!1,renderValue:re,selectOnFocus:ve=!e.freeSolo,value:Se}=e,Z=_o(m);let q=k;q=y=>{const g=k(y);return typeof g!="string"?String(g):g};const fe=s.useRef(!1),de=s.useRef(!0),j=s.useRef(null),_=s.useRef(null),[be,he]=s.useState(null),[ie,ke]=s.useState(-1),Ee=i?0:-1,pe=s.useRef(Ee),Pe=s.useRef(lo(u??Se,C,q)).current,[B,ye]=Jt({controlled:Se,default:u,name:p}),[se,Re]=Jt({controlled:F,default:Pe,name:p,state:"inputValue"}),[Ie,Fe]=s.useState(!1),we=s.useCallback((y,g,ee)=>{if(!(C?B.length<g.length:g!==null)&&!d)return;const ge=lo(g,C,q,re);se!==ge&&(Re(ge),f&&f(y,ge,ee))},[q,se,C,f,Re,d,B,re]),[v,L]=Jt({controlled:S,default:!1,name:p,state:"open"}),[H,oe]=s.useState(!0),ue=!C&&B!=null&&se===q(B),x=v&&!A,V=x?$(ae.filter(y=>!(R&&(C?B:[B]).some(g=>g!==null&&X(y,g)))),{inputValue:ue&&H?"":se,getOptionLabel:q}):[],le=pr({filteredOptions:V,value:B,inputValue:se});s.useEffect(()=>{const y=B!==le.value;Ie&&!y||Y&&!y||we(null,B,"reset")},[B,we,Ie,le.value,Y]);const Ce=v&&V.length>0&&!A,Ne=$t(y=>{if(y===-1)j.current.focus();else{const g=re?"data-item-index":"data-tag-index";be.querySelector(`[${g}="${y}"]`).focus()}});s.useEffect(()=>{C&&ie>B.length-1&&(ke(-1),Ne(-1))},[B,C,ie,Ne]);function Je(y,g){if(!_.current||y<0||y>=V.length)return-1;let ee=y;for(;;){const ce=_.current.querySelector(`[data-option-index="${ee}"]`),ge=E?!1:!ce||ce.disabled||ce.getAttribute("aria-disabled")==="true";if(ce&&ce.hasAttribute("tabindex")&&!ge)return ee;if(g==="next"?ee=(ee+1)%V.length:ee=(ee-1+V.length)%V.length,ee===y)return-1}}const _e=$t(({event:y,index:g,reason:ee})=>{if(pe.current=g,g===-1?j.current.removeAttribute("aria-activedescendant"):j.current.setAttribute("aria-activedescendant",`${Z}-option-${g}`),te&&["mouse","keyboard","touch"].includes(ee)&&te(y,g===-1?null:V[g],ee),!_.current)return;const ce=_.current.querySelector(`[role="option"].${o}-focused`);ce&&(ce.classList.remove(`${o}-focused`),ce.classList.remove(`${o}-focusVisible`));let ge=_.current;if(_.current.getAttribute("role")!=="listbox"&&(ge=_.current.parentElement.querySelector('[role="listbox"]')),!ge)return;if(g===-1){ge.scrollTop=0;return}const Ye=_.current.querySelector(`[data-option-index="${g}"]`);if(Ye&&(Ye.classList.add(`${o}-focused`),ee==="keyboard"&&Ye.classList.add(`${o}-focusVisible`),ge.scrollHeight>ge.clientHeight&&ee!=="mouse"&&ee!=="touch")){const Oe=Ye,ft=ge.clientHeight+ge.scrollTop,ln=Oe.offsetTop+Oe.offsetHeight;ln>ft?ge.scrollTop=ln-ge.clientHeight:Oe.offsetTop-Oe.offsetHeight*(w?1.3:0)<ge.scrollTop&&(ge.scrollTop=Oe.offsetTop-Oe.offsetHeight*(w?1.3:0))}}),Ge=$t(({event:y,diff:g,direction:ee="next",reason:ce})=>{if(!x)return;const Ye=Je((()=>{const Oe=V.length-1;if(g==="reset")return Ee;if(g==="start")return 0;if(g==="end")return Oe;const ft=pe.current+g;return ft<0?ft===-1&&ne?-1:I&&pe.current!==-1||Math.abs(g)>1?0:Oe:ft>Oe?ft===Oe+1&&ne?-1:I||Math.abs(g)>1?Oe:0:ft})(),ee);if(_e({index:Ye,reason:ce,event:y}),r&&g!=="reset")if(Ye===-1)j.current.value=se;else{const Oe=q(V[Ye]);j.current.value=Oe,Oe.toLowerCase().indexOf(se.toLowerCase())===0&&se.length>0&&j.current.setSelectionRange(se.length,Oe.length)}}),wt=!so({array1:le.filteredOptions,array2:V,parser:q}),bt=()=>{const y=(g,ee)=>{const ce=g?q(g):"",ge=ee?q(ee):"";return ce===ge};if(pe.current!==-1&&!so({array1:le.filteredOptions,array2:V,parser:q})&&le.inputValue===se&&(C?B.length===le.value.length&&le.value.every((g,ee)=>q(B[ee])===q(g)):y(le.value,B))){const g=le.filteredOptions[pe.current];if(g)return V.findIndex(ee=>q(ee)===q(g))}return-1},pt=s.useCallback(()=>{if(!x)return;const y=bt();if(y!==-1){pe.current=y;return}const g=C?B[0]:B;if(V.length===0||g==null){Ge({diff:"reset"});return}if(_.current){if(g!=null){const ee=V[pe.current];if(C&&ee&&B.findIndex(ge=>X(ee,ge))!==-1)return;const ce=V.findIndex(ge=>X(ge,g));ce===-1?Ge({diff:"reset"}):_e({index:ce});return}if(pe.current>=V.length-1){_e({index:V.length-1});return}_e({index:pe.current})}},[V.length,C?!1:B,R,Ge,_e,x,se,C]),at=$t(y=>{Dr(_,y),y&&pt()});s.useEffect(()=>{(wt||x)&&pt()},[pt,wt,x]);const Te=y=>{v||(L(!0),oe(!0),Q&&Q(y))},W=(y,g)=>{v&&(L(!1),O&&O(y,g))},U=(y,g,ee,ce)=>{if(C){if(B.length===g.length&&B.every((ge,Ye)=>ge===g[Ye]))return}else if(B===g)return;z&&z(y,g,ee,ce),ye(g)},me=s.useRef(!1),De=(y,g,ee="selectOption",ce="options")=>{let ge=ee,Ye=g;if(C){Ye=Array.isArray(B)?B.slice():[];const Oe=Ye.findIndex(ft=>X(g,ft));Oe===-1?Ye.push(g):ce!=="freeSolo"&&(Ye.splice(Oe,1),ge="removeOption")}we(y,Ye,ge),U(y,Ye,ge,{option:g}),!D&&(!y||!y.ctrlKey&&!y.metaKey)&&W(y,ge),(c===!0||c==="touch"&&me.current||c==="mouse"&&!me.current)&&j.current.blur()};function et(y,g){if(y===-1)return-1;let ee=y;for(;;){if(g==="next"&&ee===B.length||g==="previous"&&ee===-1)return-1;const ce=re?"data-item-index":"data-tag-index",ge=be.querySelector(`[${ce}="${ee}"]`);if(!ge||!ge.hasAttribute("tabindex")||ge.disabled||ge.getAttribute("aria-disabled")==="true")ee+=g==="next"?1:-1;else return ee}}const Ve=(y,g)=>{if(!C)return;se===""&&W(y,"toggleInput");let ee=ie;ie===-1?se===""&&g==="previous"&&(ee=B.length-1):(ee+=g==="next"?1:-1,ee<0&&(ee=0),ee===B.length&&(ee=-1)),ee=et(ee,g),ke(ee),Ne(ee)},Xe=y=>{fe.current=!0,Re(""),f&&f(y,"","clear"),U(y,C?[]:null,"clear")},Ue=y=>g=>{if(y.onKeyDown&&y.onKeyDown(g),!g.defaultMuiPrevented&&(ie!==-1&&!["ArrowLeft","ArrowRight"].includes(g.key)&&(ke(-1),Ne(-1)),g.which!==229))switch(g.key){case"Home":x&&K&&(g.preventDefault(),Ge({diff:"start",direction:"next",reason:"keyboard",event:g}));break;case"End":x&&K&&(g.preventDefault(),Ge({diff:"end",direction:"previous",reason:"keyboard",event:g}));break;case"PageUp":g.preventDefault(),Ge({diff:-5,direction:"previous",reason:"keyboard",event:g}),Te(g);break;case"PageDown":g.preventDefault(),Ge({diff:Vr,direction:"next",reason:"keyboard",event:g}),Te(g);break;case"ArrowDown":g.preventDefault(),Ge({diff:1,direction:"next",reason:"keyboard",event:g}),Te(g);break;case"ArrowUp":g.preventDefault(),Ge({diff:-1,direction:"previous",reason:"keyboard",event:g}),Te(g);break;case"ArrowLeft":!C&&re?Ne(0):Ve(g,"previous");break;case"ArrowRight":!C&&re?Ne(-1):Ve(g,"next");break;case"Enter":if(pe.current!==-1&&x){const ee=V[pe.current],ce=b?b(ee):!1;if(g.preventDefault(),ce)return;De(g,ee,"selectOption"),r&&j.current.setSelectionRange(j.current.value.length,j.current.value.length)}else Y&&se!==""&&ue===!1&&(C&&g.preventDefault(),De(g,se,"createOption","freeSolo"));break;case"Escape":x?(g.preventDefault(),g.stopPropagation(),W(g,"escape")):a&&(se!==""||C&&B.length>0||re)&&(g.preventDefault(),g.stopPropagation(),Xe(g));break;case"Backspace":if(C&&!A&&se===""&&B.length>0){const ee=ie===-1?B.length-1:ie,ce=B.slice();ce.splice(ee,1),U(g,ce,"removeOption",{option:B[ee]})}!C&&re&&!A&&(ye(null),Ne(-1));break;case"Delete":if(C&&!A&&se===""&&B.length>0&&ie!==-1){const ee=ie,ce=B.slice();ce.splice(ee,1),U(g,ce,"removeOption",{option:B[ee]})}!C&&re&&!A&&(ye(null),Ne(-1));break}},ze=y=>{Fe(!0),J&&!fe.current&&Te(y)},rt=y=>{if(t(_)){j.current.focus();return}Fe(!1),de.current=!0,fe.current=!1,l&&pe.current!==-1&&x?De(y,V[pe.current],"blur"):l&&Y&&se!==""?De(y,se,"blur","freeSolo"):d&&we(y,B,"blur"),W(y,"blur")},Ke=y=>{const g=y.target.value;se!==g&&(Re(g),oe(!1),f&&f(y,g,"input")),g===""?!M&&!C&&U(y,null,"clear"):Te(y)},zt=y=>{const g=Number(y.currentTarget.getAttribute("data-option-index"));pe.current!==g&&_e({event:y,index:g,reason:"mouse"})},Ot=y=>{_e({event:y,index:Number(y.currentTarget.getAttribute("data-option-index")),reason:"touch"}),me.current=!0},an=y=>{const g=Number(y.currentTarget.getAttribute("data-option-index"));De(y,V[g],"selectOption"),me.current=!1},An=y=>g=>{const ee=B.slice();ee.splice(y,1),U(g,ee,"removeOption",{option:B[y]})},jt=y=>{U(y,null,"removeOption",{option:B})},He=y=>{v?W(y,"toggleInput"):Te(y)},qe=y=>{y.currentTarget.contains(y.target)&&y.target.getAttribute("id")!==Z&&y.preventDefault()},kt=y=>{y.currentTarget.contains(y.target)&&(j.current.focus(),ve&&de.current&&j.current.selectionEnd-j.current.selectionStart===0&&j.current.select(),de.current=!1)},En=y=>{!T&&(se===""||!v)&&He(y)};let _t=Y&&se.length>0;_t=_t||(C?B.length>0:B!==null);let sn=V;return w&&(sn=V.reduce((y,g,ee)=>{const ce=w(g);return y.length>0&&y[y.length-1].group===ce?y[y.length-1].options.push(g):y.push({key:ee,index:ee,group:ce,options:[g]}),y},[])),T&&Ie&&rt(),{getRootProps:(y={})=>({...y,onKeyDown:Ue(y),onMouseDown:qe,onClick:kt}),getInputLabelProps:()=>({id:`${Z}-label`,htmlFor:Z}),getInputProps:()=>({id:Z,value:se,onBlur:rt,onFocus:ze,onChange:Ke,onMouseDown:En,"aria-activedescendant":x?"":null,"aria-autocomplete":r?"both":"list","aria-controls":Ce?`${Z}-listbox`:void 0,"aria-expanded":Ce,autoComplete:"off",ref:j,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:T}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Xe}),getItemProps:({index:y=0}={})=>({...C&&{key:y},...re?{"data-item-index":y}:{"data-tag-index":y},tabIndex:-1,...!A&&{onDelete:C?An(y):jt}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:He}),getTagProps:({index:y})=>({key:y,"data-tag-index":y,tabIndex:-1,...!A&&{onDelete:An(y)}}),getListboxProps:()=>({role:"listbox",id:`${Z}-listbox`,"aria-labelledby":`${Z}-label`,ref:at,onMouseDown:y=>{y.preventDefault()}}),getOptionProps:({index:y,option:g})=>{const ee=(C?B:[B]).some(ge=>ge!=null&&X(g,ge)),ce=b?b(g):!1;return{key:(P==null?void 0:P(g))??q(g),tabIndex:-1,role:"option",id:`${Z}-option-${y}`,onMouseMove:zt,onClick:an,onTouchStart:Ot,"data-option-index":y,"aria-disabled":ce,"aria-selected":ee}},id:Z,inputValue:se,value:B,dirty:_t,expanded:x&&be,popupOpen:x,focused:Ie||ie!==-1,anchorEl:be,setAnchorEl:he,focusedItem:ie,focusedTag:ie,groupedOptions:sn}}function Yr(e){return xt("MuiListSubheader",e)}vt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const jr=e=>{const{classes:t,color:o,disableGutters:r,inset:i,disableSticky:l}=e,c={root:["root",o!=="default"&&`color${$e(o)}`,!r&&"gutters",i&&"inset",!l&&"sticky"]};return St(c,Yr,t)},_r=Me("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.color!=="default"&&t[`color${$e(o.color)}`],!o.disableGutters&&t.gutters,o.inset&&t.inset,!o.disableSticky&&t.sticky]}})(We(({theme:e})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(e.vars||e).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:72}},{props:({ownerState:t})=>!t.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}}]}))),Vn=s.forwardRef(function(t,o){const r=Dt({props:t,name:"MuiListSubheader"}),{className:i,color:l="default",component:c="li",disableGutters:d=!1,disableSticky:a=!1,inset:p=!1,...u}=r,M={...r,color:l,component:c,disableGutters:d,disableSticky:a,inset:p},D=jr(M);return n(_r,{as:c,className:Ze(D.root,i),ref:o,ownerState:M,...u})});Vn&&(Vn.muiSkipListHighlight=!0);function Gr(e){return xt("MuiAutocomplete",e)}const xe=vt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var co,uo;const Xr=e=>{const{classes:t,disablePortal:o,expanded:r,focused:i,fullWidth:l,hasClearIcon:c,hasPopupIcon:d,inputFocused:a,popupOpen:p,size:u}=e,M={root:["root",r&&"expanded",i&&"focused",l&&"fullWidth",c&&"hasClearIcon",d&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",a&&"inputFocused"],tag:["tag",`tagSize${$e(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",p&&"popupIndicatorOpen"],popper:["popper",o&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return St(M,Gr,t)},Qr=Me("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e,{fullWidth:r,hasClearIcon:i,hasPopupIcon:l,inputFocused:c,size:d}=o;return[{[`& .${xe.tag}`]:t.tag},{[`& .${xe.tag}`]:t[`tagSize${$e(d)}`]},{[`& .${xe.inputRoot}`]:t.inputRoot},{[`& .${xe.input}`]:t.input},{[`& .${xe.input}`]:c&&t.inputFocused},t.root,r&&t.fullWidth,l&&t.hasPopupIcon,i&&t.hasClearIcon]}})({[`&.${xe.focused} .${xe.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${xe.clearIndicator}`]:{visibility:"visible"}},[`& .${xe.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${xe.inputRoot}`]:{[`.${xe.hasPopupIcon}&, .${xe.hasClearIcon}&`]:{paddingRight:30},[`.${xe.hasPopupIcon}.${xe.hasClearIcon}&`]:{paddingRight:56},[`& .${xe.input}`]:{width:0,minWidth:30}},[`& .${zn.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${zn.root}.${Nt.sizeSmall}`]:{[`& .${zn.input}`]:{padding:"2px 4px 3px 0"}},[`& .${ro.root}`]:{padding:9,[`.${xe.hasPopupIcon}&, .${xe.hasClearIcon}&`]:{paddingRight:39},[`.${xe.hasPopupIcon}.${xe.hasClearIcon}&`]:{paddingRight:65},[`& .${xe.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${xe.endAdornment}`]:{right:9}},[`& .${ro.root}.${Nt.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${xe.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Wt.root}`]:{paddingTop:19,paddingLeft:8,[`.${xe.hasPopupIcon}&, .${xe.hasClearIcon}&`]:{paddingRight:39},[`.${xe.hasPopupIcon}.${xe.hasClearIcon}&`]:{paddingRight:65},[`& .${Wt.input}`]:{padding:"7px 4px"},[`& .${xe.endAdornment}`]:{right:9}},[`& .${Wt.root}.${Nt.sizeSmall}`]:{paddingBottom:1,[`& .${Wt.input}`]:{padding:"2.5px 4px"}},[`& .${Nt.hiddenLabel}`]:{paddingTop:8},[`& .${Wt.root}.${Nt.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${xe.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Wt.root}.${Nt.hiddenLabel}.${Nt.sizeSmall}`]:{[`& .${xe.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${xe.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${xe.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${xe.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${xe.inputRoot}`]:{flexWrap:"wrap"}}}]}),Zr=Me("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),Jr=Me(je,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),ea=Me(je,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.popupIndicator,o.popupOpen&&t.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),ta=Me(qn,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${xe.option}`]:t.option},t.popper,o.disablePortal&&t.popperDisablePortal]}})(We(({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),na=Me(Qe,{name:"MuiAutocomplete",slot:"Paper"})(We(({theme:e})=>({...e.typography.body1,overflow:"auto"}))),oa=Me("div",{name:"MuiAutocomplete",slot:"Loading"})(We(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),ra=Me("div",{name:"MuiAutocomplete",slot:"NoOptions"})(We(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),aa=Me("ul",{name:"MuiAutocomplete",slot:"Listbox"})(We(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${xe.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${xe.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${xe.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),[`&.${xe.focused}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${xe.focusVisible}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.focusOpacity}`)}}}}))),sa=Me(Vn,{name:"MuiAutocomplete",slot:"GroupLabel"})(We(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),ia=Me("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${xe.option}`]:{paddingLeft:24}}),la=s.forwardRef(function(t,o){const r=Dt({props:t,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:l=!1,autoSelect:c=!1,blurOnSelect:d=!1,ChipProps:a,className:p,clearIcon:u=co||(co=n(Go,{fontSize:"small"})),clearOnBlur:M=!r.freeSolo,clearOnEscape:D=!1,clearText:T="Clear",closeText:E="Close",componentsProps:I,defaultValue:$=r.multiple?[]:null,disableClearable:R=!1,disableCloseOnSelect:Y=!1,disabled:b=!1,disabledItemsFocusable:P=!1,disableListWrap:k=!1,disablePortal:w=!1,filterOptions:K,filterSelectedOptions:m=!1,forcePopupIcon:ne="auto",freeSolo:F=!1,fullWidth:X=!1,getLimitTagsText:C=Ae=>`+${Ae}`,getOptionDisabled:z,getOptionKey:O,getOptionLabel:te,isOptionEqualToValue:f,groupBy:Q,handleHomeEndKeys:S=!r.freeSolo,id:J,includeInputInList:ae=!1,inputValue:A,limitTags:re=-1,ListboxComponent:ve,ListboxProps:Se,loading:Z=!1,loadingText:q="Loadingâ€¦",multiple:fe=!1,noOptionsText:de="No options",onChange:j,onClose:_,onHighlightChange:be,onInputChange:he,onOpen:ie,open:ke,openOnFocus:Ee=!1,openText:pe="Open",options:Pe,PaperComponent:B,PopperComponent:ye,popupIcon:se=uo||(uo=n(Ar,{})),readOnly:Re=!1,renderGroup:Ie,renderInput:Fe,renderOption:we,renderTags:v,renderValue:L,selectOnFocus:H=!r.freeSolo,size:oe="medium",slots:ue={},slotProps:x={},value:V,...le}=r,{getRootProps:Ce,getInputProps:Ne,getInputLabelProps:Je,getPopupIndicatorProps:_e,getClearProps:Ge,getItemProps:wt,getListboxProps:bt,getOptionProps:pt,value:at,dirty:Te,expanded:W,id:U,popupOpen:me,focused:De,focusedItem:et,anchorEl:Ve,setAnchorEl:Xe,inputValue:Ue,groupedOptions:ze}=qr({...r,componentName:"Autocomplete"}),rt=!R&&!b&&Te&&!Re,Ke=(!F||ne===!0)&&ne!==!1,{onMouseDown:zt}=Ne(),{ref:Ot,...an}=bt(),jt=te||(Ae=>Ae.label??Ae),He={...r,disablePortal:w,expanded:W,focused:De,fullWidth:X,getOptionLabel:jt,hasClearIcon:rt,hasPopupIcon:Ke,inputFocused:et===-1,popupOpen:me,size:oe},qe=Xr(He),kt={slots:{paper:B,popper:ye,...ue},slotProps:{chip:a,listbox:Se,...I,...x}},[En,_t]=nt("listbox",{elementType:aa,externalForwardedProps:kt,ownerState:He,className:qe.listbox,additionalProps:an,ref:Ot}),[sn,y]=nt("paper",{elementType:Qe,externalForwardedProps:kt,ownerState:He,className:qe.paper}),[g,ee]=nt("popper",{elementType:qn,externalForwardedProps:kt,ownerState:He,className:qe.popper,additionalProps:{disablePortal:w,style:{width:Ve?Ve.clientWidth:null},role:"presentation",anchorEl:Ve,open:me}});let ce;const ge=Ae=>({className:qe.tag,disabled:b,...wt(Ae)});if(fe?at.length>0&&(v?ce=v(at,ge,He):L?ce=L(at,ge,He):ce=at.map((Ae,Ct)=>{const{key:It,...Gt}=ge({index:Ct});return n(Hn,{label:jt(Ae),size:oe,...Gt,...kt.slotProps.chip},It)})):L&&at!=null&&(ce=L(at,ge,He)),re>-1&&Array.isArray(ce)){const Ae=ce.length-re;!De&&Ae>0&&(ce=ce.splice(0,re),ce.push(n("span",{className:qe.tag,children:C(Ae)},ce.length)))}const Oe=Ie||(Ae=>h("li",{children:[n(sa,{className:qe.groupLabel,ownerState:He,component:"div",children:Ae.group}),n(ia,{className:qe.groupUl,ownerState:He,children:Ae.children})]},Ae.key)),ln=we||((Ae,Ct)=>{const{key:It,...Gt}=Ae;return n("li",{...Gt,children:jt(Ct)},It)}),jn=(Ae,Ct)=>{const It=pt({option:Ae,index:Ct});return ln({...It,className:qe.option},Ae,{selected:It["aria-selected"],index:Ct,inputValue:Ue},He)},cn=kt.slotProps.clearIndicator,dn=kt.slotProps.popupIndicator;return h(s.Fragment,{children:[n(Qr,{ref:o,className:Ze(qe.root,p),ownerState:He,...Ce(le),children:Fe({id:U,disabled:b,fullWidth:!0,size:oe==="small"?"small":void 0,InputLabelProps:Je(),InputProps:{ref:Xe,className:qe.inputRoot,startAdornment:ce,onMouseDown:Ae=>{Ae.target===Ae.currentTarget&&zt(Ae)},...(rt||Ke)&&{endAdornment:h(Zr,{className:qe.endAdornment,ownerState:He,children:[rt?n(Jr,{...Ge(),"aria-label":T,title:T,ownerState:He,...cn,className:Ze(qe.clearIndicator,cn==null?void 0:cn.className),children:u}):null,Ke?n(ea,{..._e(),disabled:b,"aria-label":me?E:pe,title:me?E:pe,ownerState:He,...dn,className:Ze(qe.popupIndicator,dn==null?void 0:dn.className),children:se}):null]})}},inputProps:{className:qe.input,disabled:b,readOnly:Re,...Ne()}})}),Ve?n(ta,{as:g,...ee,children:h(na,{as:sn,...y,children:[Z&&ze.length===0?n(oa,{className:qe.loading,ownerState:He,children:q}):null,ze.length===0&&!F&&!Z?n(ra,{className:qe.noOptions,ownerState:He,role:"presentation",onMouseDown:Ae=>{Ae.preventDefault()},children:de}):null,ze.length>0?n(En,{as:ve,..._t,children:ze.map((Ae,Ct)=>Q?Oe({key:Ae.key,group:Ae.group,children:Ae.options.map((It,Gt)=>jn(It,Ae.index+Gt))}):jn(Ae,Ct))}):null]})}):null]})}),ca=Be(n("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function da(e){return xt("MuiAvatar",e)}vt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const ua=e=>{const{classes:t,variant:o,colorDefault:r}=e;return St({root:["root",o,r&&"colorDefault"],img:["img"],fallback:["fallback"]},da,t)},pa=Me("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],o.colorDefault&&t.colorDefault]}})(We(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(e.vars||e).palette.background.default,...e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.grey[400],...e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})}}}]}))),fa=Me("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),ha=Me(ca,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function ma({crossOrigin:e,referrerPolicy:t,src:o,srcSet:r}){const[i,l]=s.useState(!1);return s.useEffect(()=>{if(!o&&!r)return;l(!1);let c=!0;const d=new Image;return d.onload=()=>{c&&l("loaded")},d.onerror=()=>{c&&l("error")},d.crossOrigin=e,d.referrerPolicy=t,d.src=o,r&&(d.srcset=r),()=>{c=!1}},[e,t,o,r]),i}const Cn=s.forwardRef(function(t,o){const r=Dt({props:t,name:"MuiAvatar"}),{alt:i,children:l,className:c,component:d="div",slots:a={},slotProps:p={},imgProps:u,sizes:M,src:D,srcSet:T,variant:E="circular",...I}=r;let $=null;const R={...r,component:d,variant:E},Y=ma({...u,...typeof p.img=="function"?p.img(R):p.img,src:D,srcSet:T}),b=D||T,P=b&&Y!=="error";R.colorDefault=!P,delete R.ownerState;const k=ua(R),[w,K]=nt("root",{ref:o,className:Ze(k.root,c),elementType:pa,externalForwardedProps:{slots:a,slotProps:p,component:d,...I},ownerState:R}),[m,ne]=nt("img",{className:k.img,elementType:fa,externalForwardedProps:{slots:a,slotProps:{img:{...u,...p.img}}},additionalProps:{alt:i,src:D,srcSet:T,sizes:M},ownerState:R}),[F,X]=nt("fallback",{className:k.fallback,elementType:ha,externalForwardedProps:{slots:a,slotProps:p},shouldForwardComponentProp:!0,ownerState:R});return P?$=n(m,{...ne}):l||l===0?$=l:b&&i?$=i[0]:$=n(F,{...X}),n(w,{...K,children:$})});function ga(e){return xt("MuiCardActions",e)}vt("MuiCardActions",["root","spacing"]);const ba=e=>{const{classes:t,disableSpacing:o}=e;return St({root:["root",!o&&"spacing"]},ga,t)},ya=Me("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),xa=s.forwardRef(function(t,o){const r=Dt({props:t,name:"MuiCardActions"}),{disableSpacing:i=!1,className:l,...c}=r,d={...r,disableSpacing:i},a=ba(d);return n(ya,{className:Ze(a.root,l),ownerState:d,ref:o,...c})});function va(e){return xt("PrivateSwitchBase",e)}vt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Sa=e=>{const{classes:t,checked:o,disabled:r,edge:i}=e,l={root:["root",o&&"checked",r&&"disabled",i&&`edge${$e(i)}`],input:["input"]};return St(l,va,t)},wa=Me(Xo,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),ka=Me("input",{name:"MuiSwitchBase",shouldForwardProp:ko})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Ca=s.forwardRef(function(t,o){const{autoFocus:r,checked:i,checkedIcon:l,defaultChecked:c,disabled:d,disableFocusRipple:a=!1,edge:p=!1,icon:u,id:M,inputProps:D,inputRef:T,name:E,onBlur:I,onChange:$,onFocus:R,readOnly:Y,required:b=!1,tabIndex:P,type:k,value:w,slots:K={},slotProps:m={},...ne}=t,[F,X]=Jt({controlled:i,default:!!c,name:"SwitchBase",state:"checked"}),C=Er(),z=Z=>{R&&R(Z),C&&C.onFocus&&C.onFocus(Z)},O=Z=>{I&&I(Z),C&&C.onBlur&&C.onBlur(Z)},te=Z=>{if(Z.nativeEvent.defaultPrevented)return;const q=Z.target.checked;X(q),$&&$(Z,q)};let f=d;C&&typeof f>"u"&&(f=C.disabled);const Q=k==="checkbox"||k==="radio",S={...t,checked:F,disabled:f,disableFocusRipple:a,edge:p},J=Sa(S),ae={slots:K,slotProps:{input:D,...m}},[A,re]=nt("root",{ref:o,elementType:wa,className:J.root,shouldForwardComponentProp:!0,externalForwardedProps:{...ae,component:"span",...ne},getSlotProps:Z=>({...Z,onFocus:q=>{var fe;(fe=Z.onFocus)==null||fe.call(Z,q),z(q)},onBlur:q=>{var fe;(fe=Z.onBlur)==null||fe.call(Z,q),O(q)}}),ownerState:S,additionalProps:{centerRipple:!0,focusRipple:!a,disabled:f,role:void 0,tabIndex:null}}),[ve,Se]=nt("input",{ref:T,elementType:ka,className:J.input,externalForwardedProps:ae,getSlotProps:Z=>({...Z,onChange:q=>{var fe;(fe=Z.onChange)==null||fe.call(Z,q),te(q)}}),ownerState:S,additionalProps:{autoFocus:r,checked:i,defaultChecked:c,disabled:f,id:Q?M:void 0,name:E,readOnly:Y,required:b,tabIndex:P,type:k,...k==="checkbox"&&w===void 0?{}:{value:w}}});return h(A,{...re,children:[n(ve,{...Se}),F?l:u]})});function Ia(e){return xt("MuiDrawer",e)}vt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const zo=(e,t)=>{const{ownerState:o}=e;return[t.root,(o.variant==="permanent"||o.variant==="persistent")&&t.docked,t.modal]},Ta=e=>{const{classes:t,anchor:o,variant:r}=e,i={root:["root",`anchor${$e(o)}`],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${$e(o)}`,r!=="temporary"&&`paperAnchorDocked${$e(o)}`]};return St(i,Ia,t)},Ma=Me(Lr,{name:"MuiDrawer",slot:"Root",overridesResolver:zo})(We(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer}))),Pa=Me("div",{shouldForwardProp:ko,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:zo})({flex:"0 0 auto"}),Da=Me(Qe,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.paper,t[`paperAnchor${$e(o.anchor)}`],o.variant!=="temporary"&&t[`paperAnchorDocked${$e(o.anchor)}`]]}})(We(({theme:e})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:t})=>t.anchor==="left"&&t.variant!=="temporary",style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="top"&&t.variant!=="temporary",style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="right"&&t.variant!=="temporary",style:{borderLeft:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="bottom"&&t.variant!=="temporary",style:{borderTop:`1px solid ${(e.vars||e).palette.divider}`}}]}))),Oo={left:"right",right:"left",top:"down",bottom:"up"};function Aa(e){return["left","right"].includes(e)}function Ea({direction:e},t){return e==="rtl"&&Aa(t)?Oo[t]:t}const Ra=s.forwardRef(function(t,o){const r=Dt({props:t,name:"MuiDrawer"}),i=Tn(),l=Co(),c={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:d="left",BackdropProps:a,children:p,className:u,elevation:M=16,hideBackdrop:D=!1,ModalProps:{BackdropProps:T,...E}={},onClose:I,open:$=!1,PaperProps:R={},SlideProps:Y,TransitionComponent:b,transitionDuration:P=c,variant:k="temporary",slots:w={},slotProps:K={},...m}=r,ne=s.useRef(!1);s.useEffect(()=>{ne.current=!0},[]);const F=Ea({direction:l?"rtl":"ltr"},d),C={...r,anchor:d,elevation:M,open:$,variant:k,...m},z=Ta(C),O={slots:{transition:b,...w},slotProps:{paper:R,transition:Y,...K,backdrop:Rr(K.backdrop||{...a,...T},{transitionDuration:P})}},[te,f]=nt("root",{ref:o,elementType:Ma,className:Ze(z.root,z.modal,u),shouldForwardComponentProp:!0,ownerState:C,externalForwardedProps:{...O,...m,...E},additionalProps:{open:$,onClose:I,hideBackdrop:D,slots:{backdrop:O.slots.backdrop},slotProps:{backdrop:O.slotProps.backdrop}}}),[Q,S]=nt("paper",{elementType:Da,shouldForwardComponentProp:!0,className:Ze(z.paper,R.className),ownerState:C,externalForwardedProps:O,additionalProps:{elevation:k==="temporary"?M:0,square:!0,...k==="temporary"&&{role:"dialog","aria-modal":"true"}}}),[J,ae]=nt("docked",{elementType:Pa,ref:o,className:Ze(z.root,z.docked,u),ownerState:C,externalForwardedProps:O,additionalProps:m}),[A,re]=nt("transition",{elementType:Lo,ownerState:C,externalForwardedProps:O,additionalProps:{in:$,direction:Oo[F],timeout:P,appear:ne.current}}),ve=n(Q,{...S,children:p});if(k==="permanent")return n(J,{...ae,children:ve});const Se=n(A,{...re,children:ve});return k==="persistent"?n(J,{...ae,children:Se}):n(te,{...f,children:Se})}),La={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Na(e,t,o=(r,i)=>r===i){return e.length===t.length&&e.every((r,i)=>o(r,t[i]))}const $a=2;function Bt(e,t,o,r,i){return o===1?Math.min(e+t,i):Math.max(e-t,r)}function Wo(e,t){return e-t}function po(e,t){const{index:o}=e.reduce((r,i,l)=>{const c=Math.abs(t-i);return r===null||c<r.distance||c===r.distance?{distance:c,index:l}:r},null)??{};return o}function un(e,t){if(t.current!==void 0&&e.changedTouches){const o=e;for(let r=0;r<o.changedTouches.length;r+=1){const i=o.changedTouches[r];if(i.identifier===t.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function In(e,t,o){return(e-t)*100/(o-t)}function za(e,t,o){return(o-t)*e+t}function Oa(e){if(Math.abs(e)<1){const o=e.toExponential().split("e-"),r=o[0].split(".")[1];return(r?r.length:0)+parseInt(o[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function Wa(e,t,o){const r=Math.round((e-o)/t)*t+o;return Number(r.toFixed(Oa(t)))}function fo({values:e,newValue:t,index:o}){const r=e.slice();return r[o]=t,r.sort(Wo)}function pn({sliderRef:e,activeIndex:t,setActive:o}){var i,l,c;const r=Sn(e.current);(!((i=e.current)!=null&&i.contains(r.activeElement))||Number((l=r==null?void 0:r.activeElement)==null?void 0:l.getAttribute("data-index"))!==t)&&((c=e.current)==null||c.querySelector(`[type="range"][data-index="${t}"]`).focus()),o&&o(t)}function fn(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?Na(e,t):!1}const Ba={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},Fa=e=>e;let hn;function ho(){return hn===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?hn=CSS.supports("touch-action","none"):hn=!0),hn}function Ha(e){const{"aria-labelledby":t,defaultValue:o,disabled:r=!1,disableSwap:i=!1,isRtl:l=!1,marks:c=!1,max:d=100,min:a=0,name:p,onChange:u,onChangeCommitted:M,orientation:D="horizontal",rootRef:T,scale:E=Fa,step:I=1,shiftStep:$=10,tabIndex:R,value:Y}=e,b=s.useRef(void 0),[P,k]=s.useState(-1),[w,K]=s.useState(-1),[m,ne]=s.useState(!1),F=s.useRef(0),X=s.useRef(null),[C,z]=Jt({controlled:Y,default:o??a,name:"Slider"}),O=u&&((v,L,H)=>{const oe=v.nativeEvent||v,ue=new oe.constructor(oe.type,oe);Object.defineProperty(ue,"target",{writable:!0,value:{value:L,name:p}}),X.current=L,u(ue,L,H)}),te=Array.isArray(C);let f=te?C.slice().sort(Wo):[C];f=f.map(v=>v==null?a:Xt(v,a,d));const Q=c===!0&&I!==null?[...Array(Math.floor((d-a)/I)+1)].map((v,L)=>({value:a+I*L})):c||[],S=Q.map(v=>v.value),[J,ae]=s.useState(-1),A=s.useRef(null),re=Qo(T,A),ve=v=>L=>{var oe;const H=Number(L.currentTarget.getAttribute("data-index"));_n(L.target)&&ae(H),K(H),(oe=v==null?void 0:v.onFocus)==null||oe.call(v,L)},Se=v=>L=>{var H;_n(L.target)||ae(-1),K(-1),(H=v==null?void 0:v.onBlur)==null||H.call(v,L)},Z=(v,L)=>{const H=Number(v.currentTarget.getAttribute("data-index")),oe=f[H],ue=S.indexOf(oe);let x=L;if(Q&&I==null){const V=S[S.length-1];x>=V?x=V:x<=S[0]?x=S[0]:x=x<oe?S[ue-1]:S[ue+1]}if(x=Xt(x,a,d),te){i&&(x=Xt(x,f[H-1]||-1/0,f[H+1]||1/0));const V=x;x=fo({values:f,newValue:x,index:H});let le=H;i||(le=x.indexOf(V)),pn({sliderRef:A,activeIndex:le})}z(x),ae(H),O&&!fn(x,C)&&O(v,x,H),M&&M(v,X.current??x)},q=v=>L=>{var H;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(L.key)){L.preventDefault();const oe=Number(L.currentTarget.getAttribute("data-index")),ue=f[oe];let x=null;if(I!=null){const V=L.shiftKey?$:I;switch(L.key){case"ArrowUp":x=Bt(ue,V,1,a,d);break;case"ArrowRight":x=Bt(ue,V,l?-1:1,a,d);break;case"ArrowDown":x=Bt(ue,V,-1,a,d);break;case"ArrowLeft":x=Bt(ue,V,l?1:-1,a,d);break;case"PageUp":x=Bt(ue,$,1,a,d);break;case"PageDown":x=Bt(ue,$,-1,a,d);break;case"Home":x=a;break;case"End":x=d;break}}else if(Q){const V=S[S.length-1],le=S.indexOf(ue),Ce=[l?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],Ne=[l?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];Ce.includes(L.key)?le===0?x=S[0]:x=S[le-1]:Ne.includes(L.key)&&(le===S.length-1?x=V:x=S[le+1])}x!=null&&Z(L,x)}(H=v==null?void 0:v.onKeyDown)==null||H.call(v,L)};Zo(()=>{var v;r&&A.current.contains(document.activeElement)&&((v=document.activeElement)==null||v.blur())},[r]),r&&P!==-1&&k(-1),r&&J!==-1&&ae(-1);const fe=v=>L=>{var H;(H=v.onChange)==null||H.call(v,L),Z(L,L.target.valueAsNumber)},de=s.useRef(void 0);let j=D;l&&D==="horizontal"&&(j+="-reverse");const _=({finger:v,move:L=!1})=>{const{current:H}=A,{width:oe,height:ue,bottom:x,left:V}=H.getBoundingClientRect();let le;j.startsWith("vertical")?le=(x-v.y)/ue:le=(v.x-V)/oe,j.includes("-reverse")&&(le=1-le);let Ce;if(Ce=za(le,a,d),I)Ce=Wa(Ce,I,a);else{const Je=po(S,Ce);Ce=S[Je]}Ce=Xt(Ce,a,d);let Ne=0;if(te){L?Ne=de.current:Ne=po(f,Ce),i&&(Ce=Xt(Ce,f[Ne-1]||-1/0,f[Ne+1]||1/0));const Je=Ce;Ce=fo({values:f,newValue:Ce,index:Ne}),i&&L||(Ne=Ce.indexOf(Je),de.current=Ne)}return{newValue:Ce,activeIndex:Ne}},be=$t(v=>{const L=un(v,b);if(!L)return;if(F.current+=1,v.type==="mousemove"&&v.buttons===0){he(v);return}const{newValue:H,activeIndex:oe}=_({finger:L,move:!0});pn({sliderRef:A,activeIndex:oe,setActive:k}),z(H),!m&&F.current>$a&&ne(!0),O&&!fn(H,C)&&O(v,H,oe)}),he=$t(v=>{const L=un(v,b);if(ne(!1),!L)return;const{newValue:H}=_({finger:L,move:!0});k(-1),v.type==="touchend"&&K(-1),M&&M(v,X.current??H),b.current=void 0,ke()}),ie=$t(v=>{if(r)return;ho()||v.preventDefault();const L=v.changedTouches[0];L!=null&&(b.current=L.identifier);const H=un(v,b);if(H!==!1){const{newValue:ue,activeIndex:x}=_({finger:H});pn({sliderRef:A,activeIndex:x,setActive:k}),z(ue),O&&!fn(ue,C)&&O(v,ue,x)}F.current=0;const oe=Sn(A.current);oe.addEventListener("touchmove",be,{passive:!0}),oe.addEventListener("touchend",he,{passive:!0})}),ke=s.useCallback(()=>{const v=Sn(A.current);v.removeEventListener("mousemove",be),v.removeEventListener("mouseup",he),v.removeEventListener("touchmove",be),v.removeEventListener("touchend",he)},[he,be]);s.useEffect(()=>{const{current:v}=A;return v.addEventListener("touchstart",ie,{passive:ho()}),()=>{v.removeEventListener("touchstart",ie),ke()}},[ke,ie]),s.useEffect(()=>{r&&ke()},[r,ke]);const Ee=v=>L=>{var ue;if((ue=v.onMouseDown)==null||ue.call(v,L),r||L.defaultPrevented||L.button!==0)return;L.preventDefault();const H=un(L,b);if(H!==!1){const{newValue:x,activeIndex:V}=_({finger:H});pn({sliderRef:A,activeIndex:V,setActive:k}),z(x),O&&!fn(x,C)&&O(L,x,V)}F.current=0;const oe=Sn(A.current);oe.addEventListener("mousemove",be,{passive:!0}),oe.addEventListener("mouseup",he)},pe=In(te?f[0]:a,a,d),Pe=In(f[f.length-1],a,d)-pe,B=(v={})=>{const L=Rn(v),H={onMouseDown:Ee(L||{})},oe={...L,...H};return{...v,ref:re,...oe}},ye=v=>L=>{var oe;(oe=v.onMouseOver)==null||oe.call(v,L);const H=Number(L.currentTarget.getAttribute("data-index"));K(H)},se=v=>L=>{var H;(H=v.onMouseLeave)==null||H.call(v,L),K(-1)},Re=(v={})=>{const L=Rn(v),H={onMouseOver:ye(L||{}),onMouseLeave:se(L||{})};return{...v,...L,...H}},Ie=v=>({pointerEvents:P!==-1&&P!==v?"none":void 0});let Fe;return D==="vertical"&&(Fe=l?"vertical-rl":"vertical-lr"),{active:P,axis:j,axisProps:Ba,dragging:m,focusedThumbIndex:J,getHiddenInputProps:(v={})=>{const L=Rn(v),H={onChange:fe(L||{}),onFocus:ve(L||{}),onBlur:Se(L||{}),onKeyDown:q(L||{})},oe={...L,...H};return{tabIndex:R,"aria-labelledby":t,"aria-orientation":D,"aria-valuemax":E(d),"aria-valuemin":E(a),name:p,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":e.step??void 0,disabled:r,...v,...oe,style:{...La,direction:l?"rtl":"ltr",width:"100%",height:"100%",writingMode:Fe}}},getRootProps:B,getThumbProps:Re,marks:Q,open:w,range:te,rootRef:re,trackLeap:Pe,trackOffset:pe,values:f,getThumbStyle:Ie}}const Va=e=>!e||!yn(e);function Ua(e){return xt("MuiSlider",e)}const dt=vt("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Ka=e=>{const{open:t}=e;return{offset:Ze(t&&dt.valueLabelOpen),circle:dt.valueLabelCircle,label:dt.valueLabelLabel}};function qa(e){const{children:t,className:o,value:r}=e,i=Ka(e);return t?s.cloneElement(t,{className:t.props.className},h(s.Fragment,{children:[t.props.children,n("span",{className:Ze(i.offset,o),"aria-hidden":!0,children:n("span",{className:i.circle,children:n("span",{className:i.label,children:r})})})]})):null}function mo(e){return e}const Ya=Me("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`color${$e(o.color)}`],o.size!=="medium"&&t[`size${$e(o.size)}`],o.marked&&t.marked,o.orientation==="vertical"&&t.vertical,o.track==="inverted"&&t.trackInverted,o.track===!1&&t.trackFalse]}})(We(({theme:e})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${dt.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${dt.dragging}`]:{[`& .${dt.thumb}, & .${dt.track}`]:{transition:"none"}},variants:[...Object.entries(e.palette).filter(tn()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),ja=Me("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),_a=Me("span",{name:"MuiSlider",slot:"Track"})(We(({theme:e})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(e.palette).filter(tn()).map(([t])=>({props:{color:t,track:"inverted"},style:{...e.vars?{backgroundColor:e.vars.palette.Slider[`${t}Track`],borderColor:e.vars.palette.Slider[`${t}Track`]}:{backgroundColor:e.lighten(e.palette[t].main,.62),borderColor:e.lighten(e.palette[t].main,.62),...e.applyStyles("dark",{backgroundColor:e.darken(e.palette[t].main,.5)}),...e.applyStyles("dark",{borderColor:e.darken(e.palette[t].main,.5)})}}}))]}))),Ga=Me("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.thumb,t[`thumbColor${$e(o.color)}`],o.size!=="medium"&&t[`thumbSize${$e(o.size)}`]]}})(We(({theme:e})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${dt.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(e.palette).filter(tn()).map(([t])=>({props:{color:t},style:{[`&:hover, &.${dt.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.alpha((e.vars||e).palette[t].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${dt.active}`]:{boxShadow:`0px 0px 0px 14px ${e.alpha((e.vars||e).palette[t].main,.16)}`}}}))]}))),Xa=Me(qa,{name:"MuiSlider",slot:"ValueLabel"})(We(({theme:e})=>({zIndex:1,whiteSpace:"nowrap",...e.typography.body2,fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${dt.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${dt.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),Qa=Me("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>Io(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:o}=e;return[t.mark,o&&t.markActive]}})(We(({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),Za=Me("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>Io(e)&&e!=="markLabelActive"})(We(({theme:e})=>({...e.typography.body2,color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]}))),Ja=e=>{const{disabled:t,dragging:o,marked:r,orientation:i,track:l,classes:c,color:d,size:a}=e,p={root:["root",t&&"disabled",o&&"dragging",r&&"marked",i==="vertical"&&"vertical",l==="inverted"&&"trackInverted",l===!1&&"trackFalse",d&&`color${$e(d)}`,a&&`size${$e(a)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",a&&`thumbSize${$e(a)}`,d&&`thumbColor${$e(d)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return St(p,Ua,c)},es=({children:e})=>e,ts=s.forwardRef(function(t,o){const r=Dt({props:t,name:"MuiSlider"}),i=Co(),{"aria-label":l,"aria-valuetext":c,"aria-labelledby":d,component:a="span",components:p={},componentsProps:u={},color:M="primary",classes:D,className:T,disableSwap:E=!1,disabled:I=!1,getAriaLabel:$,getAriaValueText:R,marks:Y=!1,max:b=100,min:P=0,name:k,onChange:w,onChangeCommitted:K,orientation:m="horizontal",shiftStep:ne=10,size:F="medium",step:X=1,scale:C=mo,slotProps:z,slots:O,tabIndex:te,track:f="normal",value:Q,valueLabelDisplay:S="off",valueLabelFormat:J=mo,...ae}=r,A={...r,isRtl:i,max:b,min:P,classes:D,disabled:I,disableSwap:E,orientation:m,marks:Y,color:M,size:F,step:X,shiftStep:ne,scale:C,track:f,valueLabelDisplay:S,valueLabelFormat:J},{axisProps:re,getRootProps:ve,getHiddenInputProps:Se,getThumbProps:Z,open:q,active:fe,axis:de,focusedThumbIndex:j,range:_,dragging:be,marks:he,values:ie,trackOffset:ke,trackLeap:Ee,getThumbStyle:pe}=Ha({...A,rootRef:o});A.marked=he.length>0&&he.some(Te=>Te.label),A.dragging=be,A.focusedThumbIndex=j;const Pe=Ja(A),B=(O==null?void 0:O.root)??p.Root??Ya,ye=(O==null?void 0:O.rail)??p.Rail??ja,se=(O==null?void 0:O.track)??p.Track??_a,Re=(O==null?void 0:O.thumb)??p.Thumb??Ga,Ie=(O==null?void 0:O.valueLabel)??p.ValueLabel??Xa,Fe=(O==null?void 0:O.mark)??p.Mark??Qa,we=(O==null?void 0:O.markLabel)??p.MarkLabel??Za,v=(O==null?void 0:O.input)??p.Input??"input",L=(z==null?void 0:z.root)??u.root,H=(z==null?void 0:z.rail)??u.rail,oe=(z==null?void 0:z.track)??u.track,ue=(z==null?void 0:z.thumb)??u.thumb,x=(z==null?void 0:z.valueLabel)??u.valueLabel,V=(z==null?void 0:z.mark)??u.mark,le=(z==null?void 0:z.markLabel)??u.markLabel,Ce=(z==null?void 0:z.input)??u.input,Ne=Tt({elementType:B,getSlotProps:ve,externalSlotProps:L,externalForwardedProps:ae,additionalProps:{...Va(B)&&{as:a}},ownerState:{...A,...L==null?void 0:L.ownerState},className:[Pe.root,T]}),Je=Tt({elementType:ye,externalSlotProps:H,ownerState:A,className:Pe.rail}),_e=Tt({elementType:se,externalSlotProps:oe,additionalProps:{style:{...re[de].offset(ke),...re[de].leap(Ee)}},ownerState:{...A,...oe==null?void 0:oe.ownerState},className:Pe.track}),Ge=Tt({elementType:Re,getSlotProps:Z,externalSlotProps:ue,ownerState:{...A,...ue==null?void 0:ue.ownerState},className:Pe.thumb}),wt=Tt({elementType:Ie,externalSlotProps:x,ownerState:{...A,...x==null?void 0:x.ownerState},className:Pe.valueLabel}),bt=Tt({elementType:Fe,externalSlotProps:V,ownerState:A,className:Pe.mark}),pt=Tt({elementType:we,externalSlotProps:le,ownerState:A,className:Pe.markLabel}),at=Tt({elementType:v,getSlotProps:Se,externalSlotProps:Ce,ownerState:A});return h(B,{...Ne,children:[n(ye,{...Je}),n(se,{..._e}),he.filter(Te=>Te.value>=P&&Te.value<=b).map((Te,W)=>{const U=In(Te.value,P,b),me=re[de].offset(U);let De;return f===!1?De=ie.includes(Te.value):De=f==="normal"&&(_?Te.value>=ie[0]&&Te.value<=ie[ie.length-1]:Te.value<=ie[0])||f==="inverted"&&(_?Te.value<=ie[0]||Te.value>=ie[ie.length-1]:Te.value>=ie[0]),h(s.Fragment,{children:[n(Fe,{"data-index":W,...bt,...!yn(Fe)&&{markActive:De},style:{...me,...bt.style},className:Ze(bt.className,De&&Pe.markActive)}),Te.label!=null?n(we,{"aria-hidden":!0,"data-index":W,...pt,...!yn(we)&&{markLabelActive:De},style:{...me,...pt.style},className:Ze(Pe.markLabel,pt.className,De&&Pe.markLabelActive),children:Te.label}):null]},W)}),ie.map((Te,W)=>{const U=In(Te,P,b),me=re[de].offset(U),De=S==="off"?es:Ie;return n(De,{...!yn(De)&&{valueLabelFormat:J,valueLabelDisplay:S,value:typeof J=="function"?J(C(Te),W):J,index:W,open:q===W||fe===W||S==="on",disabled:I},...wt,children:n(Re,{"data-index":W,...Ge,className:Ze(Pe.thumb,Ge.className,fe===W&&Pe.active,j===W&&Pe.focusVisible),style:{...me,...pe(W),...Ge.style},children:n(v,{"data-index":W,"aria-label":$?$(W):l,"aria-valuenow":C(Te),"aria-labelledby":d,"aria-valuetext":R?R(C(Te),W):c,value:ie[W],...at})})},W)})]})});function ns(e){return xt("MuiSwitch",e)}const tt=vt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),os=e=>{const{classes:t,edge:o,size:r,color:i,checked:l,disabled:c}=e,d={root:["root",o&&`edge${$e(o)}`,`size${$e(r)}`],switchBase:["switchBase",`color${$e(i)}`,l&&"checked",c&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},a=St(d,ns,t);return{...t,...a}},rs=Me("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.edge&&t[`edge${$e(o.edge)}`],t[`size${$e(o.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${tt.thumb}`]:{width:16,height:16},[`& .${tt.switchBase}`]:{padding:4,[`&.${tt.checked}`]:{transform:"translateX(16px)"}}}}]}),as=Me(Ca,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.switchBase,{[`& .${tt.input}`]:t.input},o.color!=="default"&&t[`color${$e(o.color)}`]]}})(We(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${tt.checked}`]:{transform:"translateX(20px)"},[`&.${tt.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${tt.checked} + .${tt.track}`]:{opacity:.5},[`&.${tt.disabled} + .${tt.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${tt.input}`]:{left:"-100%",width:"300%"}})),We(({theme:e})=>({"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(tn(["light"])).map(([t])=>({props:{color:t},style:{[`&.${tt.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[t].main,(e.vars||e).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${tt.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?e.lighten(e.palette[t].main,.62):e.darken(e.palette[t].main,.55)}`}},[`&.${tt.checked} + .${tt.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),ss=Me("span",{name:"MuiSwitch",slot:"Track"})(We(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),is=Me("span",{name:"MuiSwitch",slot:"Thumb"})(We(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),ls=s.forwardRef(function(t,o){const r=Dt({props:t,name:"MuiSwitch"}),{className:i,color:l="primary",edge:c=!1,size:d="medium",sx:a,slots:p={},slotProps:u={},...M}=r,D={...r,color:l,edge:c,size:d},T=os(D),E={slots:p,slotProps:u},[I,$]=nt("root",{className:Ze(T.root,i),elementType:rs,externalForwardedProps:E,ownerState:D,additionalProps:{sx:a}}),[R,Y]=nt("thumb",{className:T.thumb,elementType:is,externalForwardedProps:E,ownerState:D}),b=n(R,{...Y}),[P,k]=nt("track",{className:T.track,elementType:ss,externalForwardedProps:E,ownerState:D});return h(I,{...$,children:[n(as,{type:"checkbox",icon:b,checkedIcon:b,ref:o,ownerState:D,...M,classes:{...T,root:T.switchBase},slots:{...p.switchBase&&{root:p.switchBase},...p.input&&{input:p.input}},slotProps:{...u.switchBase&&{root:typeof u.switchBase=="function"?u.switchBase(D):u.switchBase},input:{role:"switch"},...u.input&&{input:typeof u.input=="function"?u.input(D):u.input}}}),n(P,{...k})]})}),cs=Be(n("path",{d:"M17 10H7v2h10zm2-7h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V8h14zm-5-5H7v2h7z"})),ds=(e,t)=>{const o=()=>{const u=new Date;return new Date(u.toLocaleString("en-US",{timeZone:e}))},[r,i]=s.useState(o()),l=()=>{const u=r;let M=[],D=[];t.forEach(R=>{if(!R.startNY||!R.endNY)return;const[Y,b]=R.startNY.split(":").map(Number),[P,k]=R.endNY.split(":").map(Number);let w=new Date(u);w.setHours(Y,b,0,0);let K=new Date(u);K.setHours(P,k,0,0),K<=w&&K.setDate(K.getDate()+1),u>=w&&u<K?M.push({session:R,startDate:w,endDate:K}):(u>=w&&w.setDate(w.getDate()+1),D.push({session:R,startDate:w}))}),M.sort((R,Y)=>u-R.startDate-(u-Y.startDate)),D.sort((R,Y)=>R.startDate-Y.startDate);const T=M.length>0?M[0].session:null,E=M.length>0?Math.floor((M[0].endDate-u)/1e3):null,I=D.length>0?D[0].session:null,$=D.length>0?Math.floor((D[0].startDate-u)/1e3):null;return{activeSession:T,timeToEnd:E,nextSession:I,timeToStart:$}},{activeSession:c,timeToEnd:d,nextSession:a,timeToStart:p}=s.useMemo(()=>l(),[r,t]);return s.useEffect(()=>{const u=setInterval(()=>{i(o())},1e3);return()=>clearInterval(u)},[e]),{currentTime:r,activeSession:c,timeToEnd:d,nextSession:a,timeToStart:p}},Qt=()=>document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement,go=()=>document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled;function Bo(e){const[t,o]=s.useState(!!Qt()),[r,i]=s.useState(go());s.useEffect(()=>{const a=()=>o(!!Qt()),p=()=>i(go());return document.addEventListener("fullscreenchange",a),document.addEventListener("webkitfullscreenchange",a),document.addEventListener("msfullscreenchange",a),document.addEventListener("fullscreenerror",p),document.addEventListener("webkitfullscreenerror",p),document.addEventListener("msfullscreenerror",p),()=>{document.removeEventListener("fullscreenchange",a),document.removeEventListener("webkitfullscreenchange",a),document.removeEventListener("msfullscreenchange",a),document.removeEventListener("fullscreenerror",p),document.removeEventListener("webkitfullscreenerror",p),document.removeEventListener("msfullscreenerror",p)}},[]);const l=s.useCallback(async()=>{try{const a=e&&e.current||document.documentElement;return a?Qt()?!0:a.requestFullscreen?(await a.requestFullscreen(),!0):a.webkitRequestFullscreen?(await a.webkitRequestFullscreen(),!0):a.msRequestFullscreen?(await a.msRequestFullscreen(),!0):(i(!1),!1):!1}catch{return i(!1),!1}},[e]),c=s.useCallback(async()=>{try{return Qt()?document.exitFullscreen?(await document.exitFullscreen(),!0):document.webkitExitFullscreen?(await document.webkitExitFullscreen(),!0):document.msExitFullscreen?(await document.msExitFullscreen(),!0):!1:!0}catch{return!1}},[]),d=s.useCallback(async()=>Qt()?c():l(),[c,l]);return{isFullscreen:t,canFullscreen:r,requestFullscreen:l,exitFullscreen:c,toggleFullscreen:d}}const wn=(e,t="normal")=>{const r=t==="aesthetic"?80:30,i=e/375,l=Math.round(r*i),c=Math.round(l*1.13);return{lineWidth:l,hoverLineWidth:c}},us=(e,t,o=!1,r="normal")=>{const i=t/2,l=t/2,c=Math.min(t,t)/2-5;e.beginPath(),e.arc(i,l,c,0,Math.PI*2),e.fillStyle="#fff",e.fill(),Fo(e,i,l,c,"#333",r,o)},Fo=(e,t,o,r,i,l="normal",c=!1)=>{e.font=`${r*.085}px Roboto`,e.textAlign="center",e.textBaseline="middle",e.fillStyle=i;let d;l==="minimalistic"?d=.5:l==="aesthetic"?d=.18:d=.29;for(let a=1;a<=12;a++){const p=(a*30-90)*(Math.PI/180),u=t+Math.cos(p)*(r*d),M=o+Math.sin(p)*(r*d);e.fillText(a.toString(),u,M)}},ps=(e,t,o,r,i,l,c="normal",d={},a=null,p=!0,u=null,M=!1,D=!0)=>{const T=t/2,E=t/2,I=Math.min(t,t)/2-5;if(e.clearRect(Math.floor(T-I),Math.floor(E-I),Math.ceil(I*2),Math.ceil(I*2)),c!=="minimalistic"){const{lineWidth:R,hoverLineWidth:Y}=wn(t,c);o.forEach((b,P)=>{if(!b.startNY||!b.endNY)return;const k=d[P]||{opacity:1,targetLineWidth:R},[w,K]=b.startNY.split(":").map(Number),[m,ne]=b.endNY.split(":").map(Number);let F=(w%12*60+K)/720*Math.PI*2,X=(m%12*60+ne)/720*Math.PI*2;(w>m||w===m&&K>ne)&&(X+=Math.PI*2);const C=w<12?I*.52:I*.75,z=k.targetLineWidth||(b===i?Y:R);e.save(),e.globalAlpha=k.opacity||1;const te=z/2/C,f=F,Q=X;if(Q>f){const S=u&&b.name===u.name;let J=null;if(S){const ae=r.getHours(),A=r.getMinutes(),re=r.getSeconds();J=(ae%12*60+A+re/60)/720*Math.PI*2,X>Math.PI*2&&J<X-Math.PI*2&&(J+=Math.PI*2);const Se=f+te,Z=Q-te;let q,fe;if(M&&S?(q=fs(b.color,15),fe=bo(b.color,60)):(q=bo(b.color,60),fe=b.color),e.save(),e.beginPath(),e.arc(T,E,C,Se-Math.PI/2,Z-Math.PI/2),e.lineWidth=z,e.strokeStyle=q,e.lineCap="round",e.stroke(),e.restore(),J>f){const de=Math.min(J,Q),j=de-f;if(j>0){e.save();const _=z/2,be=te*2,he=j/be,ie=he<.52?.25+he*.22/.52:1,ke=f+te-Math.PI/2,Ee=T+Math.cos(ke)*C,pe=E+Math.sin(ke)*C,B=f-Math.PI/2+Math.PI,ye=B,se=B+Math.PI*2*ie;if(ie>0&&(e.beginPath(),e.arc(Ee,pe,_,ye,se),e.fillStyle=fe,e.fill()),ie>=.52){const Re=f+te,Ie=de>=Q?Q-te:de-te;Ie>=Re&&(e.beginPath(),e.arc(T,E,C,Re-Math.PI/2,Ie-Math.PI/2),e.lineWidth=z,e.strokeStyle=fe,e.lineCap="round",e.stroke())}e.restore()}}}else{const ae=f+te,A=Q-te;e.save(),e.beginPath(),e.arc(T,E,C,ae-Math.PI/2,A-Math.PI/2),e.lineWidth=z,e.strokeStyle=b.color,e.lineCap="round",e.stroke(),e.restore()}if(p){const ae=b.name||"";if(ae){e.save();const A=Math.max(9,Math.min(z*.45,13));e.font=`${A}px Roboto`,e.fillStyle=b.color,e.textAlign="center",e.textBaseline="middle";const ve=C===I*.52?C-z/2-A*1.5:C+z/2+A*1.2,Se=(f+Q)/2,Z=A*.15;let q=0;for(let _=0;_<ae.length;_++)q+=e.measureText(ae[_]).width+(_<ae.length-1?Z:0);const fe=q/ve;let j=Se-fe/2;for(let _=0;_<ae.length;_++){const be=ae[_],he=e.measureText(be).width,ie=he/(2*ve),ke=j+ie,Ee=T+Math.cos(ke-Math.PI/2)*ve,pe=E+Math.sin(ke-Math.PI/2)*ve;e.save(),e.translate(Ee,pe),e.rotate(ke),e.fillText(be,0,0),e.restore(),j+=(he+Z)/ve}e.restore()}}}e.restore()})}if(D){const $=r.getHours(),R=(b,P,k,w)=>{e.beginPath(),e.moveTo(T,E),e.lineTo(T+Math.cos(b-Math.PI/2)*P,E+Math.sin(b-Math.PI/2)*P),e.strokeStyle=w,e.lineWidth=k,e.lineCap="round",e.stroke()};if(a){const b=a.hour*Math.PI/180,P=a.minute*Math.PI/180,k=a.second*Math.PI/180,w=$>=12?I*.74:I*.5;R(b,w,6,l),R(P,I*.9,3,l),R(k,I*1,1,l)}else{const b=r.getMinutes(),P=r.getSeconds(),k=($%12*30+b*.5)*Math.PI/180,w=$>=12?I*.74:I*.5;R(k,w,6,l);const K=b*6*Math.PI/180;R(K,I*.9,3,l);const m=P*6*Math.PI/180;R(m,I*1,1,l)}const Y=3;e.beginPath(),e.arc(T,E,Y,0,Math.PI*2),e.fillStyle=l,e.fill()}},Yn=e=>{const t=e.replace("#",""),o=parseInt(t.substring(0,2),16),r=parseInt(t.substring(2,4),16),i=parseInt(t.substring(4,6),16);return(.299*o+.587*r+.114*i)/255<.5},bo=(e,t=40)=>{const o=e.replace("#",""),r=parseInt(o.substring(0,2),16),i=parseInt(o.substring(2,4),16),l=parseInt(o.substring(4,6),16),c=Math.round(r+(255-r)*(t/100)),d=Math.round(i+(255-i)*(t/100)),a=Math.round(l+(255-l)*(t/100));return`#${c.toString(16).padStart(2,"0")}${d.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}`},fs=(e,t=40)=>{const o=e.replace("#",""),r=parseInt(o.substring(0,2),16),i=parseInt(o.substring(2,4),16),l=parseInt(o.substring(4,6),16),c=Math.round(r*(1-t/100)),d=Math.round(i*(1-t/100)),a=Math.round(l*(1-t/100));return`#${c.toString(16).padStart(2,"0")}${d.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}`};function hs({size:e,time:t,sessions:o,handColor:r,clockStyle:i="normal",showSessionNamesInCanvas:l=!0,activeSession:c=null,backgroundBasedOnSession:d=!1,renderHandsInCanvas:a=!0,handAnglesRef:p=null}){const u=s.useRef(null),[M,D]=s.useState(null),[T,E]=s.useState(null),I=s.useRef(document.createElement("canvas")),$=s.useRef({}),R=s.useRef(null),Y=s.useRef(null),b=s.useRef(null),P=s.useRef({hour:0,minute:0,second:0}),k=p||P;s.useEffect(()=>{o.forEach((F,X)=>{$.current[X]||($.current[X]={lineWidth:0,opacity:0,targetLineWidth:0,targetOpacity:1},Lt.to($.current[X],{lineWidth:wn(e,i).lineWidth,opacity:1,duration:.8,delay:X*.1,ease:"power2.out"}))})},[o,e,i]),s.useEffect(()=>{const F=window.devicePixelRatio||1,X=I.current.getContext("2d");I.current.width=Math.round(e*F),I.current.height=Math.round(e*F),X.scale(F,F),us(X,e,l,i)},[e,l,i]),s.useEffect(()=>{const{lineWidth:F,hoverLineWidth:X}=wn(e,i);o.forEach((C,z)=>{if(!$.current[z])return;const te=C===T?X:F;Lt.to($.current[z],{targetLineWidth:te,duration:.3,ease:"power2.out"})})},[T,e,o,i]),s.useEffect(()=>{const F=t.getHours(),X=t.getMinutes(),C=t.getSeconds(),z=t.getMilliseconds();let O=(C+z/1e3)*6,te=(X+C/60)*6,f=(F%12+X/60)*30;const Q=k.current.second;O<Q&&Q-O>180&&(O+=360);const S=k.current.minute;te<S&&S-te>180&&(te+=360);const J=k.current.hour;f<J&&J-f>180&&(f+=360),Lt.to(k.current,{second:O,duration:.3,ease:"linear",onUpdate:()=>{k.current.second=k.current.second%360}}),Lt.to(k.current,{minute:te,duration:.5,ease:"power1.out",onUpdate:()=>{k.current.minute=k.current.minute%360}}),Lt.to(k.current,{hour:f,duration:.5,ease:"power1.out",onUpdate:()=>{k.current.hour=k.current.hour%360}})},[t]),s.useEffect(()=>{const F=u.current,X=F.getContext("2d"),C=window.devicePixelRatio||1;X.setTransform(1,0,0,1,0,0),F.width=Math.round(e*C),F.height=Math.round(e*C),F.style.width=`${e}px`,F.style.height=`${e}px`,X.scale(C,C);let z;const O=()=>{X.clearRect(0,0,e,e),X.drawImage(I.current,0,0,e,e),ps(X,e,o,t,T,r,i,$.current,k.current,l,c,d,a),Fo(X,e/2,e/2,e/2-5,r,i),z=requestAnimationFrame(O)};return z=requestAnimationFrame(O),()=>cancelAnimationFrame(z)},[e,o,T,r,i,l,c,d]);const w=(F,X,C)=>{const z=F.getBoundingClientRect(),O=z.width/2,te=z.height/2,f=Math.min(z.width,z.height)/2-5,Q=X-O,S=C-te,J=Math.sqrt(Q*Q+S*S),A=(Math.atan2(S,Q)+Math.PI/2+2*Math.PI)%(2*Math.PI),{hoverLineWidth:re}=wn(e,i),ve=f*.52,Se=f*.75;if(J>=ve-re/2&&J<=ve+re/2)for(const Z of o){const[q,fe]=Z.startNY.split(":").map(Number),[de,j]=Z.endNY.split(":").map(Number);if(q<12){const be=(q%12*60+fe)/720*Math.PI*2;let he=(de%12*60+j)/720*Math.PI*2;if(be>he&&(he+=Math.PI*2),A>=be&&A<=he)return Z}}if(J>=Se-re/2&&J<=Se+re/2)for(const Z of o){const[q,fe]=Z.startNY.split(":").map(Number),[de,j]=Z.endNY.split(":").map(Number);if(q>=12){const be=(q%12*60+fe)/720*Math.PI*2;let he=(de%12*60+j)/720*Math.PI*2;if(be>he&&(he+=Math.PI*2),A>=be&&A<=he)return Z}}return null},K=(F,X,C)=>{b.current&&b.current.kill(),D({x:F,y:X,...C}),R.current&&(b.current=Lt.fromTo(R.current,{opacity:0,scale:.8,y:-10},{opacity:1,scale:1,y:0,duration:.2,ease:"back.out(1.7)"}))},m=()=>{b.current&&b.current.kill(),R.current?b.current=Lt.to(R.current,{opacity:0,scale:.8,duration:.15,ease:"power2.in",onComplete:()=>D(null)}):D(null)},ne=F=>{if(i==="minimalistic")return;const X=u.current,C=X.getBoundingClientRect(),z=F.clientX-C.left,O=F.clientY-C.top,te=w(X,z,O);te!==Y.current?(Y.current=te,E(te),te?K(F.clientX,F.clientY,te):m()):te&&M&&D(f=>({...f,x:F.clientX,y:F.clientY}))};return s.useEffect(()=>{const F=u.current;if(!F)return;const X=z=>{F.contains(z.target)||(Y.current=null,E(null),m())},C=z=>{if(i==="minimalistic")return;const O=F.getBoundingClientRect(),te=z.touches[0],f=te.clientX-O.left,Q=te.clientY-O.top,S=w(F,f,Q);S?(z.preventDefault(),Y.current=S,E(S),K(te.clientX,te.clientY,S)):(Y.current=null,E(null),m())};return document.addEventListener("mousedown",X),document.addEventListener("touchstart",X),F.addEventListener("touchstart",C,{passive:!1}),()=>{document.removeEventListener("mousedown",X),document.removeEventListener("touchstart",X),F.removeEventListener("touchstart",C)}},[i,o,e]),h("div",{className:"canvas-container",children:[n("canvas",{ref:u,onMouseMove:ne,onMouseLeave:()=>{Y.current=null,E(null),m()},style:{touchAction:"none"}}),M&&h("div",{ref:R,className:"tooltip",style:{left:M.x+10,top:M.y+10,backgroundColor:M.color,color:Yn(M.color)?"#fff":"#000"},children:[n("strong",{children:M.name}),h("div",{children:["Start: ",M.startNY]}),h("div",{children:["End: ",M.endNY]})]})]})}const Kt=e=>{if(!e)return null;const t=String(e).trim().toLowerCase();return t.length?t:null},Ho=(e=[])=>{const t=new Set;return e.forEach(o=>{const r=Kt(o);r&&t.add(r)}),Array.from(t)},ms=(e={})=>{const t=[e.name,e.Name,e.title,e.Title,e.eventName,e.eventTitle,e.headline,e.displayName,e.canonicalName];return Array.isArray(e.aliases)&&t.push(...e.aliases),Array.isArray(e.alias)&&t.push(...e.alias),Array.isArray(e.alternativeNames)&&t.push(...e.alternativeNames),Ho(t)},rn=(e={})=>{const o=[e.id,e.eventId,e.event_id,e.eventID,e.uid,e.uuid,e._id,e.docId].find(Boolean)||null,r=ms(e),i=r.length?r[0]:null;if(o)return{eventId:String(o),nameKeys:r,primaryNameKey:i};const l=Kt(e.currency||e.Currency),c=e.time||e.date,d=c?new Date(c):null,a=d&&!Number.isNaN(d.getTime())?d.getTime():null;return{eventId:Ho([i,l,a]).join("-")||null,nameKeys:r,primaryNameKey:i}},gs=e=>{if(!e)return null;const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?null:Mo.fromDate(t)},bs=(e,t,o)=>{if(!e)return()=>{};const r=Mn(At,"users",e,"favorites");return Kn(r,i=>{const l=new Map,c=new Set;i.forEach(d=>{const a=d.data()||{};l.set(d.id,a),a.nameKey&&c.add(Kt(a.nameKey)),Array.isArray(a.aliasKeys)&&a.aliasKeys.forEach(p=>{const u=Kt(p);u&&c.add(u)})}),t({favoritesMap:l,nameKeySet:c})},i=>{o&&o(i)})},ys=async(e,t,o,r=new Map)=>{if(!e)throw new Error("User must be authenticated to manage favorites.");const{eventId:i,nameKeys:l,primaryNameKey:c}=rn(t),d=i||c;if(!d)throw new Error("Unable to determine a stable identifier for this event.");let a=String(d);if(o&&r)if(r.has(String(i)))a=String(i);else if(r.has(c))a=c;else for(const[D,T]of r.entries()){const E=T==null?void 0:T.nameKey,I=(T==null?void 0:T.aliasKeys)||[],$=[E,...I].filter(Boolean);if(l.some(Y=>$.some(b=>Kt(Y)===Kt(b)))){a=D;break}}const p=nn(At,"users",e,"favorites",a);if(o)return await Jo(p),{favorited:!1,docId:a};const u=l.filter(D=>D&&D!==c),M=t.time||t.date;return await To(p,{eventId:i||null,name:t.name||t.Name||null,nameKey:c||null,aliasKeys:u,currency:t.currency||t.Currency||null,source:t.source||t.Source||null,date:gs(M),updatedAt:Ht(),createdAt:Ht()},{merge:!0}),{favorited:!0,docId:String(d)}},xs=(e,t=new Map,o=new Set)=>{const{eventId:r,nameKeys:i,primaryNameKey:l}=rn(e);return r&&t.has(String(r))||l&&t.has(l)?!0:(i||[]).some(c=>c&&o.has(c))},Mt=e=>{const{eventId:t,primaryNameKey:o}=rn(e);return t||o||null},Vo=()=>{const{user:e}=on(),[t,o]=s.useState(new Map),[r,i]=s.useState(new Set),[l,c]=s.useState(!1),[d,a]=s.useState(null),[p,u]=s.useState(new Set);s.useEffect(()=>{if(!e){o(new Map),i(new Set),a(null),c(!1);return}c(!0);const E=bs(e.uid,({favoritesMap:I,nameKeySet:$})=>{o(I),i($),c(!1)},I=>{a((I==null?void 0:I.message)||"Failed to load favorites"),c(!1)});return()=>E&&E()},[e]);const M=s.useCallback(E=>xs(E,t,r),[t,r]),D=s.useCallback(E=>{const I=Mt(E);return I?p.has(String(I)):!1},[p]),T=s.useCallback(async E=>{if(!e)return a("Sign in to save favorites."),{success:!1,requiresAuth:!0};const I=Mt(E);if(!I)return a("Unable to identify this event for favorites."),{success:!1,requiresAuth:!1};const $=M(E);u(k=>{const w=new Set(k);return w.add(String(I)),w});const R=t,Y=r,b=rn(E),P=b.nameKeys||[];o(k=>{const w=new Map(k);return $?w.delete(String(I)):w.set(String(I),{nameKey:b.primaryNameKey||null,aliasKeys:P.filter(K=>K&&K!==b.primaryNameKey)}),w}),i(k=>{const w=new Set(k);return P.forEach(K=>{K&&($?w.delete(K):w.add(K))}),w});try{return await ys(e.uid,E,$,t),{success:!0,requiresAuth:!1}}catch(k){return a((k==null?void 0:k.message)||"Failed to update favorite"),o(R),i(Y),{success:!1,requiresAuth:!1}}finally{u(k=>{const w=new Set(k);return w.delete(String(I)),w})}},[e,M,t,r]);return{favoritesLoading:l,favoritesError:d,isFavorite:M,toggleFavorite:T,isFavoritePending:D}},vs=e=>{if(!e)return null;const t=e instanceof Date?e:new Date(e);return Number.isNaN(t.getTime())?null:Mo.fromDate(t)},Uo=(e,t={})=>{if(!e)throw new Error("User must be authenticated to manage event notes.");const{eventId:o,primaryNameKey:r,nameKeys:i}=rn(t),l=Mt(t);if(!l)throw new Error("Unable to determine a stable identifier for this event.");return{eventRef:nn(At,"users",e,"eventNotes",String(l)),docId:String(l),identity:{eventId:o||null,primaryNameKey:r||null,nameKeys:i||[]},eventMeta:{name:t.name||t.Name||null,currency:t.currency||t.Currency||null,source:t.source||t.Source||null,date:vs(t.time||t.date)}}},Ss=e=>Mt(e),ws=(e,t,o)=>{if(!e)return()=>{};const r=Mn(At,"users",e,"eventNotes"),i=Po(r,Do("updatedAt","desc"));return Kn(i,l=>{const c=new Map;l.forEach(d=>{const a=d.data()||{};c.set(d.id,{id:d.id,noteCount:a.noteCount||0,name:a.name||null,currency:a.currency||null,source:a.source||null,date:a.date||null,updatedAt:a.updatedAt||null,createdAt:a.createdAt||null})}),t(c)},l=>{o&&o(l)})},ks=(e,t,o,r)=>{if(!e||!t)return()=>{};const i=Mn(At,"users",e,"eventNotes",String(t),"notes"),l=Po(i,Do("createdAt","desc"));return Kn(l,c=>{const d=c.docs.map(a=>({id:a.id,...a.data()||{}}));o(d)},c=>{r&&r(c)})},Cs=async(e,t,o)=>{const r=(o||"").trim();if(!r)throw new Error("Note cannot be empty.");const{eventRef:i,docId:l,identity:c,eventMeta:d}=Uo(e,t),a=Mn(i,"notes"),p=nn(a);return await Ao(At,async u=>{const M=await u.get(i),D=M.exists()?M.data():{},T=(D.noteCount||0)+1;u.set(i,{eventId:c.eventId||null,name:d.name,nameKey:c.primaryNameKey||null,aliasKeys:c.nameKeys||[],currency:d.currency,source:d.source,date:d.date,noteCount:T,updatedAt:Ht(),createdAt:D.createdAt||Ht()},{merge:!0}),u.set(p,{content:r,createdAt:Ht(),eventDate:d.date,source:d.source,currency:d.currency})}),{noteId:p.id,eventKey:l}},Is=async(e,t,o)=>{if(!o)throw new Error("Note id is required.");const{eventRef:r}=Uo(e,t),i=nn(r,"notes",String(o));return await Ao(At,async l=>{const c=await l.get(r),d=c.exists()?c.data():{},a=Math.max(0,(d.noteCount||0)-1);if(l.delete(i),a===0){l.delete(r);return}l.set(r,{noteCount:a,updatedAt:Ht()},{merge:!0})}),{noteId:o}},Ko=()=>{const{user:e}=on(),[t,o]=s.useState(new Map),[r,i]=s.useState(new Map),[l,c]=s.useState(new Map),[d,a]=s.useState(null),p=s.useRef(null),u=s.useRef(new Map),M=s.useCallback(()=>{u.current.forEach(b=>b&&b()),u.current=new Map},[]);s.useEffect(()=>{if(M(),p.current&&(p.current(),p.current=null),!e){o(new Map),i(new Map),c(new Map),a(null);return}return p.current=ws(e.uid,b=>{o(b)},b=>{a((b==null?void 0:b.message)||"Failed to load notes")}),()=>{M(),p.current&&(p.current(),p.current=null)}},[e,M]);const D=s.useCallback(b=>{const P=Ss(b);if(!P)return!1;const k=t.get(String(P));return!!(k&&k.noteCount>0)},[t]),T=s.useCallback(b=>{const P=Mt(b);return P?r.get(String(P))||[]:[]},[r]),E=s.useCallback(b=>{const P=Mt(b);return P?!!l.get(String(P)):!1},[l]),I=s.useCallback(b=>{const P=Mt(b);if(!P)return;const k=u.current.get(String(P));k&&k(),u.current.delete(String(P)),i(w=>{const K=new Map(w);return K.delete(String(P)),K}),c(w=>{const K=new Map(w);return K.delete(String(P)),K})},[]),$=s.useCallback(b=>{if(!e)return a("Sign in to add notes."),{key:null,requiresAuth:!0};const P=Mt(b);if(!P)return a("Unable to identify this event for notes."),{key:null,requiresAuth:!1};if(u.current.has(String(P)))return{key:String(P),requiresAuth:!1};c(w=>{const K=new Map(w);return K.set(String(P),!0),K});const k=ks(e.uid,String(P),w=>{i(K=>{const m=new Map(K);return m.set(String(P),w),m}),c(K=>{const m=new Map(K);return m.set(String(P),!1),m})},w=>{a((w==null?void 0:w.message)||"Failed to load notes"),c(K=>{const m=new Map(K);return m.set(String(P),!1),m})});return u.current.set(String(P),k),{key:String(P),requiresAuth:!1}},[e]),R=s.useCallback(async(b,P)=>{if(!e)return a("Sign in to add notes."),{success:!1,requiresAuth:!0};try{const k=await Cs(e.uid,b,P);return $(b),{success:!0,requiresAuth:!1,result:k}}catch(k){return a((k==null?void 0:k.message)||"Failed to add note"),{success:!1,requiresAuth:!1}}},[e,$]),Y=s.useCallback(async(b,P)=>{if(!e)return a("Sign in to remove notes."),{success:!1,requiresAuth:!0};try{return await Is(e.uid,b,P),{success:!0,requiresAuth:!1}}catch(k){return a((k==null?void 0:k.message)||"Failed to remove note"),{success:!1,requiresAuth:!1}}},[e]);return{notesError:d,hasNotes:D,getNotesForEvent:T,isEventNotesLoading:E,ensureNotesStream:$,stopNotesStream:I,addNote:R,removeNote:Y}},On=[{test:e=>e.includes("strong")||e.includes("high"),icon:"!!!",color:"#d32f2f",priority:4,label:"High"},{test:e=>e.includes("moderate")||e.includes("medium"),icon:"!!",color:"#f57c00",priority:3,label:"Medium"},{test:e=>e.includes("weak")||e.includes("low"),icon:"!",color:"#018786",priority:2,label:"Low"},{test:e=>e.includes("non-economic")||e==="none",icon:"~",color:"#9e9e9e",priority:1,label:"Non-Economic"},{test:()=>!0,icon:"?",color:"#666666",priority:0,label:"Unknown"}],mn=e=>{const t=(e||"").toString().toLowerCase();return On.find(({test:o})=>o(t))||On[On.length-1]},Ts=e=>{const t=new Date,r=new Intl.DateTimeFormat("en-US",{timeZone:e,year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(t),i=r.find(u=>u.type==="year").value,l=r.find(u=>u.type==="month").value,c=r.find(u=>u.type==="day").value,d=`${i}-${l}-${c}`,a=new Date(`${d}T00:00:00`),p=new Date(`${d}T23:59:59.999`);return{start:a,end:p}},Ms=(e,t,o)=>{if(!e||o===null||o===void 0)return"";const r=Zt({date:e});return r===null?"":fr({eventEpochMs:r,nowEpochMs:o,nowWindowMs:vn})},Ps=e=>{const t=s.useMemo(()=>new Intl.DateTimeFormat("en-US",{timeZone:e,hour:"numeric",minute:"numeric",hour12:!1}),[e]);return o=>{var c,d;if(!o)return null;const r=t.formatToParts(o instanceof Date?o:new Date(o)),i=Number((c=r.find(a=>a.type==="hour"))==null?void 0:c.value),l=Number((d=r.find(a=>a.type==="minute"))==null?void 0:d.value);return Number.isNaN(i)||Number.isNaN(l)?null:{hour:i,minute:l}}};function Ds({size:e,timezone:t,eventFilters:o,newsSource:r,onEventClick:i,onLoadingStateChange:l}){const[c,d]=s.useState([]),[a,p]=s.useState(Date.now()),[u,M]=s.useState(null),D=s.useRef(null),{isFavorite:T}=Vo(),{hasNotes:E}=Ko(),I=s.useMemo(()=>typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,[]),$=s.useCallback(()=>{D.current&&(clearTimeout(D.current),D.current=null)},[]),R=s.useCallback(()=>{$(),M(null)},[$]),Y=s.useCallback(f=>{$(),M(f),D.current=window.setTimeout(()=>{M(Q=>Q===f?null:Q),D.current=null},3500)},[$]),b=s.useCallback((f,Q)=>{if(!f)return;const S=Q||`${f.hour}-${f.minute}`;if(!I){i==null||i(f.events||[]);return}if(u!==S){Y(S);return}i==null||i(f.events||[]),R()},[u,R,I,i,Y]),P=s.useCallback(f=>{i==null||i(f),I&&R()},[R,I,i]),k=Ps(t);s.useEffect(()=>{let f=!1;return l==null||l(!0),(async()=>{try{let S,J;if(o!=null&&o.startDate&&(o!=null&&o.endDate))S=new Date(o.startDate),J=new Date(o.endDate);else{const A=Ts(t);S=A.start,J=A.end}const ae=await Wn(S,J,{source:r,impacts:(o==null?void 0:o.impacts)||[],eventTypes:(o==null?void 0:o.eventTypes)||[],currencies:(o==null?void 0:o.currencies)||[]});if(f)return;if(ae.success){const A=(ae.data||[]).filter(re=>re.date||re.dateTime||re.Date);d(Bn(A))}else d([])}finally{f||l==null||l(!1)}})(),()=>{f=!0}},[t,r,o==null?void 0:o.impacts,o==null?void 0:o.eventTypes,o==null?void 0:o.currencies,o==null?void 0:o.startDate,o==null?void 0:o.endDate,l]);const w=a;s.useEffect(()=>{const f=setInterval(()=>p(Date.now()),6e4);return()=>clearInterval(f)},[]),s.useEffect(()=>()=>$(),[$]);const K=s.useMemo(()=>o!=null&&o.favoritesOnly?c.filter(f=>T(f)):c,[o==null?void 0:o.favoritesOnly,c,T]),m=s.useMemo(()=>{let f=null;return K.forEach(Q=>{const S=Zt(Q);S!==null&&S>w&&(f===null||S<f)&&(f=S)}),f},[K,w]),ne=s.useMemo(()=>K.some(f=>{const Q=Zt(f);if(Q===null)return!1;const S=Q-w;return S<=0&&Math.abs(S)<vn}),[K,w]),F=s.useMemo(()=>{const f=new Map;return K.forEach(Q=>{const S=Q.date||Q.dateTime||Q.Date,J=k(S);if(!J)return;const{hour:ae,minute:A}=J,re=`${ae}-${A}`,ve=f.get(re)||[];ve.push(Q),f.set(re,ve)}),Array.from(f.entries()).map(([Q,S])=>{const J=S.reduce((ye,se)=>{const Re=mn(se.impact||se.strength||se.Strength),Ie=mn(ye.impact||ye.strength||ye.Strength);return Re.priority>Ie.priority?se:ye},S[0]),ae=S.some(ye=>T(ye)),A=S.some(ye=>E(ye)),[re,ve]=Q.split("-"),Se=Number(re),Z=Number(ve),q=mn(J.impact||J.strength||J.Strength),fe=J.currency||J.Currency,de=fe?eo(fe):null,j=Zt(J);if(j===null)return null;const _=j-w,be=_<=0&&Math.abs(_)<vn,he=!be&&m!==null&&j===m,ie=new Date(j),ke=new Date(w),Ee=to(ie,t),pe=to(ke,t),Pe=Ee!==null&&pe!==null&&Ee>pe,B=!be&&!Pe&&j<w;return{hour:Se,minute:Z,events:S,meta:q,isNow:be,isNext:he,currency:fe,countryCode:de,isTodayPast:B,isFavoriteMarker:ae,hasNoteMarker:A}}).filter(Boolean)},[K,k,m,w,t,E,T]),X=e/2,C=e/2-5,z=C*.52,O=C*.75,te=(f,Q,S)=>{const J=(f%12+Q/60)*(Math.PI*2)/12-Math.PI/2,ae=S?z:O,A=X+ae*Math.cos(J),re=X+ae*Math.sin(J);return{x:A,y:re}};return n(N,{className:"clock-events-overlay",sx:{position:"absolute",inset:0,pointerEvents:"none",width:e,height:e,zIndex:2},children:F.map(f=>{const Q=f.hour<12,S=`${f.hour}-${f.minute}`,{x:J,y:ae}=te(f.hour,f.minute,Q);let A=10;if(f.isNow)A=50;else if(f.isNext)A=40;else if(f.isFavoriteMarker)A=60;else if(f.hasNoteMarker)A=35;else{const de=f.meta.priority||0;de>=3?A=30:de===2?A=20:de===1&&(A=15)}const re={position:"absolute",left:J,top:ae,transform:"translate(-50%, -50%)",transformOrigin:"center",backgroundColor:f.isNow?"#0288d1":f.isTodayPast?"#bdbdbd":f.meta.color,color:f.isTodayPast?"#424242":"#fff",border:`2px solid ${f.isTodayPast?"#9e9e9e":lt("#000",.14)}`,boxShadow:f.isTodayPast?"none":"0 4px 12px rgba(0,0,0,0.2)",animation:f.isNow?"nowScale 1.25s ease-in-out infinite":f.isNext&&!ne?"nextScale 1.25s ease-in-out infinite":"none",cursor:"pointer",userSelect:"none",zIndex:A,"@keyframes nowScale":{"0%, 100%":{transform:"translate(-50%, -50%) scale(1)"},"50%":{transform:"translate(-50%, -50%) scale(1.25)"}},"@keyframes nextScale":{"0%, 100%":{transform:"translate(-50%, -50%) scale(1)"},"50%":{transform:"translate(-50%, -50%) scale(1.15)"}}},ve=f.events.reduce((de,j)=>{const be=new Date(j.date||j.dateTime||j.Date).toLocaleDateString("en-US",{timeZone:t,weekday:"short",month:"short",day:"numeric"});return de[be]||(de[be]=[]),de[be].push(j),de},{}),Se=Object.keys(ve),Z=Se.length>1,q=n(it,{spacing:.5,sx:{minWidth:240},children:Se.map((de,j)=>h(Pn.Fragment,{children:[n(G,{variant:"caption",sx:{fontWeight:700,color:"rgba(255,255,255,0.7)",px:.5,pt:j>0?.5:0,fontSize:"0.7rem",letterSpacing:.5},children:de}),ve[de].map(_=>{const be=No(_.date||_.dateTime||_.Date,t),he=mn(_.impact||_.strength||_.Strength),ie=_.currency||_.Currency,ke=ie?eo(ie):null,Ee=Ms(_.date||_.dateTime||_.Date,t,w),pe=T(_),Pe=E(_),B=Zt(_),ye=w>=B&&w<B+vn,se=!ye&&m!==null&&B===m,Re=B<w&&!ye;return h(N,{role:"button",tabIndex:0,onClick:Ie=>{Ie.preventDefault(),Ie.stopPropagation(),P(_)},onKeyDown:Ie=>{(Ie.key==="Enter"||Ie.key===" ")&&(Ie.preventDefault(),Ie.stopPropagation(),P(_))},sx:{display:"flex",gap:1,alignItems:"flex-start",cursor:"pointer",userSelect:"none",borderRadius:1,px:.5,py:.25,"&:hover":I?void 0:{bgcolor:lt("#fff",.08)},"&:focus-visible":{outline:"2px solid rgba(255,255,255,0.35)",outlineOffset:2}},children:[n(G,{variant:"body2",sx:{fontWeight:700,lineHeight:1.3,color:Re?"#9e9e9e":"inherit"},children:he.icon}),h(N,{sx:{flex:1,minWidth:0},children:[n(G,{variant:"body2",sx:{fontWeight:700,lineHeight:1.3},children:_.name||_.Name}),h(G,{variant:"caption",color:"text.secondary",sx:{display:"flex",alignItems:"center",gap:.75,flexWrap:"wrap"},children:[n("span",{children:be}),ie&&h("span",{style:{display:"inline-flex",alignItems:"center",gap:4},children:[ke?n("span",{className:`fi fi-${ke}`,style:{display:"inline-block",width:16,height:12,borderRadius:2,boxShadow:"0 0 0 1px rgba(255,255,255,0.18)"},title:ie}):null,n("span",{children:ie})]}),Ee&&h("span",{style:{display:"inline-flex",alignItems:"center",gap:4},children:["Â· ",Ee,ye&&n(N,{component:"span",sx:{display:"inline-flex",alignItems:"center",px:.5,py:.125,bgcolor:"#0288d1",color:"#fff",borderRadius:.5,fontSize:"0.6rem",fontWeight:700,textTransform:"uppercase",letterSpacing:.5,ml:.5},children:"NOW"}),se&&n(N,{component:"span",sx:{display:"inline-flex",alignItems:"center",px:.5,py:.125,bgcolor:"#018786",color:"#fff",borderRadius:.5,fontSize:"0.6rem",fontWeight:700,textTransform:"uppercase",letterSpacing:.5,ml:.5},children:"NEXT"}),pe&&n(no,{sx:{fontSize:12,color:"#f50057",ml:.25}}),Pe&&n(kn,{sx:{fontSize:12,color:"#fff",ml:.25}})]}),_.category||_.Category?h("span",{children:["Â· ",_.category||_.Category]}):null]})]})]},`${_.id}-${_.name||_.Name}`)}),Z&&j<Se.length-1&&n(Pt,{sx:{borderColor:"rgba(255,255,255,0.1)",my:.5}})]},de))});return n(yt,{title:q,placement:"top",arrow:!0,enterDelay:100,disableInteractive:!1,...I?{open:u===S,disableHoverListener:!0,disableFocusListener:!0,disableTouchListener:!0,onClose:R,enterTouchDelay:0,leaveTouchDelay:0}:{},PopperProps:{modifiers:[{name:"preventOverflow",enabled:!0,options:{boundary:"viewport",padding:8}},{name:"flip",enabled:!0,options:{fallbackPlacements:["bottom","top","right","left"],padding:8}}]},componentsProps:{tooltip:{onClick:I?()=>b(f,S):void 0,sx:{bgcolor:"#111",color:"#fff",boxShadow:"0 10px 28px rgba(0,0,0,0.32)",border:"1px solid rgba(255,255,255,0.08)",maxWidth:{xs:"min(calc(100vw - 32px), 320px)",sm:320},maxHeight:{xs:"min(60vh, calc(var(--t2t-vv-height, 100dvh) - 180px))",sm:"min(70vh, calc(var(--t2t-vv-height, 100dvh) - 120px))"},overflowY:"auto",overflowX:"hidden",p:1.25,"& .MuiTypography-root":{color:"#fff"},cursor:I?"pointer":"default",scrollbarWidth:"none","&:hover":{scrollbarWidth:"thin",scrollbarColor:"rgba(255,255,255,0.25) transparent"},"&::-webkit-scrollbar":{width:0,height:0},"&:hover::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-track":{bgcolor:"transparent"},"&::-webkit-scrollbar-thumb":{bgcolor:"rgba(255,255,255,0.25)",borderRadius:3,"&:hover":{bgcolor:"rgba(255,255,255,0.35)"}}}},arrow:{sx:{color:"#111"}}},children:h(N,{className:"clock-event-marker",sx:re,style:{pointerEvents:"auto"},onClick:()=>b(f,S),children:[f.hasNoteMarker&&n(N,{sx:{position:"absolute",top:-6,left:-6,width:18,height:18,borderRadius:"50%",bgcolor:"primary.main",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 3px 8px rgba(0,0,0,0.35)",pointerEvents:"none"},children:n(kn,{sx:{fontSize:12,color:"#fff"}})}),f.isFavoriteMarker&&n(N,{sx:{position:"absolute",top:-6,right:-6,width:18,height:18,borderRadius:"50%",bgcolor:"error.main",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 3px 8px rgba(0,0,0,0.35)",pointerEvents:"none"},children:n(no,{sx:{fontSize:12,color:"#fff"}})}),n(G,{component:"span",variant:"caption",sx:{fontWeight:800,fontSize:"0.75rem"},children:f.meta.icon}),f.countryCode&&!f.isTodayPast?n("span",{className:"clock-event-flag",title:f.currency,children:n("span",{className:`fi fi-${f.countryCode}`})}):null]})},S)})})}function As({size:e,handAnglesRef:t,handColor:o,time:r}){const i=s.useRef(null),l=s.useRef(r);return s.useEffect(()=>{l.current=r},[r]),s.useEffect(()=>{const c=i.current;if(!c||!e)return;const d=window.devicePixelRatio||1,a=c.getContext("2d"),p=()=>{c.width=Math.round(e*d),c.height=Math.round(e*d),c.style.width=`${e}px`,c.style.height=`${e}px`,a.setTransform(1,0,0,1,0,0),a.scale(d,d)};let u;const M=()=>{var b,P;a.clearRect(0,0,e,e);const D=e/2,T=e/2,E=Math.min(e,e)/2-5,I=(t==null?void 0:t.current)||{hour:0,minute:0,second:0},R=(((P=(b=l.current)==null?void 0:b.getHours)==null?void 0:P.call(b))??0)>=12?E*.74:E*.5,Y=(k,w,K)=>{const m=k*Math.PI/180;a.beginPath(),a.moveTo(D,T),a.lineTo(D+Math.cos(m-Math.PI/2)*w,T+Math.sin(m-Math.PI/2)*w),a.strokeStyle=o,a.lineWidth=K,a.lineCap="round",a.stroke()};Y(I.hour,R,6),Y(I.minute,E*.9,3),Y(I.second,E*1,1),a.beginPath(),a.arc(D,T,3,0,Math.PI*2),a.fillStyle=o,a.fill(),u=requestAnimationFrame(M)};return p(),M(),()=>{cancelAnimationFrame(u)}},[e,t,o]),n("canvas",{ref:i,className:"clock-hands-overlay",style:{position:"absolute",inset:0,pointerEvents:"none",zIndex:3}})}const Es=Pn.memo(({time:e,clockSize:t,textColor:o})=>{if(!e)return null;const r=375,i=28,l=t/r,c=Math.max(16,Math.round(i*l)),d=e.getHours(),a=e.getMinutes().toString().padStart(2,"0"),p=e.getSeconds().toString().padStart(2,"0"),u=d>=12?"PM":"AM",M=d%12||12;return n(G,{className:"digital-clock",sx:{fontSize:`${c}px`,color:o,fontWeight:400,marginBottom:"10px"},children:`${M}:${a}:${p} ${u}`})}),Rs=Be([n("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),n("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),yo=e=>{const t=Math.floor(e/3600),o=Math.floor(e%3600/60),r=Math.floor(e%60);return e<3600?`${o.toString().padStart(2,"0")}m:${r.toString().padStart(2,"0")}s`:`${t}h:${o.toString().padStart(2,"0")}m`};function Ls({activeSession:e,showTimeToEnd:t,timeToEnd:o,showTimeToStart:r,nextSession:i,timeToStart:l,clockSize:c}){const a=Math.min(Math.max(c/375,.7),1.3),p=`${.875*a}rem`,u=12*a,M=(e==null?void 0:e.color)||"#757575",D=Yn(M)?"#fff":"#000";return n(er,{in:!0,timeout:400,children:n(N,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",margin:"8px auto",maxWidth:"90vw"},children:n(it,{direction:"row",spacing:1,alignItems:"center",sx:{backgroundColor:"transparent",padding:"4px 12px",transition:"all 0.3s ease"},children:e?n(ct,{children:n(Hn,{label:h(N,{component:"span",sx:{display:"flex",flexDirection:"column",gap:.25,alignItems:"center",py:.25},children:[n(N,{component:"span",sx:{display:"inline-flex",alignItems:"center",gap:.5},children:n("span",{style:{fontWeight:600},children:e.name})}),t&&o!=null&&h(N,{component:"span",sx:{display:"inline-flex",alignItems:"center",gap:.3,fontSize:"0.75em",opacity:.9},children:[n(Fn,{sx:{fontSize:`${u*.85}px`,animation:"pulse 2s ease-in-out infinite","@keyframes pulse":{"0%, 100%":{opacity:1},"50%":{opacity:.6}}}}),h("span",{style:{fontWeight:500},children:["Ends in: ",yo(o)]})]})]}),size:"small",sx:{backgroundColor:M,color:D,fontWeight:600,fontSize:p,height:"auto",padding:"6px 10px","& .MuiChip-label":{padding:"0 4px",width:"100%"},border:"none",transition:"all 0.3s ease"}})}):n(ct,{children:n(Hn,{label:h(N,{component:"span",sx:{display:"flex",flexDirection:"column",gap:.25,alignItems:"center",py:.25},children:[n("span",{style:{fontWeight:500},children:"No Session Active"}),r&&i&&l!=null&&h(N,{component:"span",sx:{display:"inline-flex",alignItems:"center",gap:.3,fontSize:"0.75em"},children:[n(Rs,{sx:{fontSize:`${u*.85}px`}}),n("span",{style:{fontWeight:600},children:i.name}),h("span",{style:{fontWeight:500,opacity:.9},children:["Starts in: ",yo(l)]})]})]}),size:"small",variant:"outlined",sx:{fontSize:p,fontWeight:500,height:"auto",padding:"6px 10px",borderColor:"divider",color:"text.secondary","& .MuiChip-label":{padding:"0 4px",width:"100%"}}})})})})})}const Ns=Be(n("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"})),$s=Be(n("path",{d:"m7 10 5 5 5-5z"})),qo=Be(n("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"})),zs=Be(n("path",{d:"M6 14c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1H7v-2c0-.55-.45-1-1-1m0-4c.55 0 1-.45 1-1V7h2c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1m11 7h-2c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1s-1 .45-1 1zM14 6c0 .55.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1V6c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1"})),Os=Be(n("path",{d:"M6 16h2v2c0 .55.45 1 1 1s1-.45 1-1v-3c0-.55-.45-1-1-1H6c-.55 0-1 .45-1 1s.45 1 1 1m2-8H6c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1s-1 .45-1 1zm7 11c.55 0 1-.45 1-1v-2h2c.55 0 1-.45 1-1s-.45-1-1-1h-3c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1m1-11V6c0-.55-.45-1-1-1s-1 .45-1 1v3c0 .55.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1z"})),Ws=Be(n("path",{d:"M19.5 12c0-.23-.01-.45-.03-.68l1.86-1.41c.4-.3.51-.86.26-1.3l-1.87-3.23c-.25-.44-.79-.62-1.25-.42l-2.15.91c-.37-.26-.76-.49-1.17-.68l-.29-2.31c-.06-.5-.49-.88-.99-.88h-3.73c-.51 0-.94.38-1 .88l-.29 2.31c-.41.19-.8.42-1.17.68l-2.15-.91c-.46-.2-1-.02-1.25.42L2.41 8.62c-.25.44-.14.99.26 1.3l1.86 1.41c-.02.22-.03.44-.03.67s.01.45.03.68l-1.86 1.41c-.4.3-.51.86-.26 1.3l1.87 3.23c.25.44.79.62 1.25.42l2.15-.91c.37.26.76.49 1.17.68l.29 2.31c.06.5.49.88.99.88h3.73c.5 0 .93-.38.99-.88l.29-2.31c.41-.19.8-.42 1.17-.68l2.15.91c.46.2 1 .02 1.25-.42l1.87-3.23c.25-.44.14-.99-.26-1.3l-1.86-1.41c.03-.23.04-.45.04-.68m-7.46 3.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5"})),Bs=Be(n("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m-.22-13h-.06c-.4 0-.72.32-.72.72v4.72c0 .35.18.68.49.86l4.15 2.49c.34.2.78.1.98-.24.21-.34.1-.79-.25-.99l-3.87-2.3V7.72c0-.4-.32-.72-.72-.72"})),Fs=Be(n("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 15c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1m1-8h-2V7h2z"})),Hs=Be(n("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})),Vs=Be(n("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"})),Us=Be(n("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"}));function gt(e){switch(e){case"auth/wrong-password":return"Incorrect password. Please try again or reset it.";case"auth/user-not-found":return"No account found with that email. Please sign up first.";case"auth/email-already-in-use":return"That email is already registered. You have been logged in.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/user-disabled":return"Your account is currently disabled. Please contact support.";case"auth/too-many-requests":return"Too many attempts. Please wait a moment and try again.";case"auth/network-request-failed":return"Network error. Please check your connection.";default:return"An unexpected error occurred. Please try again or use another method."}}function Ut(e){switch(e){case"login":return"Welcome back! You have successfully logged in.";case"signup":return"Your account was created! A verification email was sent to you.";case"verify-email":return"Weâ€™ve sent a verification email. Please check your inbox.";case"password-reset":return"Weâ€™ve sent a password reset link to your email.";case"profile-updated":return"Profile updated successfully!";case"change-password":return"A password reset email has been sent. Please check your inbox.";default:return"Success!"}}function Ks({onClose:e}){const[t,o]=s.useState(""),[r,i]=s.useState(""),[l,c]=s.useState("");return h(Et,{open:!0,onClose:e,maxWidth:"sm",fullWidth:!0,children:[n(qt,{children:"Forgot Password"}),h("form",{onSubmit:async a=>{a.preventDefault(),i(""),c("");try{if((await tr(mt,t)).length===0){c("No account exists with that email.");return}await Eo(mt,t),i(Ut("password-reset"))}catch(p){c(gt(p.code))}},children:[h(Rt,{children:[l&&n(ut,{severity:"error",sx:{mb:2},children:l}),r&&n(ut,{severity:"success",sx:{mb:2},children:r}),n(ot,{fullWidth:!0,type:"email",label:"Email",placeholder:"Enter your Email",value:t,onChange:a=>o(a.target.value),required:!0,autoFocus:!0})]}),h(Yt,{sx:{padding:"16px 24px"},children:[n(Le,{onClick:e,variant:"text",color:"primary",children:"Close"}),n(Le,{type:"submit",variant:"contained",color:"primary",children:"Reset Password"})]})]})]})}function qs({onClose:e}){return h(Et,{open:!0,onClose:e,maxWidth:"sm",fullWidth:!0,slotProps:{backdrop:{sx:{zIndex:1500}},paper:{sx:{zIndex:1501}}},children:[n(Rt,{children:n(G,{children:"Please follow the steps we sent via email to activate your account."})}),n(Yt,{children:n(Le,{onClick:e,variant:"contained",color:"primary",children:"OK"})})]})}function Ys({onClose:e}){const[t,o]=s.useState(!0),[r,i]=s.useState(""),[l,c]=s.useState(""),[d,a]=s.useState(""),[p,u]=s.useState(""),[M,D]=s.useState(!1),[T,E]=s.useState(!1),I=()=>{o(!t),a(""),u("")},$=async Y=>{a(""),u("");let b;try{Y==="google"?b=new nr:Y==="facebook"?b=new or:Y==="twitter"&&(b=new rr),await ar(mt,b),u(Ut("login")),setTimeout(()=>e(),1e3)}catch(P){a(gt(P.code))}},R=async Y=>{Y.preventDefault(),a(""),u("");try{if(t){if(!(await Gn(mt,r,l)).user.emailVerified){a("Please verify your email address before logging in."),await Ro(mt);return}u(Ut("login")),setTimeout(()=>e(),1e3)}else{const b=await Xn(mt,r,l);await Qn(b.user),u(Ut("signup")),E(!0)}}catch(b){const P=b.code;if(t&&P==="auth/user-not-found")try{const k=await Xn(mt,r,l);await Qn(k.user),u("No account was found, so we created one for you."),E(!0)}catch(k){a(gt(k.code))}else if(!t&&P==="auth/email-already-in-use")try{await Gn(mt,r,l),u("That email is already registered. You have been logged in."),setTimeout(()=>e(),1500)}catch(k){a(gt(k.code))}else a(gt(P))}};return M?n(Ks,{onClose:()=>D(!1)}):h(ct,{children:[h(Et,{open:!0,onClose:e,maxWidth:"sm",fullWidth:!0,slotProps:{backdrop:{sx:{zIndex:1500}},paper:{sx:{zIndex:1501}}},PaperProps:{sx:{borderRadius:2,p:2}},children:[n(qt,{sx:{textAlign:"center",pb:1},children:t?"Login to access all Proâ˜… Features":"Create a free account to access all Proâ˜… Features"}),n(Rt,{children:h(N,{component:"form",onSubmit:R,sx:{mt:2},children:[h(it,{spacing:1.5,sx:{mb:3},children:[n(Le,{variant:"contained",fullWidth:!0,startIcon:n(Hs,{}),onClick:()=>$("google"),sx:{backgroundColor:"#DB4437","&:hover":{backgroundColor:"#C33D2E"},textTransform:"none"},children:"Login with Google"}),n(Le,{variant:"contained",fullWidth:!0,startIcon:n(Vs,{}),onClick:()=>$("facebook"),sx:{backgroundColor:"#4267B2","&:hover":{backgroundColor:"#365899"},textTransform:"none"},children:"Login with Facebook"}),n(Le,{variant:"contained",fullWidth:!0,startIcon:n(Us,{}),onClick:()=>$("twitter"),sx:{backgroundColor:"#000000","&:hover":{backgroundColor:"#333333"},textTransform:"none"},children:"Login with X"})]}),n(Pt,{sx:{my:3},children:n(G,{variant:"body2",color:"text.secondary",children:"or"})}),h(it,{spacing:2,children:[n(ot,{type:"email",label:"Email",required:!0,fullWidth:!0,value:r,onChange:Y=>i(Y.target.value),autoComplete:"email"}),n(ot,{type:"password",label:"Password",required:!0,fullWidth:!0,value:l,onChange:Y=>c(Y.target.value),autoComplete:t?"current-password":"new-password"}),d&&n(ut,{severity:"error",onClose:()=>a(""),children:d}),p&&n(ut,{severity:"success",onClose:()=>u(""),children:p}),n(Le,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,size:"large",sx:{mt:2},children:t?"Login":"Create free account"})]})]})}),n(Yt,{sx:{flexDirection:"column",gap:1,p:2,pt:0},children:h(N,{sx:{display:"flex",justifyContent:"space-between",width:"100%"},children:[n(Le,{onClick:I,sx:{textTransform:"none"},children:t?"Sign up":"Login"}),n(Le,{onClick:()=>D(!0),sx:{textTransform:"none"},children:"Forgot password?"})]})})]}),T&&n(qs,{onClose:()=>{E(!1),e()}})]})}const js=Be([n("circle",{cx:"12",cy:"12",r:"3.2"},"0"),n("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")]);function Un({open:e=!1,onClose:t,onConfirm:o,title:r="Please Confirm",message:i,confirmText:l="Confirm",cancelText:c="Cancel",requirePassword:d=!1,password:a=null}){const[p,u]=s.useState(""),[M,D]=s.useState(!1),T=()=>{d&&a?p===a?(D(!1),u(""),o()):D(!0):o()},E=()=>{u(""),D(!1),t()};return h(Et,{open:e,onClose:E,maxWidth:"sm",fullWidth:!0,children:[n(qt,{sx:{textAlign:"center"},children:r}),h(Rt,{children:[typeof i=="string"?n(G,{sx:{textAlign:"center"},children:i}):i,d&&a&&n(N,{sx:{mt:3},children:n(ot,{fullWidth:!0,type:"password",label:"Enter Password to Confirm",value:p,onChange:$=>{u($.target.value),D(!1)},onKeyPress:$=>{$.key==="Enter"&&T()},error:M,helperText:M?"Incorrect password":"",autoFocus:!0,sx:{mt:1}})})]}),h(Yt,{sx:{justifyContent:"space-around",padding:"16px 24px"},children:[n(Le,{onClick:T,variant:"contained",color:"primary",children:l}),n(Le,{onClick:E,variant:"outlined",color:"primary",children:c})]})]})}function _s({onClose:e,user:t,resetSettings:o}){const[r,i]=s.useState(t.displayName||""),[l,c]=s.useState(t.photoURL||""),[d,a]=s.useState(""),[p,u]=s.useState(""),[M,D]=s.useState(!1),[T,E]=s.useState(!1),I=s.useRef(null);s.useEffect(()=>{i(t.displayName||""),c(t.photoURL||"")},[t]);const $=async()=>{a(""),u("");try{await sr(t,{displayName:r,photoURL:l}),await To(nn(At,"users",t.uid),{displayName:r,photoURL:l,updatedAt:new Date},{merge:!0}),a(Ut("profile-updated")),setTimeout(()=>e(),1e3)}catch(w){u(gt(w.code)||w.message)}},R=async()=>{if(window.confirm("Are you sure you want to delete your account? This action cannot be undone."))try{await ir(t),e()}catch(w){u(gt(w.code)||w.message)}},Y=async w=>{u(""),a("");const K=w.target.files[0];if(K)try{const m=Zn(Jn,`profilePictures/${t.uid}`);await lr(m,K);const ne=await cr(m);c(ne),a("Photo uploaded. Click Save to apply.")}catch(m){u(gt(m.code)||m.message)}},b=async()=>{u(""),a("");try{const w=Zn(Jn,`profilePictures/${t.uid}`);await dr(w),c(""),a("Image deleted. Click Save to apply.")}catch(w){w.code==="storage/object-not-found"?(c(""),a("Image deleted. Click Save to apply.")):u(gt(w.code)||w.message)}},P=()=>{E(!0)},k=async()=>{E(!1);try{await Eo(mt,t.email),a(Ut("change-password"))}catch(w){u(gt(w.code))}};return h(ct,{children:[h(Et,{open:!0,onClose:e,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2,p:2}},children:[n(qt,{children:"Account Information"}),n(Rt,{children:h(it,{spacing:3,sx:{mt:2},children:[h(N,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2},children:[h(N,{sx:{position:"relative"},children:[l?n(Cn,{src:l,alt:"Profile",sx:{width:100,height:100},imgProps:{referrerPolicy:"no-referrer",crossOrigin:"anonymous"}}):n(Cn,{sx:{width:100,height:100,bgcolor:"primary.main"},children:n(qo,{sx:{fontSize:80}})}),n(je,{sx:{position:"absolute",bottom:-5,right:-5,backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"}},size:"small",onClick:()=>I.current.click(),children:n(js,{fontSize:"small"})})]}),n("input",{ref:I,type:"file",accept:"image/*",onChange:Y,style:{display:"none"}}),h(N,{sx:{display:"flex",gap:2},children:[n(Le,{size:"small",onClick:()=>I.current.click(),sx:{textTransform:"none"},children:l?"Replace":"Add image"}),l&&n(Le,{size:"small",color:"error",onClick:b,sx:{textTransform:"none"},children:"Delete"})]})]}),h(N,{children:[n(G,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Email"}),n(G,{variant:"body1",children:t.email})]}),n(ot,{label:"Name",fullWidth:!0,value:r,onChange:w=>i(w.target.value)}),n(Le,{variant:"outlined",onClick:P,sx:{textTransform:"none"},children:"Change Password"}),p&&n(ut,{severity:"error",onClose:()=>u(""),children:p}),d&&n(ut,{severity:"success",onClose:()=>a(""),children:d}),h(N,{children:[n(Le,{onClick:()=>D(!M),sx:{textTransform:"none",color:"text.secondary"},children:M?"Hide":"More Account Settings"}),n(hr,{in:M,children:n(N,{sx:{mt:2},children:n(Le,{variant:"outlined",color:"error",fullWidth:!0,onClick:R,sx:{textTransform:"none"},children:"Delete Account"})})})]})]})}),h(Yt,{sx:{p:2,pt:0},children:[n(Le,{onClick:e,sx:{textTransform:"none"},children:"Cancel"}),n(Le,{onClick:$,variant:"contained",color:"primary",sx:{textTransform:"none"},children:"Save"})]})]}),T&&n(Un,{message:`Send a password reset email to ${t.email}?`,onConfirm:k,onCancel:()=>E(!1)})]})}function Yo({onClose:e,onSignUp:t}){return h(Et,{open:!0,onClose:e,maxWidth:"sm",fullWidth:!0,slotProps:{backdrop:{sx:{zIndex:1500}},paper:{sx:{zIndex:1501}}},children:[n(qt,{sx:{textAlign:"center"},children:"Unlock Proâ˜… Features for free: $0"}),n(Rt,{children:n(G,{sx:{textAlign:"center",mb:2},children:"Create a free account to unlock full access to the pro features, including changing timezones and accessing premium settings."})}),h(Yt,{sx:{flexDirection:"column",gap:1,padding:"16px 24px"},children:[n(Le,{onClick:t,variant:"contained",color:"primary",fullWidth:!0,children:"Create Free Account"}),n(Le,{onClick:e,variant:"text",color:"primary",children:"Close"})]})]})}const Ft=({checked:e,onChange:t})=>n(ls,{checked:e,onChange:t,color:"primary"}),jo=Pn.forwardRef(({searchQuery:e,onSearchChange:t,searchInputRef:o,mainInputRef:r,children:i,placement:l="bottom-start",...c},d)=>n(qn,{...c,ref:d,placement:l,modifiers:[{name:"offset",options:{offset:[0,6]}},{name:"flip",enabled:!0},{name:"preventOverflow",options:{padding:8}}],children:h(N,{sx:{boxShadow:3,borderRadius:1.5,bgcolor:"background.paper",width:360,maxWidth:"90vw"},children:[n(N,{sx:{p:1.5,borderBottom:1,borderColor:"divider"},children:n(ot,{value:e,onChange:a=>t(a.target.value),onKeyDown:a=>{if(a.key===" "){a.preventDefault(),t(p=>`${p}_`);return}if(a.key==="Enter"){if(a.preventDefault(),r!=null&&r.current){const p=new KeyboardEvent("keydown",{key:"Enter",code:"Enter",keyCode:13,which:13,bubbles:!0});r.current.dispatchEvent(p)}return}if((a.key==="ArrowDown"||a.key==="ArrowUp")&&(a.preventDefault(),r!=null&&r.current)){const p=new KeyboardEvent("keydown",{key:a.key,code:a.key,bubbles:!0});r.current.dispatchEvent(p)}},size:"small",fullWidth:!0,placeholder:"Search timezones",autoFocus:!0,inputRef:o,inputProps:{"aria-label":"Search timezones"}})}),i]})}));jo.displayName="SearchablePopper";function Gs({textColor:e="inherit",onRequestSignUp:t}){const{user:o}=on(),{selectedTimezone:r,updateSelectedTimezone:i}=Dn(),[l,c]=s.useState(!1),[d,a]=s.useState([]),[p,u]=s.useState(!0),[M,D]=s.useState(""),[T,E]=s.useState(!1),I=s.useRef(null),$=s.useRef(null),R=s.useRef(null),Y=s.useRef(null);s.useEffect(()=>{let m=!0;return(async()=>{u(!0);try{const F=new Date,X=Intl.supportedValuesOf?Intl.supportedValuesOf("timeZone"):[],C=O=>{if(!O)return 0;const te=O.startsWith("-")?-1:1,f=O.replace(/^[-+]/,""),[Q,S]=f.split(":").map(Number);return te*((Q||0)*60+(S||0))},z=X.map(O=>{const te=O.replace(/_/g," ");let f="";try{const J=new Intl.DateTimeFormat("en-US",{timeZone:O,timeZoneName:"shortOffset"}).formatToParts(F).find(ae=>ae.type==="timeZoneName");f=J?J.value.replace(/UTC|GMT/,"").trim():""}catch{f=""}return{timezone:O,offset:f,sortKey:C(f),label:`(UTC${f||""}) ${te}`}});z.sort((O,te)=>O.sortKey-te.sortKey||O.timezone.localeCompare(te.timezone)),m&&a(z)}finally{m&&u(!1)}})(),()=>{m=!1}},[]);const b=s.useCallback(m=>{if(!M)return m;const ne=M.toLowerCase();return m.filter(F=>F.label.toLowerCase().includes(ne)||F.timezone.toLowerCase().includes(ne))},[M]),P=s.useMemo(()=>d.find(m=>m.timezone===r)||null,[d,r]),k=(m,ne)=>{if(!o){c(!0);return}ne&&i(ne.timezone),E(!1)},w=()=>{D(""),E(!0)},K=(m,ne)=>{(ne==="selectOption"||ne==="escape")&&E(!1)};return s.useEffect(()=>{if(!T)return;const m=ne=>{const F=ne.target;$.current&&$.current.contains(F)||I.current&&I.current.contains(F)||E(!1)};return document.addEventListener("mousedown",m),document.addEventListener("touchstart",m),()=>{document.removeEventListener("mousedown",m),document.removeEventListener("touchstart",m)}},[T]),s.useEffect(()=>{if(!T)return;const m=requestAnimationFrame(()=>{R.current&&(R.current.focus(),R.current.select&&R.current.select())}),ne=setTimeout(()=>{R.current&&(R.current.focus(),R.current.select&&R.current.select())},60);return()=>{cancelAnimationFrame(m),clearTimeout(ne)}},[T]),h(ct,{children:[h(Qe,{elevation:0,sx:{border:1,borderColor:"divider",borderRadius:3,overflow:"hidden"},children:[h(N,{sx:{px:1.75,py:1.5,borderBottom:1,borderColor:"divider"},children:[n(G,{variant:"subtitle2",sx:{fontWeight:700},children:"Timezone"}),n(G,{variant:"caption",color:"text.secondary",children:"Switch sessions to your local time instantly."})]}),n(N,{sx:{p:{xs:1.25,sm:1.5}},ref:$,children:n(la,{value:P,onChange:k,open:T,onOpen:w,onClose:K,openOnFocus:!0,options:d,filterOptions:b,getOptionLabel:m=>typeof m=="string"?m:m.label,isOptionEqualToValue:(m,ne)=>!m||!ne?!1:m.timezone===(ne.timezone||ne),size:"small",disableClearable:!0,clearOnBlur:!1,freeSolo:!1,loading:p,popupIcon:null,slots:{popper:jo},slotProps:{popper:{searchQuery:M,onSearchChange:D,searchInputRef:R,mainInputRef:Y,ref:I,placement:"bottom-start",sx:{zIndex:1500}},listbox:{sx:{maxHeight:280,overflow:"auto",py:.5,"& .MuiAutocomplete-option":{paddingY:.75,paddingX:1.25}}},paper:{elevation:0,square:!0,sx:{boxShadow:"none",borderRadius:0}}},sx:{"& .MuiOutlinedInput-root":{backgroundColor:"background.paper",border:"1px solid",borderColor:"divider",borderRadius:2,"& fieldset":{border:"none"},"&:hover fieldset":{border:"none"}},"& .MuiInputBase-input":{fontSize:"0.9rem",color:e,padding:"10px 12px",cursor:"pointer",userSelect:"none"}},renderInput:m=>n(ot,{...m,placeholder:p?"Loading timezones...":"Select timezone",InputProps:{...m.InputProps,readOnly:!0,endAdornment:h(ct,{children:[p?n(xn,{color:"inherit",size:16,sx:{mr:1}}):null,m.InputProps.endAdornment]})},inputRef:Y,inputProps:{...m.inputProps,readOnly:!0,"aria-label":"Select timezone",onSelect:ne=>ne.preventDefault()}})})})]}),l&&n(Yo,{onClose:()=>c(!1),onSignUp:()=>{c(!1),t&&t()}})]})}const Xs=[{key:"general",label:"General",icon:n(Ws,{fontSize:"small"})},{key:"session",label:"Sessions",icon:n(Bs,{fontSize:"small"})},{key:"about",label:"About",icon:n(Fs,{fontSize:"small"})}];function gn({title:e,subtitle:t,children:o,dense:r}){return h(Qe,{elevation:0,sx:{p:r?2:{xs:2.25,sm:3},borderRadius:3,border:1,borderColor:"divider",bgcolor:"background.paper",mb:{xs:2,sm:3}},children:[(e||t)&&h(N,{sx:{mb:t?1.25:1},children:[e&&n(G,{variant:"h6",sx:{fontWeight:700,fontSize:{xs:"1rem",sm:"1.05rem"}},children:e}),t&&n(G,{variant:"body2",color:"text.secondary",sx:{mt:.25},children:t})]}),o]})}function bn({label:e,description:t,children:o,helperText:r,dense:i}){return h(N,{sx:{py:i?1:1.5,display:"flex",gap:2,alignItems:"flex-start"},children:[h(N,{sx:{flex:1,minWidth:0},children:[n(G,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.95rem",sm:"1rem"}},children:e}),t&&n(G,{variant:"body2",color:"text.secondary",sx:{mt:.25,fontSize:{xs:"0.85rem",sm:"0.9rem"},lineHeight:1.6},children:t}),r&&n(ut,{severity:"info",sx:{mt:1,fontSize:{xs:"0.8rem",sm:"0.85rem"},py:1},children:r})]}),n(N,{sx:{flexShrink:0},children:o})]})}function Qs({open:e,onClose:t}){const{user:o}=on(),{clockStyle:r,canvasSize:i,sessions:l,updateClockStyle:c,updateCanvasSize:d,updateSessions:a,backgroundColor:p,updateBackgroundColor:u,backgroundBasedOnSession:M,toggleBackgroundBasedOnSession:D,showHandClock:T,showDigitalClock:E,showSessionLabel:I,toggleShowHandClock:$,toggleShowDigitalClock:R,toggleShowSessionLabel:Y,showTimeToEnd:b,showTimeToStart:P,toggleShowTimeToEnd:k,toggleShowTimeToStart:w,showSessionNamesInCanvas:K,toggleShowSessionNamesInCanvas:m,showEventsOnCanvas:ne,toggleShowEventsOnCanvas:F,resetSettings:X}=Dn(),[C,z]=s.useState("general"),[O,te]=s.useState(!1),[f,Q]=s.useState(!1),[S,J]=s.useState(!1),[ae,A]=s.useState(!1),[re,ve]=s.useState(!1),[Se,Z]=s.useState(null),[q,fe]=s.useState(null),[de,j]=s.useState(""),{isFullscreen:_,canFullscreen:be,toggleFullscreen:he}=Bo(),ie=()=>fe(null),ke=async()=>{try{await Ro(mt),X(),ie(),t()}catch(x){console.error(x)}},Ee=x=>{x()?j(""):(j("At least one of the main clock elements must be enabled."),setTimeout(()=>j(""),4e3))},pe=(x,V,le)=>{if(!o){J(!0);return}const Ce=[...l];Ce[x][V]=le,a(Ce)},Pe=()=>{if(!o){J(!0);return}k()},B=()=>{if(!o){J(!0);return}w()},ye=()=>{if(!o){J(!0);return}m()},se=x=>{if(!o){J(!0);return}Z(x),ve(!0)},Re=()=>{if(Se==null)return;const x=[...l];x[Se]={...x[Se],name:"",startNY:"",endNY:"",color:""},a(x),Z(null),ve(!1)},Ie=()=>{Z(null),ve(!1)},Fe=()=>{X(),A(!1)},we=s.useMemo(()=>n(N,{role:"tablist","aria-label":"Settings sections",sx:{display:"flex",gap:1,p:{xs:1,sm:1.5},border:1,borderColor:"divider",borderRadius:2,bgcolor:"background.paper"},children:Xs.map(x=>{const V=C===x.key;return n(Le,{onClick:()=>z(x.key),startIcon:x.icon,variant:V?"contained":"text",color:V?"primary":"inherit",sx:{flex:1,textTransform:"none",borderRadius:2,fontWeight:600,bgcolor:V?"primary.main":"transparent",color:V?"primary.contrastText":"text.primary",boxShadow:V?2:"none"},"aria-current":V?"page":void 0,children:x.label},x.key)})}),[C]),v=h(gn,{dense:!0,children:[n(G,{variant:"overline",sx:{fontWeight:700,letterSpacing:.4,color:"text.secondary"},children:"Visibility"}),n(Qe,{elevation:0,sx:{mt:1,borderRadius:3,border:1,borderColor:"divider",overflow:"hidden"},children:[{label:"Hand Clock",helper:"Analog with sessions",checked:T,onChange:()=>Ee($)},{label:"Digital Clock",helper:"Readable digits",checked:E,onChange:()=>Ee(R)},{label:"Active Label",helper:"Current session tag",checked:I,onChange:()=>Ee(Y)}].map((x,V)=>h(N,{sx:{display:"flex",alignItems:"center",gap:1.5,px:1.75,py:1.25,bgcolor:"background.paper",borderBottom:V===2?"none":"1px solid",borderColor:"divider"},children:[h(N,{sx:{flex:1,minWidth:0},children:[n(G,{variant:"body2",sx:{fontWeight:700,whiteSpace:"nowrap"},children:x.label}),n(G,{variant:"caption",color:"text.secondary",sx:{whiteSpace:"nowrap"},children:x.helper})]}),n(Ft,{checked:x.checked,onChange:x.onChange})]},x.label))}),de&&n(ut,{severity:"error",sx:{mt:1.25},children:de})]}),L=h(ct,{children:[n(N,{sx:{mb:{xs:2,sm:3}},children:n(Gs,{onRequestSignUp:()=>te(!0)})}),v,h(gn,{children:[n(G,{variant:"overline",sx:{fontWeight:700,letterSpacing:.4,color:"text.secondary",display:"block",mb:1},children:"Appearance"}),h(Qe,{elevation:0,sx:{border:1,borderColor:"divider",borderRadius:3,overflow:"hidden",mb:2},children:[n(N,{sx:{px:1.75,py:1.5,borderBottom:"1px solid",borderColor:"divider"},children:n(bn,{label:"Clock Style",description:"Choose the visual style of your clock",children:h(ot,{select:!0,value:r,onChange:x=>c(x.target.value),size:"small",sx:{minWidth:160},children:[n(Nn,{value:"normal",children:"Normal"}),n(Nn,{value:"aesthetic",children:"Aesthetic"}),n(Nn,{value:"minimalistic",children:"Minimalistic"})]})})}),h(N,{sx:{px:1.75,py:1.5},children:[n(G,{variant:"body1",sx:{fontWeight:600,mb:.5},children:"Canvas Size"}),n(G,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Drag to resize and watch the canvas update live."}),n(ts,{value:i,onChange:(x,V)=>d(V),min:25,max:100,valueLabelDisplay:"auto",valueLabelFormat:x=>`${x}%`})]})]}),n(G,{variant:"overline",sx:{fontWeight:700,letterSpacing:.4,color:"text.secondary",display:"block",mb:1},children:"Background"}),h(Qe,{elevation:0,sx:{border:1,borderColor:"divider",borderRadius:3,overflow:"hidden",mb:2},children:[n(N,{sx:{px:1.75,py:1.25,borderBottom:"1px solid",borderColor:"divider"},children:n(bn,{label:"Background Color",description:"Pick a custom background to match your workspace",children:n(ot,{type:"color",value:p,onChange:x=>u(x.target.value),size:"small",sx:{width:{xs:"100%",sm:90}}})})}),n(N,{sx:{px:1.75,py:1.25},children:n(bn,{label:"Session-based background",description:"Automatically shift background color to match the active session",children:n(Ft,{checked:M,onChange:D})})})]}),n(G,{variant:"overline",sx:{fontWeight:700,letterSpacing:.4,color:"text.secondary",display:"block",mb:1},children:"Economic calendar"}),n(Qe,{elevation:0,sx:{border:1,borderColor:"divider",borderRadius:3,overflow:"hidden",mb:2},children:n(N,{sx:{px:1.75,py:1.25},children:n(bn,{label:"Show events on clock",description:"Display economic event markers on the analog face",helperText:T?"":"Enable the hand clock to see events plotted on the analog face.",dense:!0,children:n(Ft,{checked:ne&&T,onChange:F,disabled:!T})})})}),n(N,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:n(Le,{variant:"outlined",color:"error",onClick:()=>A(!0),sx:{textTransform:"none",borderRadius:2,px:2.5,py:1},children:"Reset to Default Settings"})})]})]}),H=n(ct,{children:h(gn,{title:"Session schedule",subtitle:"Edit your trading sessions. Auth is required to sync changes.",children:[n(G,{variant:"overline",sx:{fontWeight:700,letterSpacing:.4,color:"text.secondary",display:"block",mb:1},children:"Sessions"}),n(Qe,{elevation:0,sx:{border:1,borderColor:"divider",borderRadius:3,overflow:"hidden",mb:2},children:l.map((x,V)=>h(N,{sx:{p:{xs:1.75,sm:2},borderBottom:V===l.length-1?"none":"1px solid",borderColor:"divider"},children:[h(N,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1.25,gap:1},children:[h(G,{variant:"subtitle2",sx:{fontWeight:700},children:["Session ",V+1]}),n(je,{size:"small",onClick:()=>se(V),sx:{color:"text.secondary"},"aria-label":`Clear session ${V+1}`,children:n(Ns,{fontSize:"small"})})]}),n(ot,{label:"Name",size:"small",fullWidth:!0,value:x.name,onChange:le=>pe(V,"name",le.target.value),placeholder:`Session ${V+1} Name`,sx:{mb:1.5}}),h(N,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr 90px"},gap:{xs:1.25,sm:1.5}},children:[n(ot,{label:"Start Time",type:"time",size:"small",value:x.startNY,onChange:le=>pe(V,"startNY",le.target.value),InputLabelProps:{shrink:!0}}),n(ot,{label:"End Time",type:"time",size:"small",value:x.endNY,onChange:le=>pe(V,"endNY",le.target.value),InputLabelProps:{shrink:!0}}),n(ot,{label:"Color",type:"color",size:"small",value:x.color,onChange:le=>pe(V,"color",le.target.value),sx:{width:{xs:"100%",sm:"100%"}},inputProps:{style:{padding:0,height:38}}})]})]},V))}),n(Pt,{sx:{my:2}}),n(G,{variant:"overline",sx:{fontWeight:700,letterSpacing:.4,color:"text.secondary",display:"block",mb:1},children:"Labels & timing"}),n(Qe,{elevation:0,sx:{border:1,borderColor:"divider",borderRadius:3,overflow:"hidden",mb:2},children:[{label:"Show Time to End",description:"Display remaining time until active session ends",control:n(Ft,{checked:b,onChange:Pe})},{label:"Show Time to Start",description:"Display time until next session begins",control:n(Ft,{checked:P,onChange:B})},{label:"Session names on canvas",description:"Display session names curved along the session donuts",control:n(Ft,{checked:K,onChange:ye})}].map((x,V)=>h(N,{sx:{px:1.75,py:1.25,borderBottom:V===2?"none":"1px solid",borderColor:"divider",display:"flex",gap:1.5,alignItems:"flex-start"},children:[h(N,{sx:{flex:1,minWidth:0},children:[n(G,{variant:"body1",sx:{fontWeight:600,fontSize:{xs:"0.95rem",sm:"1rem"}},children:x.label}),n(G,{variant:"body2",color:"text.secondary",sx:{mt:.25,lineHeight:1.6},children:x.description})]}),n(N,{sx:{flexShrink:0},children:x.control})]},x.label))})]})}),oe=h(gn,{title:"About",subtitle:"Learn more about Time 2 Trade.",children:[h(G,{variant:"body1",sx:{mb:1.5},children:[n("strong",{children:"Time 2 Trade"})," is a live, timezone-aware session clock built for futures and forex day traders. The dual-ring analog canvas shows AM/PM trading sessions at a glance while your settings sync across devices."]}),n(G,{variant:"body2",color:"text.secondary",sx:{mb:2.5},children:"Stay aligned with high-impact economic events, track active sessions in your local time, and keep at least one visible clock element on-screen for constant market awareness. All Proâ˜… features are included for freeâ€”no paywalls."}),n(Pt,{sx:{my:2}}),n(G,{variant:"subtitle2",sx:{mb:.5,fontWeight:700},children:"Developer"}),h(G,{variant:"body2",sx:{mb:2},children:["Developed by: ",n("strong",{children:n("a",{href:"https://x.com/lofi_trades",target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"none"},children:"@lofi_trades"})})]}),n(Pt,{sx:{my:2}}),n(G,{variant:"subtitle2",sx:{mb:.5,fontWeight:700},children:"Version"}),n(G,{variant:"body2",color:"text.secondary",children:"1.0.0-beta"})]}),ue=()=>C==="session"?H:C==="about"?oe:L;return h(ct,{children:[h(Ra,{anchor:"right",open:e&&!O&&!S&&!f,onClose:t,variant:"temporary",ModalProps:{keepMounted:!0},sx:{zIndex:1355,"& .MuiDrawer-paper":{boxSizing:"border-box"}},PaperProps:{sx:{width:{xs:"100%",sm:"100%",md:520,lg:560},maxWidth:"100vw",height:"100vh",display:"flex",flexDirection:"column",boxShadow:"-20px 0 40px rgba(0,0,0,0.12)",borderLeft:1,borderColor:"divider"}},children:[h(N,{sx:{p:{xs:2,sm:2.5},borderBottom:1,borderColor:"divider",display:"flex",alignItems:"center",justifyContent:"space-between",gap:1.5,flexShrink:0,backgroundImage:"linear-gradient(120deg, rgba(0,0,0,0.02), transparent)"},children:[h(N,{children:[n(G,{variant:"h6",sx:{fontWeight:700},children:"Settings"}),n(G,{variant:"caption",color:"text.secondary",children:"Live-preview updates on the canvas"})]}),h(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[n(yt,{title:_?"Exit fullscreen":"Enter fullscreen",arrow:!0,children:n("span",{children:n(je,{size:"small",onClick:he,disabled:!be,sx:{"&:hover":{bgcolor:"action.hover"}},"aria-label":_?"Exit fullscreen":"Enter fullscreen","aria-pressed":_,children:_?n(Os,{}):n(zs,{})})})}),n(je,{size:"small",onClick:t,sx:{"&:hover":{bgcolor:"action.hover"}},"aria-label":"Close settings",children:n(Vt,{})})]})]}),n(N,{sx:{p:{xs:2,sm:2.5},borderBottom:1,borderColor:"divider",flexShrink:0},children:o?n(ct,{children:h(Qe,{elevation:0,sx:{border:1,borderColor:"divider",borderRadius:2,overflow:"hidden"},children:[h(N,{sx:{display:"flex",alignItems:"center",gap:1.25,p:1.25,cursor:"pointer",bgcolor:"action.hover"},onClick:()=>fe(x=>!x),children:[o.photoURL?n(Cn,{src:o.photoURL,alt:o.displayName||"User",sx:{width:40,height:40},imgProps:{referrerPolicy:"no-referrer",crossOrigin:"anonymous"}}):n(Cn,{sx:{width:40,height:40,bgcolor:"primary.main"},children:n(qo,{})}),h(N,{sx:{flex:1,minWidth:0},children:[n(G,{variant:"subtitle2",noWrap:!0,sx:{fontWeight:700},children:o.displayName||"User"}),n(G,{variant:"caption",color:"text.secondary",noWrap:!0,children:o.email})]}),n($s,{fontSize:"small",sx:{transform:q?"rotate(180deg)":"none",transition:"transform 0.2s"}})]}),q&&h(N,{sx:{borderTop:1,borderColor:"divider",bgcolor:"background.paper"},children:[n(Le,{fullWidth:!0,onClick:()=>{Q(!0),fe(!1)},sx:{justifyContent:"flex-start",textTransform:"none",py:1.25,px:1.5},children:"My Account"}),n(Le,{fullWidth:!0,onClick:()=>{ke(),fe(!1)},sx:{justifyContent:"flex-start",textTransform:"none",py:1.25,px:1.5},children:"Log out"})]})]})}):n(Le,{variant:"contained",fullWidth:!0,onClick:()=>te(!0),sx:{textTransform:"none",py:1},children:"Login / Sign Up"})}),n(N,{sx:{p:{xs:2,sm:2.5},flexShrink:0},children:we}),n(N,{sx:{flex:1,overflowY:"auto",px:{xs:2,sm:2.5},pb:{xs:2,sm:3},backgroundImage:"linear-gradient(to bottom right, rgba(0,0,0,0.01), transparent)"},children:ue()}),!o&&n(N,{sx:{p:{xs:2,sm:2.5},borderTop:1,borderColor:"divider",flexShrink:0,bgcolor:"background.paper"},children:n(G,{variant:"caption",color:"text.secondary",sx:{textAlign:"center",display:"block"},children:"Create a free account to unlock Proâ˜… Features."})})]}),O&&n(Ys,{onClose:()=>te(!1)}),f&&n(_s,{onClose:()=>Q(!1),user:o,resetSettings:X}),S&&n(Yo,{onClose:()=>J(!1),onSignUp:()=>{J(!1),te(!0)}}),ae&&n(Un,{open:ae,onClose:()=>A(!1),onConfirm:Fe,title:"Reset to Default Settings?",message:"This will reset all settings including clock style, sessions, colors, and preferences to their default values. This action cannot be undone.",confirmText:"Reset Settings",cancelText:"Cancel"}),re&&n(Un,{open:re,onClose:Ie,onConfirm:Re,title:"Clear this session?",message:"This will clear the name, start, end, and color fields for this session. Continue?",confirmText:"Clear session",cancelText:"Cancel"})]})}const xo=Be(n("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"})),Zs=Be(n("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-7 2h2.5v12H13zm-2 12H8.5V6H11zM4 6h2.5v12H4zm16 12h-2.5V6H20z"})),Js=Be(n("path",{fillRule:"evenodd",d:"M20 3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M10 17H5v-2h5zm0-4H5v-2h5zm0-4H5V7h5zm4.82 6L12 12.16l1.41-1.41 1.41 1.42L17.99 9l1.42 1.42z"})),ei=Be(n("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),ti=Be(n("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),ni=Be(n("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}));function oi({value:e,onChange:t,sx:o={}}){const[r,i]=s.useState(!1),l=Tn(),c=$o(l.breakpoints.down("sm")),d=Ln.find(p=>p.value===e)||Ln[0],a=p=>{t(p),i(!1)};return h(ct,{children:[n(Le,{variant:"outlined",size:"small",onClick:()=>i(!0),endIcon:n($n,{sx:{fontSize:16}}),sx:{textTransform:"none",fontWeight:600,fontSize:{xs:"0.8125rem",sm:"0.875rem"},borderColor:"divider",color:"text.primary",px:{xs:1.5,sm:2},py:.75,whiteSpace:"nowrap","&:hover":{borderColor:"primary.main",bgcolor:"action.hover"},...o},children:d.label}),h(Et,{open:r,onClose:()=>i(!1),maxWidth:"md",fullWidth:!0,fullScreen:c,PaperProps:{sx:{borderRadius:{xs:0,sm:2},maxHeight:"90vh"}},children:[h(qt,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",pb:2,borderBottom:1,borderColor:"divider"},children:[h(N,{children:[n(G,{variant:"h6",sx:{fontWeight:700,mb:.5},children:"Select Data Source"}),n(G,{variant:"caption",color:"text.secondary",children:"Choose your preferred economic calendar provider"})]}),n(je,{onClick:()=>i(!1),size:"small",sx:{ml:2},children:n(Vt,{})})]}),h(Rt,{sx:{p:{xs:2,sm:3},pt:{xs:2,sm:3}},children:[n(N,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(3, 1fr)"},gap:2,mt:2},children:Ln.map(p=>{const u=p.value===e,D={"forex-factory":{coverage:"Comprehensive",strength:"Broad historical coverage",availability:"Primary source via JBlanked"},mql5:{coverage:"Extensive",strength:"MetaTrader official data",availability:"Primary source via JBlanked"},fxstreet:{coverage:"Limited",strength:"Real-time updates",availability:"Supplementary source"}}[p.value];return h(mr,{elevation:u?8:1,sx:{position:"relative",border:2,borderColor:u?"primary.main":"divider",transition:"all 0.3s",cursor:"pointer","&:hover":{borderColor:u?"primary.dark":"primary.light",transform:"translateY(-4px)",boxShadow:l.shadows[8]}},onClick:()=>a(p.value),children:[u&&n(N,{sx:{position:"absolute",top:12,right:12,bgcolor:"primary.main",borderRadius:"50%",p:.5,display:"flex",alignItems:"center",justifyContent:"center"},children:n(Fn,{sx:{color:"white",fontSize:20}})}),h(gr,{sx:{p:2.5,pb:1.5},children:[n(G,{variant:"h6",sx:{fontWeight:700,mb:1,fontSize:"1rem",pr:3},children:p.label}),n(G,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.8125rem",lineHeight:1.5,mb:2,minHeight:60},children:p.description}),n(Pt,{sx:{my:1.5}}),h(N,{sx:{display:"flex",flexDirection:"column",gap:1},children:[h(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[n(br,{sx:{fontSize:16,color:"info.main"}}),h(G,{variant:"caption",sx:{fontSize:"0.75rem"},children:[D.coverage," coverage"]})]}),h(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[n(Fn,{sx:{fontSize:16,color:p.value==="fxstreet"?"warning.main":"success.main"}}),n(G,{variant:"caption",sx:{fontSize:"0.75rem"},children:D.strength})]}),h(N,{sx:{display:"flex",alignItems:"center",gap:1},children:[n($n,{sx:{fontSize:16,color:"text.secondary"}}),n(G,{variant:"caption",sx:{fontSize:"0.75rem"},children:D.availability})]})]})]}),n(xa,{sx:{p:2.5,pt:0},children:n(Le,{fullWidth:!0,variant:u?"contained":"outlined",size:"small",onClick:T=>{T.stopPropagation(),a(p.value)},sx:{textTransform:"none",fontWeight:600,py:1},children:u?"Current Source":"Select Source"})})]},p.value)})}),n(N,{sx:{mt:3,p:2,bgcolor:lt("#2196f3",.08),borderRadius:1.5,border:"1px solid",borderColor:lt("#2196f3",.2)},children:h(N,{sx:{display:"flex",gap:1.5,alignItems:"flex-start"},children:[n($n,{sx:{fontSize:20,color:"info.main",flexShrink:0,mt:.25}}),h(N,{children:[n(G,{variant:"subtitle2",sx:{fontWeight:600,mb:.5,fontSize:"0.875rem"},children:"How Data is Sourced"}),h(G,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.75rem",lineHeight:1.6,display:"block"},children:["This application aggregates economic calendar data from multiple trusted providers to give you comprehensive event coverage. The system automatically selects the highest quality data when the same event is available from multiple sources.",n("br",{}),n("br",{}),n("strong",{children:"Your selection determines which provider is prioritized."})," If your preferred source is unavailable for an event, the system will automatically use the next best available source."]})]})]})}),n(N,{sx:{mt:2,p:2,bgcolor:lt("#ff9800",.08),borderRadius:1.5,border:"1px solid",borderColor:lt("#ff9800",.2)},children:h(G,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem",lineHeight:1.6,display:"block",fontStyle:"italic"},children:[n("strong",{children:"Important Disclaimer:"})," This economic calendar is provided for informational and educational purposes only. Data accuracy, completeness, and timeliness are not guaranteed. Event times, forecasts, and actual values may contain errors, omissions, or delays. ",n("strong",{children:"Do not use this information as the sole basis for trading or financial decisions."}),n("br",{}),n("br",{}),"We are not responsible for any trading losses, investment decisions, or financial outcomes resulting from the use of this data. Always verify critical information with official sources and consult qualified financial professionals before making investment decisions. Past performance and forecasts do not guarantee future results.",n("br",{}),n("br",{}),'By using this application, you acknowledge that all data is sourced from third-party providers (NFS API, JBlanked API, Forex Factory, MQL5/MetaTrader, FXStreet) and any inaccuracies or discrepancies are the responsibility of those original sources. We provide this data "as is" without warranties of any kind.']})})]})]})]})}const ri=(e,t)=>{if(!e)return"Unknown time";const o=e.toDate?e.toDate():new Date(e);return Number.isNaN(o.getTime())?"Unknown time":o.toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short",timeZone:t})};function ai({open:e,onClose:t,event:o,timezone:r,notes:i=[],loading:l=!1,onAddNote:c,onRemoveNote:d,error:a=null}){const p=Tn(),u=$o(p.breakpoints.down("sm")),[M,D]=s.useState(""),[T,E]=s.useState(!1),[I,$]=s.useState(null),[R,Y]=s.useState(null),b=(o==null?void 0:o.name)||(o==null?void 0:o.Name)||"Selected Event",P=(o==null?void 0:o.currency)||(o==null?void 0:o.Currency)||null,k=s.useMemo(()=>o?No(o.time||o.date,r):"â€”",[o,r]);s.useEffect(()=>{e&&(D(""),$(null),Y(null))},[o,e]);const w=async()=>{if(!M.trim()||!c||T)return;E(!0);const m=await c(M.trim());m!=null&&m.success&&D(""),E(!1)},K=async m=>{if(!(!d||I)){if(R!==m){Y(m);return}$(m),await d(m),$(null),Y(null)}};return h(Et,{open:e,onClose:t,fullScreen:u,maxWidth:"sm",fullWidth:!0,children:[u?n(Br,{sx:{position:"relative"},color:"primary",children:h(yr,{children:[n(je,{edge:"start",color:"inherit",onClick:t,"aria-label":"close",children:n(Vt,{})}),n(G,{sx:{ml:2,flex:1,fontWeight:800},variant:"h6",component:"div",children:"Event Notes"})]})}):h(N,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:3,pt:3},children:[h(it,{direction:"row",spacing:1,alignItems:"center",children:[n(kn,{color:"primary"}),h(N,{children:[n(G,{variant:"subtitle2",sx:{fontWeight:800},children:"Event Notes"}),h(G,{variant:"caption",color:"text.secondary",children:[k," ",P?`â€¢ ${P}`:""]})]})]}),n(je,{onClick:t,children:n(Vt,{})})]}),n(Rt,{sx:{pt:u?2:1,pb:{xs:3,sm:3}},children:h(it,{spacing:2.5,children:[h(N,{children:[n(G,{variant:"subtitle1",sx:{fontWeight:800},children:b}),h(G,{variant:"body2",color:"text.secondary",children:[k," ",P?`â€¢ ${P}`:""]})]}),a?n(ut,{severity:"error",children:a}):null,h(it,{spacing:1.25,children:[n(ot,{label:"Add a note",placeholder:"What do you want to remember for this event?",fullWidth:!0,multiline:!0,minRows:3,value:M,onChange:m=>D(m.target.value),disabled:T}),n(N,{sx:{display:"flex",justifyContent:"flex-end"},children:n(Le,{variant:"contained",endIcon:T?n(xn,{size:16,thickness:5,color:"inherit"}):n(ni,{}),onClick:w,disabled:T||!M.trim(),sx:{textTransform:"none",fontWeight:700},children:"Save Note"})})]}),n(Pt,{}),h(N,{children:[h(it,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[n(kn,{fontSize:"small"}),h(G,{variant:"subtitle2",sx:{fontWeight:800},children:["Notes (",i.length,")"]})]}),l?n(N,{sx:{display:"flex",alignItems:"center",justifyContent:"center",py:4},children:n(xn,{size:32,thickness:5})}):i.length===0?n(N,{sx:{p:2,bgcolor:"background.paper",borderRadius:2,border:"1px dashed",borderColor:"divider"},children:n(G,{variant:"body2",color:"text.secondary",children:"No notes yet. Start by adding one above."})}):n(Pr,{dense:!0,disablePadding:!0,children:i.map(m=>h(Pn.Fragment,{children:[n(Nr,{alignItems:"flex-start",secondaryAction:h(it,{direction:"row",spacing:.75,alignItems:"center",children:[R===m.id&&n(G,{variant:"caption",color:"error.main",sx:{fontWeight:700},children:"Confirm"}),R===m.id&&n(je,{edge:"end","aria-label":"cancel delete",onClick:()=>Y(null),size:"small",children:n(Vt,{fontSize:"small"})}),n(je,{edge:"end","aria-label":"delete",onClick:()=>K(m.id),disabled:I===m.id,sx:{color:R===m.id?"error.main":"inherit"},children:I===m.id?n(xn,{size:18,thickness:5}):n(ti,{})})]}),children:n($r,{primary:n(G,{variant:"body2",sx:{fontWeight:700},children:ri(m.createdAt,r)}),secondary:n(G,{variant:"body2",color:"text.primary",sx:{whiteSpace:"pre-wrap"},children:m.content})})}),n(Pt,{component:"li"})]},m.id))})]})]})})]})}const vo=365,si=5*60*1e3,So=10*60*1e3,wo=e=>{const{year:t,month:o,day:r}=en(e),i=st(e,t,o,r),l=st(e,t,o,r,{endOfDay:!0});return{startDate:i,endDate:l}},ii=e=>{const{year:t,month:o,day:r,dayOfWeek:i}=en(e),l=r-i,c=r+(6-i),d=st(e,t,o,l),a=st(e,t,o,c,{endOfDay:!0});return{startDate:d,endDate:a}},ht=e=>e?e instanceof Date?e:new Date(e):null;function li({open:e,onClose:t,autoScrollRequest:o=null,onOpenAuth:r,onOpenSettings:i}){const l=Tn(),{user:c}=on(),{selectedTimezone:d,eventFilters:a,newsSource:p,updateNewsSource:u,updateEventFilters:M}=Dn(),{favoritesLoading:D,isFavorite:T,toggleFavorite:E,isFavoritePending:I}=Vo(),{notesError:$,hasNotes:R,getNotesForEvent:Y,ensureNotesStream:b,stopNotesStream:P,addNote:k,removeNote:w,isEventNotesLoading:K}=Ko(),[m,ne]=s.useState(()=>({startDate:ht(a.startDate),endDate:ht(a.endDate),impacts:a.impacts||[],currencies:a.currencies||[],favoritesOnly:a.favoritesOnly||!1,searchQuery:a.searchQuery||""})),[F,X]=s.useState([]),[C,z]=s.useState([]),[O,te]=s.useState(!1),[f,Q]=s.useState(null),[S,J]=s.useState(null),[ae,A]=s.useState(!1),[re,ve]=s.useState(!1),[Se,Z]=s.useState(!1),[q,fe]=s.useState(!1),[de,j]=s.useState(null),[_,be]=s.useState(0),[he,ie]=s.useState(null),[ke,Ee]=s.useState(0),pe=s.useRef(m),Pe=s.useRef(!1),B=s.useCallback(async W=>{const U=await E(W);U!=null&&U.requiresAuth&&r&&r()},[E,r]),ye=s.useCallback(W=>{const{key:U,requiresAuth:me}=b(W);if(me&&r){t(),r();return}U&&J({event:W,key:U})},[b,t,r]),se=s.useCallback(()=>{S!=null&&S.event&&P(S.event),J(null)},[S,P]),Re=s.useCallback(async W=>{if(!(S!=null&&S.event))return{success:!1};const U=await k(S.event,W);return U!=null&&U.requiresAuth&&r&&(t(),r()),U},[k,S,t,r]),Ie=s.useCallback(async W=>{if(!(S!=null&&S.event))return{success:!1};const U=await w(S.event,W);return U!=null&&U.requiresAuth&&r&&(t(),r()),U},[S,t,r,w]),Fe=s.useRef(0),we=s.useMemo(()=>wo(d),[d]);s.useMemo(()=>ii(d),[d]);const v=s.useMemo(()=>{const W=ht(m.startDate),U=ht(m.endDate);return{...m,startDate:W,endDate:U}},[m]),L=s.useMemo(()=>{let W=F;if(m.searchQuery&&m.searchQuery.trim()){const U=m.searchQuery.toLowerCase().trim();W=W.filter(me=>!!((me.name||me.Name||me.title||me.Title||"").toLowerCase().includes(U)||(me.currency||me.Currency||"").toLowerCase().includes(U)||(me.description||me.Description||me.summary||me.Summary||"").toLowerCase().includes(U)))}return m.favoritesOnly&&(W=W.filter(U=>T(U))),W},[F,m.favoritesOnly,m.searchQuery,T]),H=s.useCallback(async(W=null)=>{const U=W?{...W}:{...v},me=ht(U.startDate),De=ht(U.endDate),et=U.searchQuery||"";if(!me||!De){Q("Please select a date range to view events.");return}if(Math.ceil((De-me)/(1e3*60*60*24))>vo){Q(`Date range cannot exceed ${vo} days.`);return}te(!0),Q(null);try{const Xe=await Wn(me,De,{source:p,impacts:U.impacts||[],currencies:U.currencies||[]});if(Xe.success){const Ue=Bn(Xe.data);X(Ue),ie(new Date);let ze=Ue;if(et&&et.trim()){const rt=et.toLowerCase().trim();ze=ze.filter(Ke=>!!((Ke.name||Ke.Name||Ke.title||Ke.Title||"").toLowerCase().includes(rt)||(Ke.currency||Ke.Currency||"").toLowerCase().includes(rt)||(Ke.description||Ke.Description||Ke.summary||Ke.Summary||"").toLowerCase().includes(rt)))}U.favoritesOnly&&(ze=ze.filter(rt=>T(rt))),be(ze.length)}else X([]),Q(Xe.error||"Failed to load events.")}catch(Xe){X([]),Q(Xe.message||"Unexpected error while loading events.")}finally{te(!1)}},[v,T,p]),oe=s.useCallback(async()=>{const{year:W,month:U,day:me}=en(d),De=st(d,W,U,me),et=st(d,W,U,me+7,{endOfDay:!0});try{const Ve=await Wn(De,et,{source:p,impacts:[],currencies:[]});if(Ve.success){const Xe=Bn(Ve.data);z(Xe)}}catch(Ve){console.warn("Failed to fetch context events for NEXT detection:",Ve)}},[p,d]);s.useEffect(()=>{m.favoritesOnly&&be(L.length)},[L,m.favoritesOnly]),s.useEffect(()=>{!c&&S&&J(null)},[S,c]);const ue=s.useCallback(W=>{const U=pe.current||m,me={...U,...W,searchQuery:W.searchQuery!==void 0?W.searchQuery:U.searchQuery||""},De=ht(me.startDate)||ht(U==null?void 0:U.startDate),et=ht(me.endDate)||ht(U==null?void 0:U.endDate),Ve=De||we.startDate,Xe=et||we.endDate,Ue={...me,startDate:Ve,endDate:Xe};pe.current=Ue,ne(Ue),M(Ue),H(Ue),oe()},[oe,H,m,we.endDate,we.startDate,M]),x=s.useCallback(W=>{ne(U=>({...U,...W}))},[]),V=s.useCallback(W=>{ue(W),Ee(U=>U+1)},[ue]);s.useEffect(()=>{pe.current=m},[m]),s.useEffect(()=>{const W={current:null},U=()=>{const{year:De,month:et,day:Ve}=en(d),Xe=`${De}-${et}-${Ve}`;if(W.current===Xe)return;W.current=Xe;const Ue=wo(d),ze=pe.current||{};if(!(ze.startDate&&ze.endDate&&Math.abs(new Date(ze.endDate).getTime()-new Date(ze.startDate).getTime())<864e5))return;const Ke=ze.startDate&&Ue.startDate&&new Date(ze.startDate).getTime()===new Date(Ue.startDate).getTime(),zt=ze.endDate&&Ue.endDate&&new Date(ze.endDate).getTime()===new Date(Ue.endDate).getTime();Ke&&zt||(ue({...ze,startDate:Ue.startDate,endDate:Ue.endDate}),Ee(Ot=>Ot+1))};U();const me=setInterval(U,6e4);return()=>clearInterval(me)},[ue,d]);const le=s.useCallback(async()=>{if(!(Se||Pe.current)){Z(!0),j(null);try{await oo(p);const W={...we,impacts:[],currencies:[],favoritesOnly:!1,searchQuery:""};ue(W),j(`Events refreshed from ${p}.`),setTimeout(()=>j(null),3e3)}catch{j("Failed to refresh events.")}finally{Z(!1)}}},[ue,p,we]),Ce=s.useCallback(async()=>{if(!(Se||Pe.current)){Pe.current=!0;try{await oo(p),ue({...pe.current||m,...we})}catch{}finally{Pe.current=!1}}},[ue,m,p,we]);s.useEffect(()=>{if(!e)return;const W=setInterval(()=>{const U=he?new Date(he).getTime():0,me=Date.now(),De=!U||me-U>=So;(typeof document>"u"?!0:!document.hidden)&&De&&Ce()},si);return()=>clearInterval(W)},[he,e,Ce]),s.useEffect(()=>{if(typeof document>"u")return;const W=()=>{if(document.hidden||!e)return;const U=he?new Date(he).getTime():0,me=Date.now();(!U||me-U>=So)&&Ce()};return document.addEventListener("visibilitychange",W),()=>document.removeEventListener("visibilitychange",W)},[he,e,Ce]);const Ne=s.useCallback(async()=>{if(!(ae||!window.confirm("Sync this week from NFS now? This may take a few seconds."))){A(!0),j(null);try{const U=await xr();U.success?(j("Synced NFS weekly schedule."),H(),oe()):j(U.error||"Failed to sync NFS week.")}catch{j("Failed to sync NFS week.")}finally{setTimeout(()=>j(null),4e3),A(!1)}}},[H,ae]),Je=s.useCallback(async()=>{if(!(re||!window.confirm("Sync today's actuals from JBlanked (all sources)? This may take a few seconds."))){ve(!0),j(null);try{const U=await vr();U.success?(j("Synced today's actuals from JBlanked."),H(),oe()):j(U.error||"Failed to sync actuals.")}catch{j("Failed to sync actuals.")}finally{setTimeout(()=>j(null),4e3),ve(!1)}}},[H,oe,re]),_e=s.useCallback(W=>{u(W),j(`Switched to ${W.toUpperCase()}.`),H(),oe(),setTimeout(()=>j(null),2500)},[oe,H,u]);s.useEffect(()=>{if(!m.startDate||!m.endDate){const W={...m,...we};ne(W),M(W),H(W),oe()}else H(),oe()},[p,d,we.startDate,we.endDate]),s.useEffect(()=>{e&&c&&(Fe.current+=1,Ee(W=>W+1))},[e,c]),s.useEffect(()=>{o&&Ee(W=>W+1)},[o]);const Ge=q?"background.default":"background.paper",wt="text.primary",bt=q?"Events Table":"Events Timeline",pt=q?"Table":"Timeline",at=s.useCallback(()=>{i&&i()},[i]),Te={enter:l.transitions.easing.easeOut,exit:l.transitions.easing.sharp};return n(Lo,{in:e,direction:"left",timeout:{enter:320,exit:260},easing:Te,mountOnEnter:!0,unmountOnExit:!0,children:h(Qe,{elevation:q?0:8,sx:{position:"fixed",right:0,top:0,left:q?0:"auto",height:"var(--t2t-vv-height, 100dvh)",width:q?"100%":{xs:"100%",sm:"100%",md:520,lg:560},display:"flex",flexDirection:"column",zIndex:1300,overflow:"hidden",bgcolor:Ge,color:wt,borderRadius:q?0:{xs:0,sm:"16px 0 0 16px"},boxShadow:q?"none":void 0,transition:l.transitions.create(["transform","opacity"],{duration:260,easing:Te.enter})},children:[h(N,{sx:{px:{xs:1.5,sm:1.75},pb:{xs:1.5,sm:1.75},pt:W=>`calc(${W.spacing(1.5)} + var(--t2t-safe-top, 0px))`,borderBottom:"1px solid",borderColor:"primary.dark",display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},justifyContent:"space-between",gap:{xs:1,sm:0},bgcolor:"primary.main",position:q?"sticky":"relative",top:0,zIndex:1400},children:[h(it,{direction:"row",spacing:.75,alignItems:"center",sx:{order:{xs:1,sm:2},width:"100%",justifyContent:{xs:"flex-end",sm:"flex-end"},flexWrap:"wrap",gap:.75,pr:0},children:[n(N,{sx:{display:{xs:"grid",sm:"none"},width:36,height:36,borderRadius:"50%",bgcolor:lt(l.palette.common.white,.18),placeItems:"center"},children:n(xo,{sx:{fontSize:20,color:"primary.contrastText"}})}),c&&n(yt,{title:q?"Switch to Timeline view":"Switch to Table view",children:n("span",{children:n(je,{onClick:()=>fe(W=>!W),sx:{color:"primary.contrastText"},size:"small",children:q?n(Sr,{}):n(wr,{})})})}),c&&n(yt,{title:"Sync week (NFS)",children:n("span",{children:n(je,{onClick:Ne,disabled:ae,sx:{color:"primary.contrastText"},size:"small",children:n(Zs,{sx:{animation:ae?"spin 1s linear infinite":"none","@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}})})})}),c&&n(yt,{title:"Sync today's actuals (JBlanked)",children:n("span",{children:n(je,{onClick:Je,disabled:re,sx:{color:"primary.contrastText"},size:"small",children:n(Js,{sx:{animation:re?"spin 1s linear infinite":"none","@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}})})})}),c&&n(yt,{title:"Refresh events",children:n("span",{children:n(je,{onClick:le,disabled:Se,sx:{color:"primary.contrastText"},size:"small",children:n(kr,{sx:{animation:Se?"spin 1s linear infinite":"none","@keyframes spin":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}})})})}),n(yt,{title:"Open settings",children:n("span",{children:n(je,{onClick:at,sx:{color:"primary.contrastText"},size:"small",children:n(ei,{})})})}),n(yt,{title:"Close events",children:n("span",{children:n(je,{onClick:t,sx:{color:"primary.contrastText"},size:"small",children:n(Vt,{})})})})]}),h(N,{sx:{order:{xs:2,sm:1},width:"100%",mt:{xs:.5,sm:0},display:"flex",alignItems:"center",gap:1},children:[n(N,{sx:{display:{xs:"none",sm:"grid"},width:36,height:36,borderRadius:"50%",bgcolor:lt(l.palette.common.white,.18),placeItems:"center"},children:n(xo,{sx:{fontSize:20,color:"primary.contrastText"}})}),h(N,{children:[n(G,{variant:"subtitle2",sx:{textTransform:"uppercase",letterSpacing:1,color:lt(l.palette.primary.contrastText,.8)},children:"Economic Calendar"}),n(G,{variant:"h6",sx:{fontWeight:800,color:"primary.contrastText"},children:bt})]})]})]}),c&&de&&n(N,{sx:{px:{xs:1.5,sm:2},py:1,bgcolor:"background.paper"},children:n(ut,{severity:de.includes("Failed")?"error":"success",sx:{py:.5},children:de})}),h(N,{sx:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column",bgcolor:"background.default"},children:[!c&&n(N,{sx:{p:{xs:2.5,sm:3},overflow:"auto"},children:h(ut,{severity:"info",sx:{"& .MuiAlert-message":{width:"100%"}},children:[n(Cr,{sx:{fontWeight:800,fontSize:"1.05rem"},children:"ðŸ”’ Authentication Required"}),n(G,{variant:"body1",sx:{mb:1.5},children:"Create a free account to unlock the live economic calendar."}),n(G,{variant:"body2",color:"text.secondary",children:"- Real-time economic events"}),n(G,{variant:"body2",color:"text.secondary",children:"- Impact and currency filters"}),n(G,{variant:"body2",color:"text.secondary",sx:{mb:1.5},children:"- Cloud sync across devices"}),n(Le,{variant:"contained",onClick:()=>{t(),r&&r()},sx:{textTransform:"none",fontWeight:700},children:"Sign Up / Log In"})]})}),c&&h(N,{sx:{flex:1,display:"flex",flexDirection:"column",gap:1.25,overflow:"hidden",p:q?{xs:1.5,sm:2}:{xs:1.25,sm:1.75}},children:[n(Qe,{elevation:0,sx:{border:"1px solid",borderColor:"divider",bgcolor:"background.paper",color:"text.primary",borderRadius:2,flexShrink:0,overflow:"hidden"},children:n(Ir,{filters:v,onFiltersChange:x,onApply:V,loading:O,timezone:d,newsSource:p,actionOffset:0})}),h(Qe,{elevation:0,sx:{border:"1px solid",borderColor:"divider",bgcolor:"background.paper",color:"text.primary",flex:1,display:"flex",flexDirection:"column",overflow:"hidden",borderRadius:2,boxShadow:"none"},children:[h(N,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:{xs:1.5,sm:2},py:1,borderBottom:"1px solid",borderColor:"divider",gap:1,flexWrap:"wrap"},children:[h(N,{sx:{display:"flex",flexDirection:"column",gap:.25,minWidth:0},children:[n(G,{variant:"subtitle2",sx:{fontWeight:800},children:pt}),h(G,{variant:"caption",sx:{color:"text.secondary"},children:[_.toLocaleString()," events â€¢ Updated ",he?he.toLocaleTimeString():"â€”"]})]}),n(it,{direction:"row",spacing:1,alignItems:"center",children:n(oi,{value:p,onChange:_e})})]}),n(N,{sx:{flex:1,minHeight:0,overflow:"hidden"},children:q?n(Tr,{events:L,contextEvents:C,loading:O,error:f,timezone:d,onRefresh:le,autoScrollToNextKey:o||ke,isFavoriteEvent:T,onToggleFavorite:B,isFavoritePending:I,favoritesLoading:D,hasEventNotes:R,onOpenNotes:ye,isEventNotesLoading:K}):n(Mr,{events:L,contextEvents:C,loading:O,timezone:d,onVisibleCountChange:be,autoScrollToNextKey:o||ke,searchQuery:m.searchQuery,isFavoriteEvent:T,onToggleFavorite:B,isFavoritePending:I,favoritesLoading:D,hasEventNotes:R,onOpenNotes:ye,isEventNotesLoading:K})}),!q&&f&&n(N,{sx:{borderTop:"1px solid",borderColor:lt("#1e293b",.6),px:1.5,py:1},children:n(ut,{severity:"error",sx:{my:0},children:f})})]})]})]}),n(ai,{open:!!S,onClose:se,event:(S==null?void 0:S.event)||null,timezone:d,notes:S?Y(S.event):[],loading:S?K(S.event):!1,onAddNote:Re,onRemoveNote:Ie,error:$})]})})}function mi(){const{isLoading:e,clockStyle:t,canvasSize:o,clockSize:r,sessions:i,selectedTimezone:l,updateClockStyle:c,updateCanvasSize:d,updateClockSize:a,updateSessions:p,backgroundColor:u,updateBackgroundColor:M,backgroundBasedOnSession:D,toggleBackgroundBasedOnSession:T,showHandClock:E,showDigitalClock:I,showSessionLabel:$,toggleShowHandClock:R,toggleShowDigitalClock:Y,toggleShowSessionLabel:b,showTimeToEnd:P,showTimeToStart:k,toggleShowTimeToEnd:w,toggleShowTimeToStart:K,showSessionNamesInCanvas:m,showEventsOnCanvas:ne,eventFilters:F,newsSource:X}=Dn(),{currentTime:C,activeSession:z,timeToEnd:O,nextSession:te,timeToStart:f}=ds(l,i),[Q,S]=s.useState(!1),[J,ae]=s.useState(!1),[A,re]=s.useState(r),[ve,Se]=s.useState(!1),Z=s.useRef(null),{isFullscreen:q}=Bo(Z),[fe,de]=s.useState(null),j=s.useRef({hour:0,minute:0,second:0}),[_,be]=s.useState(E&&ne),he=B=>{ae(!0),B!=null&&B.id&&de({eventId:B.id,ts:Date.now(),source:"canvas"})};s.useEffect(()=>{const B=()=>{const ye=window.innerHeight,se=window.innerWidth,Re=48,Ie=375,Fe=I?.133:0,we=$?.213:0,v=1+Fe+we,L=ye-Re-10;let H=Math.floor(L/v*(o/100));H=Math.max(150,H);const oe=se-60;H=Math.min(H,oe);const ue=I?Math.round(60*(H/Ie)):0,x=$?Math.round(100*(H/Ie)):0,V=H+ue+x+Re+20;if(o===100&&V>ye){const le=ye/V;H=Math.floor(H*le*.98)}re(H),Se(!0)};return B(),window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[o,I,$]);const ie=D&&z?z.color:u,ke=Yn(ie)?"#fff":"#4B4B4B";s.useEffect(()=>{document.body.style.backgroundColor=ie},[ie]),s.useEffect(()=>{window.dispatchEvent(new Event("resize"))},[q]);const Ee=!ve,pe=e||_;s.useEffect(()=>{be(E&&ne)},[E,ne]);const Pe=()=>{ae(!1),de(null)};return h(ct,{children:[n(ur,{isLoading:pe,clockSize:A}),h("div",{className:"app-container",ref:Z,style:{maxWidth:A+200,backgroundColor:ie,opacity:pe?0:1,pointerEvents:pe?"none":"auto",transition:"opacity 0.6s ease"},children:[n(yt,{title:"Economic events",placement:"left",children:n(je,{onClick:()=>ae(!0),sx:{position:"fixed",bottom:"calc(12px + var(--t2t-safe-bottom, 0px))",right:"max(12px, env(safe-area-inset-right, 0px))",color:ke,zIndex:1100,"&:hover":{backgroundColor:"transparent",opacity:.8}},"aria-label":"Open economic events",children:n(cs,{sx:{fontSize:26}})})}),ne&&!Ee&&(F==null?void 0:F.startDate)&&(F==null?void 0:F.endDate)&&(()=>{const{year:B,month:ye,day:se,dayOfWeek:Re}=en(l),Ie=st(l,B,ye,se),Fe=st(l,B,ye,se,{endOfDay:!0}),we=new Date(F.startDate),v=new Date(F.endDate),L=we.getTime()===Ie.getTime()&&v.getTime()===Fe.getTime(),H=st(l,B,ye,se-Re),oe=st(l,B,ye,se+(6-Re),{endOfDay:!0}),ue=we.getTime()===H.getTime()&&v.getTime()===oe.getTime();if(L)return null;const x={weekday:"long",month:"short",day:"numeric",year:"numeric",timeZone:l},V={month:"short",day:"numeric",year:"numeric",timeZone:l};let le="";const Ce=st(l,B,ye,se-1),Ne=st(l,B,ye,se+1);if(ue){const Je=H.toLocaleDateString("en-US",V),_e=oe.toLocaleDateString("en-US",V);le=`Showing events for this week: ${Je} - ${_e}`}else if(we.getTime()===Ce.getTime())le=`Showing events from Yesterday: ${we.toLocaleDateString("en-US",x)}`;else if(we.getTime()===Ne.getTime())le=`Showing events for Tomorrow: ${we.toLocaleDateString("en-US",x)}`;else if(we.toDateString()===v.toDateString())le=`Showing events for ${we.toLocaleDateString("en-US",x)}`;else{const Je=we.toLocaleDateString("en-US",x),_e=v.toLocaleDateString("en-US",x);le=`Showing events: ${Je} - ${_e}`}return n(N,{onClick:()=>ae(!0),sx:{textAlign:"center",mt:{xs:1.5,sm:2},mb:{xs:.5,sm:.75},px:{xs:1.5,sm:2},py:{xs:.5,sm:.625},bgcolor:lt("#000",.04),borderRadius:1.5,maxWidth:{xs:"95%",sm:A},mx:"auto",cursor:"pointer",userSelect:"none",transition:"all 0.2s ease","&:hover":{bgcolor:lt("#000",.08),transform:"translateY(-1px)"}},children:n(G,{variant:"caption",sx:{fontWeight:600,color:"text.secondary",fontSize:{xs:"0.7rem",sm:"0.75rem"},lineHeight:1.4,display:"block"},children:le})})})(),h("div",{className:"clock-elements-container",children:[E&&n("div",{className:"hand-clock",style:{width:"100%",display:"flex",justifyContent:"center"},children:Ee?n("div",{style:{width:A,height:A}}):h("div",{className:"hand-clock-wrapper",style:{position:"relative",width:A,height:A},children:[n(hs,{size:A,time:C,sessions:i,handColor:ke,clockStyle:t,showSessionNamesInCanvas:m,activeSession:z,backgroundBasedOnSession:D,renderHandsInCanvas:!1,handAnglesRef:j}),n(As,{size:A,handAnglesRef:j,handColor:ke,time:C}),ne?n(Ds,{size:A,timezone:l,eventFilters:F,newsSource:X,onEventClick:he,onLoadingStateChange:E?be:void 0}):null]})}),I&&!Ee&&n(Es,{time:C,clockSize:A,textColor:ke}),$&&!Ee&&n(Ls,{activeSession:z,showTimeToEnd:P,timeToEnd:O,showTimeToStart:k,nextSession:te,timeToStart:f,clockSize:A})]}),n(Qs,{open:Q,onClose:()=>S(!1)}),n(li,{open:J,onClose:Pe,autoScrollRequest:fe,onOpenAuth:()=>S(!0),onOpenSettings:()=>S(!0)})]})]})}export{mi as default};
