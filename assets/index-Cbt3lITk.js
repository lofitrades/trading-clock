(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function _w(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var dm={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function vw(){if(Rv)return Oe;Rv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function I(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,G={};function j(O,J,he){this.props=O,this.context=J,this.refs=G,this.updater=he||M}j.prototype.isReactComponent={},j.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},j.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ne(){}ne.prototype=j.prototype;function Q(O,J,he){this.props=O,this.context=J,this.refs=G,this.updater=he||M}var ee=Q.prototype=new ne;ee.constructor=Q,H(ee,j.prototype),ee.isPureReactComponent=!0;var W=Array.isArray,$={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function R(O,J,he,ce,ue,ve){return he=ve.ref,{$$typeof:i,type:O,key:J,ref:he!==void 0?he:null,props:ve}}function S(O,J){return R(O.type,J,void 0,void 0,void 0,O.props)}function A(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function N(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(he){return J[he]})}var k=/\/+/g;function U(O,J){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):J.toString(36)}function D(){}function Je(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Qe(O,J,he,ce,ue){var ve=typeof O;(ve==="undefined"||ve==="boolean")&&(O=null);var be=!1;if(O===null)be=!0;else switch(ve){case"bigint":case"string":case"number":be=!0;break;case"object":switch(O.$$typeof){case i:case e:be=!0;break;case E:return be=O._init,Qe(be(O._payload),J,he,ce,ue)}}if(be)return ue=ue(O),be=ce===""?"."+U(O,0):ce,W(ue)?(he="",be!=null&&(he=be.replace(k,"$&/")+"/"),Qe(ue,J,he,"",function(de){return de})):ue!=null&&(A(ue)&&(ue=S(ue,he+(ue.key==null||O&&O.key===ue.key?"":(""+ue.key).replace(k,"$&/")+"/")+be)),J.push(ue)),1;be=0;var et=ce===""?".":ce+":";if(W(O))for(var ke=0;ke<O.length;ke++)ce=O[ke],ve=et+U(ce,ke),be+=Qe(ce,J,he,ve,ue);else if(ke=I(O),typeof ke=="function")for(O=ke.call(O),ke=0;!(ce=O.next()).done;)ce=ce.value,ve=et+U(ce,ke++),be+=Qe(ce,J,he,ve,ue);else if(ve==="object"){if(typeof O.then=="function")return Qe(Je(O),J,he,ce,ue);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return be}function le(O,J,he){if(O==null)return O;var ce=[],ue=0;return Qe(O,ce,"","",function(ve){return J.call(he,ve,ue++)}),ce}function ae(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(he){(O._status===0||O._status===-1)&&(O._status=1,O._result=he)},function(he){(O._status===0||O._status===-1)&&(O._status=2,O._result=he)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var se=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Te(){}return Oe.Children={map:le,forEach:function(O,J,he){le(O,function(){J.apply(this,arguments)},he)},count:function(O){var J=0;return le(O,function(){J++}),J},toArray:function(O){return le(O,function(J){return J})||[]},only:function(O){if(!A(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Oe.Component=j,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=Q,Oe.StrictMode=s,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Oe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Oe.cache=function(O){return function(){return O.apply(null,arguments)}},Oe.cloneElement=function(O,J,he){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ce=H({},O.props),ue=O.key,ve=void 0;if(J!=null)for(be in J.ref!==void 0&&(ve=void 0),J.key!==void 0&&(ue=""+J.key),J)!ie.call(J,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&J.ref===void 0||(ce[be]=J[be]);var be=arguments.length-2;if(be===1)ce.children=he;else if(1<be){for(var et=Array(be),ke=0;ke<be;ke++)et[ke]=arguments[ke+2];ce.children=et}return R(O.type,ue,void 0,void 0,ve,ce)},Oe.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Oe.createElement=function(O,J,he){var ce,ue={},ve=null;if(J!=null)for(ce in J.key!==void 0&&(ve=""+J.key),J)ie.call(J,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ue[ce]=J[ce]);var be=arguments.length-2;if(be===1)ue.children=he;else if(1<be){for(var et=Array(be),ke=0;ke<be;ke++)et[ke]=arguments[ke+2];ue.children=et}if(O&&O.defaultProps)for(ce in be=O.defaultProps,be)ue[ce]===void 0&&(ue[ce]=be[ce]);return R(O,ve,void 0,void 0,null,ue)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(O){return{$$typeof:m,render:O}},Oe.isValidElement=A,Oe.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ae}},Oe.memo=function(O,J){return{$$typeof:y,type:O,compare:J===void 0?null:J}},Oe.startTransition=function(O){var J=$.T,he={};$.T=he;try{var ce=O(),ue=$.S;ue!==null&&ue(he,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Te,se)}catch(ve){se(ve)}finally{$.T=J}},Oe.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Oe.use=function(O){return $.H.use(O)},Oe.useActionState=function(O,J,he){return $.H.useActionState(O,J,he)},Oe.useCallback=function(O,J){return $.H.useCallback(O,J)},Oe.useContext=function(O){return $.H.useContext(O)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(O,J){return $.H.useDeferredValue(O,J)},Oe.useEffect=function(O,J){return $.H.useEffect(O,J)},Oe.useId=function(){return $.H.useId()},Oe.useImperativeHandle=function(O,J,he){return $.H.useImperativeHandle(O,J,he)},Oe.useInsertionEffect=function(O,J){return $.H.useInsertionEffect(O,J)},Oe.useLayoutEffect=function(O,J){return $.H.useLayoutEffect(O,J)},Oe.useMemo=function(O,J){return $.H.useMemo(O,J)},Oe.useOptimistic=function(O,J){return $.H.useOptimistic(O,J)},Oe.useReducer=function(O,J,he){return $.H.useReducer(O,J,he)},Oe.useRef=function(O){return $.H.useRef(O)},Oe.useState=function(O){return $.H.useState(O)},Oe.useSyncExternalStore=function(O,J,he){return $.H.useSyncExternalStore(O,J,he)},Oe.useTransition=function(){return $.H.useTransition()},Oe.version="19.0.0",Oe}var Cv;function pp(){return Cv||(Cv=1,dm.exports=vw()),dm.exports}var pe=pp();const ra=_w(pe);var mm={exports:{}},jl={},pm={exports:{}},gm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function Ew(){return Iv||(Iv=1,function(i){function e(le,ae){var se=le.length;le.push(ae);e:for(;0<se;){var Te=se-1>>>1,O=le[Te];if(0<o(O,ae))le[Te]=ae,le[se]=O,se=Te;else break e}}function n(le){return le.length===0?null:le[0]}function s(le){if(le.length===0)return null;var ae=le[0],se=le.pop();if(se!==ae){le[0]=se;e:for(var Te=0,O=le.length,J=O>>>1;Te<J;){var he=2*(Te+1)-1,ce=le[he],ue=he+1,ve=le[ue];if(0>o(ce,se))ue<O&&0>o(ve,ce)?(le[Te]=ve,le[ue]=se,Te=ue):(le[Te]=ce,le[he]=se,Te=he);else if(ue<O&&0>o(ve,se))le[Te]=ve,le[ue]=se,Te=ue;else break e}}return ae}function o(le,ae){var se=le.sortIndex-ae.sortIndex;return se!==0?se:le.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,w=null,I=3,M=!1,H=!1,G=!1,j=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ee(le){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=le)s(y),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(y)}}function W(le){if(G=!1,ee(le),!H)if(n(p)!==null)H=!0,Je();else{var ae=n(y);ae!==null&&Qe(W,ae.startTime-le)}}var $=!1,ie=-1,R=5,S=-1;function A(){return!(i.unstable_now()-S<R)}function N(){if($){var le=i.unstable_now();S=le;var ae=!0;try{e:{H=!1,G&&(G=!1,ne(ie),ie=-1),M=!0;var se=I;try{t:{for(ee(le),w=n(p);w!==null&&!(w.expirationTime>le&&A());){var Te=w.callback;if(typeof Te=="function"){w.callback=null,I=w.priorityLevel;var O=Te(w.expirationTime<=le);if(le=i.unstable_now(),typeof O=="function"){w.callback=O,ee(le),ae=!0;break t}w===n(p)&&s(p),ee(le)}else s(p);w=n(p)}if(w!==null)ae=!0;else{var J=n(y);J!==null&&Qe(W,J.startTime-le),ae=!1}}break e}finally{w=null,I=se,M=!1}ae=void 0}}finally{ae?k():$=!1}}}var k;if(typeof Q=="function")k=function(){Q(N)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,D=U.port2;U.port1.onmessage=N,k=function(){D.postMessage(null)}}else k=function(){j(N,0)};function Je(){$||($=!0,k())}function Qe(le,ae){ie=j(function(){le(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(le){le.callback=null},i.unstable_continueExecution=function(){H||M||(H=!0,Je())},i.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<le?Math.floor(1e3/le):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_getFirstCallbackNode=function(){return n(p)},i.unstable_next=function(le){switch(I){case 1:case 2:case 3:var ae=3;break;default:ae=I}var se=I;I=ae;try{return le()}finally{I=se}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(le,ae){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var se=I;I=le;try{return ae()}finally{I=se}},i.unstable_scheduleCallback=function(le,ae,se){var Te=i.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Te+se:Te):se=Te,le){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=se+O,le={id:E++,callback:ae,priorityLevel:le,startTime:se,expirationTime:O,sortIndex:-1},se>Te?(le.sortIndex=se,e(y,le),n(p)===null&&le===n(y)&&(G?(ne(ie),ie=-1):G=!0,Qe(W,se-Te))):(le.sortIndex=O,e(p,le),H||M||(H=!0,Je())),le},i.unstable_shouldYield=A,i.unstable_wrapCallback=function(le){var ae=I;return function(){var se=I;I=ae;try{return le.apply(this,arguments)}finally{I=se}}}}(gm)),gm}var Nv;function Tw(){return Nv||(Nv=1,pm.exports=Ew()),pm.exports}var ym={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function bw(){if(Dv)return tn;Dv=1;var i=pp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:y,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},tn.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},tn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},tn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:I,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:I,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},tn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},tn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},tn.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},tn.requestFormReset=function(p){s.d.r(p)},tn.unstable_batchedUpdates=function(p,y){return p(y)},tn.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},tn.useFormStatus=function(){return f.H.useHostTransitionStatus()},tn.version="19.0.0",tn}var Ov;function Sw(){if(Ov)return ym.exports;Ov=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ym.exports=bw(),ym.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function Aw(){if(kv)return jl;kv=1;var i=Tw(),e=pp(),n=Sw();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),M=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),W=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function ie(t){return t===null||typeof t!="object"?null:(t=$&&t[$]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function S(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case G:return"Suspense";case j:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case M:return(t.displayName||"Context")+".Provider";case I:return(t._context.displayName||"Context")+".Consumer";case H:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ne:return r=t.displayName||null,r!==null?r:S(t.type)||"Memo";case Q:r=t._payload,t=t._init;try{return S(t(r))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,k,U;function D(t){if(k===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);k=r&&r[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+t+U}var Je=!1;function Qe(t,r){if(!t||Je)return"";Je=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var q=K}Reflect.construct(t,[],te)}else{try{te.call()}catch(K){q=K}t.call(te.prototype)}}else{try{throw Error()}catch(K){q=K}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&q&&typeof K.stack=="string")return[K.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var C=v.split(`
`),V=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===V.length)for(l=C.length-1,h=V.length-1;1<=l&&0<=h&&C[l]!==V[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==V[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==V[h]){var Y=`
`+C[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Je=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?D(a):""}function le(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=Qe(t.type,!1),t;case 11:return t=Qe(t.type.render,!1),t;case 1:return t=Qe(t.type,!0),t;default:return""}}function ae(t){try{var r="";do r+=le(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function se(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function Te(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function O(t){if(se(t)!==t)throw Error(s(188))}function J(t){var r=t.alternate;if(!r){if(r=se(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return O(h),t;if(d===l)return O(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function he(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=he(t),r!==null)return r;t=t.sibling}return null}var ce=Array.isArray,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},be=[],et=-1;function ke(t){return{current:t}}function de(t){0>et||(t.current=be[et],be[et]=null,et--)}function _e(t,r){et++,be[et]=t.current,t.current=r}var Ue=ke(null),vt=ke(null),In=ke(null),Er=ke(null);function Tr(t,r){switch(_e(In,r),_e(vt,t),_e(Ue,null),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?tv(r):0;break;default:if(t=t===8?r.parentNode:r,r=t.tagName,t=t.namespaceURI)t=tv(t),r=nv(t,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}de(Ue),_e(Ue,r)}function Pi(){de(Ue),de(vt),de(In)}function xo(t){t.memoizedState!==null&&_e(Er,t);var r=Ue.current,a=nv(r,t.type);r!==a&&(_e(vt,t),_e(Ue,a))}function ga(t){vt.current===t&&(de(Ue),de(vt)),Er.current===t&&(de(Er),xl._currentValue=ve)}var ya=Object.prototype.hasOwnProperty,vs=i.unstable_scheduleCallback,_a=i.unstable_cancelCallback,pf=i.unstable_shouldYield,zo=i.unstable_requestPaint,dn=i.unstable_now,Iu=i.unstable_getCurrentPriorityLevel,It=i.unstable_ImmediatePriority,Lt=i.unstable_UserBlockingPriority,Vi=i.unstable_NormalPriority,Nu=i.unstable_LowPriority,Bo=i.unstable_IdlePriority,gf=i.log,Es=i.unstable_setDisableYieldValue,br=null,Jt=null;function Ho(t){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(br,t,void 0,(t.current.flags&128)===128)}catch{}}function ai(t){if(typeof gf=="function"&&Es(t),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(br,t)}catch{}}var on=Math.clz32?Math.clz32:Ou,qo=Math.log,Du=Math.LN2;function Ou(t){return t>>>=0,t===0?32:31-(qo(t)/Du|0)|0}var oi=128,Sr=4194304;function Qn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Nn(t,r){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=Qn(a):(d&=T,d!==0?l=Qn(d):t||(v=T&~v,v!==0&&(l=Qn(v))))):(T=a&~h,T!==0?l=Qn(T):d!==0?l=Qn(d):t||(v=a&~v,v!==0&&(l=Qn(v)))),l===0?0:r!==0&&r!==l&&!(r&h)&&(h=l&-l,v=r&-r,h>=v||h===32&&(v&4194176)!==0)?r:l}function Ar(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function va(t,r){switch(t){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jo(){var t=oi;return oi<<=1,!(oi&4194176)&&(oi=128),t}function wr(){var t=Sr;return Sr<<=1,!(Sr&62914560)&&(Sr=4194304),t}function Ea(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Et(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ku(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,V=t.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-on(a),te=1<<Y;T[Y]=0,C[Y]=-1;var q=V[Y];if(q!==null)for(V[Y]=null,Y=0;Y<q.length;Y++){var K=q[Y];K!==null&&(K.lane&=-536870913)}a&=~te}l!==0&&Rr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Rr(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-on(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function Cr(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-on(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function Mu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Pu(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:Ev(t.type))}function Ir(t,r){var a=ue.p;try{return ue.p=t,r()}finally{ue.p=a}}var li=Math.random().toString(36).slice(2),xt="__reactFiber$"+li,Nt="__reactProps$"+li,Ui="__reactContainer$"+li,Ts="__reactEvents$"+li,Ta="__reactListeners$"+li,ui="__reactHandles$"+li,Fo="__reactResources$"+li,Nr="__reactMarker$"+li;function bs(t){delete t[xt],delete t[Nt],delete t[Ts],delete t[Ta],delete t[ui]}function Xn(t){var r=t[xt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ui]||a[xt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=sv(t);t!==null;){if(a=t[xt])return a;t=sv(t)}return r}t=a,a=t.parentNode}return null}function Li(t){if(t=t[xt]||t[Ui]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Dr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Or(t){var r=t[Fo];return r||(r=t[Fo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ot(t){t[Nr]=!0}var Go=new Set,ba={};function vn(t,r){mn(t,r),mn(t+"Capture",r)}function mn(t,r){for(ba[t]=r,t=0;t<r.length;t++)Go.add(r[t])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ko={},Yo={};function Vu(t){return ya.call(Yo,t)?!0:ya.call(Ko,t)?!1:yf.test(t)?Yo[t]=!0:(Ko[t]=!0,!1)}function kr(t,r,a){if(Vu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Mr(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Dn(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uu(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _f(t){var r=Uu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ss(t){t._valueTracker||(t._valueTracker=_f(t))}function $o(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Uu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Sa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xi=/[\n"\\]/g;function ht(t){return t.replace(xi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Pr(t,r,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+ln(r)):t.value!==""+ln(r)&&(t.value=""+ln(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?Aa(t,v,ln(r)):a!=null?Aa(t,v,ln(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+ln(T):t.removeAttribute("name")}function As(t,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+ln(a):"",r=r!=null?""+ln(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Aa(t,r,a){r==="number"&&Sa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ke(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ln(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function ws(t,r,a){if(r!=null&&(r=""+ln(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+ln(a):""}function Vr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ce(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=ln(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function On(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var vf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qo(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||vf.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Lu(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Qo(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Qo(t,d,r[d])}function Xo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ci(t){return Tf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var kn=null;function wa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zi=null,Bi=null;function Hi(t){var r=Li(t);if(r&&(t=r.stateNode)){var a=t[Nt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Pr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ht(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[Nt]||null;if(!h)throw Error(s(90));Pr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&$o(l)}break e;case"textarea":ws(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ke(t,!!a.multiple,r,!1)}}}var Wo=!1;function xu(t,r,a){if(Wo)return t(r,a);Wo=!0;try{var l=t(r);return l}finally{if(Wo=!1,(zi!==null||Bi!==null)&&(Nc(),zi&&(r=zi,t=Bi,Bi=zi=null,Hi(r),t)))for(r=0;r<t.length;r++)Hi(t[r])}}function Rs(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Nt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Mn=!1;if(En)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{Mn=!1}var hi=null,Ur=null,qi=null;function Zo(){if(qi)return qi;var t,r=Ur,a=r.length,l,h="value"in hi?hi.value:hi.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return qi=h.slice(t,1<l?1-l:void 0)}function fi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function di(){return!0}function Jo(){return!1}function zt(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?di:Jo,this.isPropagationStopped=Jo,this}return N(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),r}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=zt(Xe),Is=N({},Xe,{view:0,detail:0}),zu=zt(Is),Ca,Ia,mi,Ns=N({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mi&&(mi&&t.type==="mousemove"?(Ca=t.screenX-mi.screenX,Ia=t.screenY-mi.screenY):Ia=Ca=0,mi=t),Ca)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),Pn=zt(Ns),Bu=N({},Ns,{dataTransfer:0}),bf=zt(Bu),Ds=N({},Is,{relatedTarget:0}),Na=zt(Ds),el=N({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),Da=zt(el),Hu=N({},Xe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Oa=zt(Hu),Sf=N({},Xe,{data:0}),tl=zt(Sf),Os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nl(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=ju[t])?!!r[t]:!1}function ks(){return nl}var Fu=N({},Is,{key:function(t){if(t.key){var r=Os[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=fi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?fi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ka=zt(Fu),Gu=N({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),il=zt(Gu),ji=N({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),Ku=zt(ji),Yu=N({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),$u=zt(Yu),Qu=N({},Ns,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ma=zt(Qu),un=N({},Xe,{newState:0,oldState:0}),Xu=zt(un),Wu=[9,13,27,32],pi=En&&"CompositionEvent"in window,c=null;En&&"documentMode"in document&&(c=document.documentMode);var g=En&&"TextEvent"in window&&!c,_=En&&(!pi||c&&8<c&&11>=c),b=" ",x=!1;function F(t,r){switch(t){case"keyup":return Wu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qe=!1;function Dt(t,r){switch(t){case"compositionend":return oe(r);case"keypress":return r.which!==32?null:(x=!0,b);case"textInput":return t=r.data,t===b&&x?null:t;default:return null}}function je(t,r){if(qe)return t==="compositionend"||!pi&&F(t,r)?(t=Zo(),qi=Ur=hi=null,qe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Bt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ot(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Bt[t.type]:r==="textarea"}function Fi(t,r,a,l){zi?Bi?Bi.push(l):Bi=[l]:zi=l,r=Pc(r,"onChange"),0<r.length&&(a=new Ra("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Kt=null,gi=null;function rl(t){X_(t,0)}function Zu(t){var r=Dr(t);if($o(r))return t}function wg(t,r){if(t==="change")return r}var Rg=!1;if(En){var Af;if(En){var wf="oninput"in document;if(!wf){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),wf=typeof Cg.oninput=="function"}Af=wf}else Af=!1;Rg=Af&&(!document.documentMode||9<document.documentMode)}function Ig(){Kt&&(Kt.detachEvent("onpropertychange",Ng),gi=Kt=null)}function Ng(t){if(t.propertyName==="value"&&Zu(gi)){var r=[];Fi(r,gi,t,wa(t)),xu(rl,r)}}function $S(t,r,a){t==="focusin"?(Ig(),Kt=r,gi=a,Kt.attachEvent("onpropertychange",Ng)):t==="focusout"&&Ig()}function QS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zu(gi)}function XS(t,r){if(t==="click")return Zu(r)}function WS(t,r){if(t==="input"||t==="change")return Zu(r)}function ZS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Tn=typeof Object.is=="function"?Object.is:ZS;function sl(t,r){if(Tn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ya.call(r,h)||!Tn(t[h],r[h]))return!1}return!0}function Dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Og(t,r){var a=Dg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Dg(a)}}function kg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?kg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Mg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Sa(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Sa(t.document)}return r}function Rf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function JS(t,r){var a=Mg(r);r=t.focusedElem;var l=t.selectionRange;if(a!==r&&r&&r.ownerDocument&&kg(r.ownerDocument.documentElement,r)){if(l!==null&&Rf(r)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(a,r.value.length);else if(a=(t=r.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=r.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=Og(r,d);var v=Og(r,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=r;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)a=t[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var eA=En&&"documentMode"in document&&11>=document.documentMode,Pa=null,Cf=null,al=null,If=!1;function Pg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;If||Pa==null||Pa!==Sa(l)||(l=Pa,"selectionStart"in l&&Rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&sl(al,l)||(al=l,l=Pc(Cf,"onSelect"),0<l.length&&(r=new Ra("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Pa)))}function Ms(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Va={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},Nf={},Vg={};En&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Ps(t){if(Nf[t])return Nf[t];if(!Va[t])return t;var r=Va[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Vg)return Nf[t]=r[a];return t}var Ug=Ps("animationend"),Lg=Ps("animationiteration"),xg=Ps("animationstart"),tA=Ps("transitionrun"),nA=Ps("transitionstart"),iA=Ps("transitioncancel"),zg=Ps("transitionend"),Bg=new Map,Hg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Wn(t,r){Bg.set(t,r),vn(r,[t])}var Vn=[],Ua=0,Df=0;function Ju(){for(var t=Ua,r=Df=Ua=0;r<t;){var a=Vn[r];Vn[r++]=null;var l=Vn[r];Vn[r++]=null;var h=Vn[r];Vn[r++]=null;var d=Vn[r];if(Vn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&qg(a,h,d)}}function ec(t,r,a,l){Vn[Ua++]=t,Vn[Ua++]=r,Vn[Ua++]=a,Vn[Ua++]=l,Df|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Of(t,r,a,l){return ec(t,r,a,l),tc(t)}function Lr(t,r){return ec(t,null,null,r),tc(t)}function qg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&r!==null&&t.tag===3&&(d=t.stateNode,h=31-on(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[r]:t.push(r),r.lane=a|536870912)}function tc(t){if(50<Ol)throw Ol=0,Ld=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var La={},jg=new WeakMap;function Un(t,r){if(typeof t=="object"&&t!==null){var a=jg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:ae(r)},jg.set(t,r),r)}return{value:t,source:r,stack:ae(r)}}var xa=[],za=0,nc=null,ic=0,Ln=[],xn=0,Vs=null,Gi=1,Ki="";function Us(t,r){xa[za++]=ic,xa[za++]=nc,nc=t,ic=r}function Fg(t,r,a){Ln[xn++]=Gi,Ln[xn++]=Ki,Ln[xn++]=Vs,Vs=t;var l=Gi;t=Ki;var h=32-on(l)-1;l&=~(1<<h),a+=1;var d=32-on(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Gi=1<<32-on(r)+h|a<<h|l,Ki=d+t}else Gi=1<<d|a<<h|l,Ki=t}function kf(t){t.return!==null&&(Us(t,1),Fg(t,1,0))}function Mf(t){for(;t===nc;)nc=xa[--za],xa[za]=null,ic=xa[--za],xa[za]=null;for(;t===Vs;)Vs=Ln[--xn],Ln[xn]=null,Ki=Ln[--xn],Ln[xn]=null,Gi=Ln[--xn],Ln[xn]=null}var cn=null,Yt=null,Ye=!1,Zn=null,yi=!1,Pf=Error(s(519));function Ls(t){var r=Error(s(418,""));throw ul(Un(r,t)),Pf}function Gg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[xt]=t,r[Nt]=l,a){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(a=0;a<Ml.length;a++)Be(Ml[a],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Be("invalid",r),As(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ss(r);break;case"select":Be("invalid",r);break;case"textarea":Be("invalid",r),Vr(r,l.value,l.defaultValue,l.children),Ss(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||ev(r.textContent,a)?(l.popover!=null&&(Be("beforetoggle",r),Be("toggle",r)),l.onScroll!=null&&Be("scroll",r),l.onScrollEnd!=null&&Be("scrollend",r),l.onClick!=null&&(r.onclick=Vc),r=!0):r=!1,r||Ls(t)}function Kg(t){for(cn=t.return;cn;)switch(cn.tag){case 3:case 27:yi=!0;return;case 5:case 13:yi=!1;return;default:cn=cn.return}}function ol(t){if(t!==cn)return!1;if(!Ye)return Kg(t),Ye=!0,!1;var r=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||em(t.type,t.memoizedProps)),a=!a),a&&(r=!0),r&&Yt&&Ls(t),Kg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){Yt=ei(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}Yt=null}}else Yt=cn?ei(t.stateNode.nextSibling):null;return!0}function ll(){Yt=cn=null,Ye=!1}function ul(t){Zn===null?Zn=[t]:Zn.push(t)}var cl=Error(s(460)),Yg=Error(s(474)),Vf={then:function(){}};function $g(t){return t=t.status,t==="fulfilled"||t==="rejected"}function rc(){}function Qg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(rc,rc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===cl?Error(s(483)):t;default:if(typeof r.status=="string")r.then(rc,rc);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===cl?Error(s(483)):t}throw hl=r,cl}}var hl=null;function Xg(){if(hl===null)throw Error(s(459));var t=hl;return hl=null,t}var Ba=null,fl=0;function sc(t){var r=fl;return fl+=1,Ba===null&&(Ba=[]),Qg(Ba,t,r)}function dl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function ac(t,r){throw r.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Wg(t){var r=t._init;return r(t._payload)}function Zg(t){function r(L,P){if(t){var B=L.deletions;B===null?(L.deletions=[P],L.flags|=16):B.push(P)}}function a(L,P){if(!t)return null;for(;P!==null;)r(L,P),P=P.sibling;return null}function l(L){for(var P=new Map;L!==null;)L.key!==null?P.set(L.key,L):P.set(L.index,L),L=L.sibling;return P}function h(L,P){return L=Qr(L,P),L.index=0,L.sibling=null,L}function d(L,P,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<P?(L.flags|=33554434,P):B):(L.flags|=33554434,P)):(L.flags|=1048576,P)}function v(L){return t&&L.alternate===null&&(L.flags|=33554434),L}function T(L,P,B,X){return P===null||P.tag!==6?(P=Nd(B,L.mode,X),P.return=L,P):(P=h(P,B),P.return=L,P)}function C(L,P,B,X){var ge=B.type;return ge===p?Y(L,P,B.props.children,X,B.key):P!==null&&(P.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Q&&Wg(ge)===P.type)?(P=h(P,B.props),dl(P,B),P.return=L,P):(P=Ac(B.type,B.key,B.props,null,L.mode,X),dl(P,B),P.return=L,P)}function V(L,P,B,X){return P===null||P.tag!==4||P.stateNode.containerInfo!==B.containerInfo||P.stateNode.implementation!==B.implementation?(P=Dd(B,L.mode,X),P.return=L,P):(P=h(P,B.children||[]),P.return=L,P)}function Y(L,P,B,X,ge){return P===null||P.tag!==7?(P=Ys(B,L.mode,X,ge),P.return=L,P):(P=h(P,B),P.return=L,P)}function te(L,P,B){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Nd(""+P,L.mode,B),P.return=L,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case f:return B=Ac(P.type,P.key,P.props,null,L.mode,B),dl(B,P),B.return=L,B;case m:return P=Dd(P,L.mode,B),P.return=L,P;case Q:var X=P._init;return P=X(P._payload),te(L,P,B)}if(ce(P)||ie(P))return P=Ys(P,L.mode,B,null),P.return=L,P;if(typeof P.then=="function")return te(L,sc(P),B);if(P.$$typeof===M)return te(L,Tc(L,P),B);ac(L,P)}return null}function q(L,P,B,X){var ge=P!==null?P.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ge!==null?null:T(L,P,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return B.key===ge?C(L,P,B,X):null;case m:return B.key===ge?V(L,P,B,X):null;case Q:return ge=B._init,B=ge(B._payload),q(L,P,B,X)}if(ce(B)||ie(B))return ge!==null?null:Y(L,P,B,X,null);if(typeof B.then=="function")return q(L,P,sc(B),X);if(B.$$typeof===M)return q(L,P,Tc(L,B),X);ac(L,B)}return null}function K(L,P,B,X,ge){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(B)||null,T(P,L,""+X,ge);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case f:return L=L.get(X.key===null?B:X.key)||null,C(P,L,X,ge);case m:return L=L.get(X.key===null?B:X.key)||null,V(P,L,X,ge);case Q:var Ve=X._init;return X=Ve(X._payload),K(L,P,B,X,ge)}if(ce(X)||ie(X))return L=L.get(B)||null,Y(P,L,X,ge,null);if(typeof X.then=="function")return K(L,P,B,sc(X),ge);if(X.$$typeof===M)return K(L,P,B,Tc(P,X),ge);ac(P,X)}return null}function ye(L,P,B,X){for(var ge=null,Ve=null,Ee=P,we=P=0,jt=null;Ee!==null&&we<B.length;we++){Ee.index>we?(jt=Ee,Ee=null):jt=Ee.sibling;var $e=q(L,Ee,B[we],X);if($e===null){Ee===null&&(Ee=jt);break}t&&Ee&&$e.alternate===null&&r(L,Ee),P=d($e,P,we),Ve===null?ge=$e:Ve.sibling=$e,Ve=$e,Ee=jt}if(we===B.length)return a(L,Ee),Ye&&Us(L,we),ge;if(Ee===null){for(;we<B.length;we++)Ee=te(L,B[we],X),Ee!==null&&(P=d(Ee,P,we),Ve===null?ge=Ee:Ve.sibling=Ee,Ve=Ee);return Ye&&Us(L,we),ge}for(Ee=l(Ee);we<B.length;we++)jt=K(Ee,L,we,B[we],X),jt!==null&&(t&&jt.alternate!==null&&Ee.delete(jt.key===null?we:jt.key),P=d(jt,P,we),Ve===null?ge=jt:Ve.sibling=jt,Ve=jt);return t&&Ee.forEach(function(ns){return r(L,ns)}),Ye&&Us(L,we),ge}function Ne(L,P,B,X){if(B==null)throw Error(s(151));for(var ge=null,Ve=null,Ee=P,we=P=0,jt=null,$e=B.next();Ee!==null&&!$e.done;we++,$e=B.next()){Ee.index>we?(jt=Ee,Ee=null):jt=Ee.sibling;var ns=q(L,Ee,$e.value,X);if(ns===null){Ee===null&&(Ee=jt);break}t&&Ee&&ns.alternate===null&&r(L,Ee),P=d(ns,P,we),Ve===null?ge=ns:Ve.sibling=ns,Ve=ns,Ee=jt}if($e.done)return a(L,Ee),Ye&&Us(L,we),ge;if(Ee===null){for(;!$e.done;we++,$e=B.next())$e=te(L,$e.value,X),$e!==null&&(P=d($e,P,we),Ve===null?ge=$e:Ve.sibling=$e,Ve=$e);return Ye&&Us(L,we),ge}for(Ee=l(Ee);!$e.done;we++,$e=B.next())$e=K(Ee,L,we,$e.value,X),$e!==null&&(t&&$e.alternate!==null&&Ee.delete($e.key===null?we:$e.key),P=d($e,P,we),Ve===null?ge=$e:Ve.sibling=$e,Ve=$e);return t&&Ee.forEach(function(yw){return r(L,yw)}),Ye&&Us(L,we),ge}function mt(L,P,B,X){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case f:e:{for(var ge=B.key;P!==null;){if(P.key===ge){if(ge=B.type,ge===p){if(P.tag===7){a(L,P.sibling),X=h(P,B.props.children),X.return=L,L=X;break e}}else if(P.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Q&&Wg(ge)===P.type){a(L,P.sibling),X=h(P,B.props),dl(X,B),X.return=L,L=X;break e}a(L,P);break}else r(L,P);P=P.sibling}B.type===p?(X=Ys(B.props.children,L.mode,X,B.key),X.return=L,L=X):(X=Ac(B.type,B.key,B.props,null,L.mode,X),dl(X,B),X.return=L,L=X)}return v(L);case m:e:{for(ge=B.key;P!==null;){if(P.key===ge)if(P.tag===4&&P.stateNode.containerInfo===B.containerInfo&&P.stateNode.implementation===B.implementation){a(L,P.sibling),X=h(P,B.children||[]),X.return=L,L=X;break e}else{a(L,P);break}else r(L,P);P=P.sibling}X=Dd(B,L.mode,X),X.return=L,L=X}return v(L);case Q:return ge=B._init,B=ge(B._payload),mt(L,P,B,X)}if(ce(B))return ye(L,P,B,X);if(ie(B)){if(ge=ie(B),typeof ge!="function")throw Error(s(150));return B=ge.call(B),Ne(L,P,B,X)}if(typeof B.then=="function")return mt(L,P,sc(B),X);if(B.$$typeof===M)return mt(L,P,Tc(L,B),X);ac(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,P!==null&&P.tag===6?(a(L,P.sibling),X=h(P,B),X.return=L,L=X):(a(L,P),X=Nd(B,L.mode,X),X.return=L,L=X),v(L)):a(L,P)}return function(L,P,B,X){try{fl=0;var ge=mt(L,P,B,X);return Ba=null,ge}catch(Ee){if(Ee===cl)throw Ee;var Ve=qn(29,Ee,null,L.mode);return Ve.lanes=X,Ve.return=L,Ve}finally{}}}var xs=Zg(!0),Jg=Zg(!1),Ha=ke(null),oc=ke(0);function ey(t,r){t=ir,_e(oc,t),_e(Ha,r),ir=t|r.baseLanes}function Uf(){_e(oc,ir),_e(Ha,Ha.current)}function Lf(){ir=oc.current,de(Ha),de(oc)}var zn=ke(null),_i=null;function xr(t){var r=t.alternate;_e(kt,kt.current&1),_e(zn,t),_i===null&&(r===null||Ha.current!==null||r.memoizedState!==null)&&(_i=t)}function ty(t){if(t.tag===22){if(_e(kt,kt.current),_e(zn,t),_i===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(_i=t)}}else zr()}function zr(){_e(kt,kt.current),_e(zn,zn.current)}function Yi(t){de(zn),_i===t&&(_i=null),de(kt)}var kt=ke(0);function lc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var rA=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},sA=i.unstable_scheduleCallback,aA=i.unstable_NormalPriority,Mt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xf(){return{controller:new rA,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&sA(aA,function(){t.controller.abort()})}var pl=null,zf=0,qa=0,ja=null;function oA(t,r){if(pl===null){var a=pl=[];zf=0,qa=Gd(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return zf++,r.then(ny,ny),r}function ny(){if(--zf===0&&pl!==null){ja!==null&&(ja.status="fulfilled");var t=pl;pl=null,qa=0,ja=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function lA(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var iy=A.S;A.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&oA(t,r),iy!==null&&iy(t,r)};var zs=ke(null);function Bf(){var t=zs.current;return t!==null?t:rt.pooledCache}function uc(t,r){r===null?_e(zs,zs.current):_e(zs,r.pool)}function ry(){var t=Bf();return t===null?null:{parent:Mt._currentValue,pool:t}}var Br=0,Pe=null,tt=null,St=null,cc=!1,Fa=!1,Bs=!1,hc=0,gl=0,Ga=null,uA=0;function Tt(){throw Error(s(321))}function Hf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Tn(t[a],r[a]))return!1;return!0}function qf(t,r,a,l,h,d){return Br=d,Pe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,A.H=t===null||t.memoizedState===null?Hs:Hr,Bs=!1,d=a(l,h),Bs=!1,Fa&&(d=ay(r,a,l,h)),sy(t),d}function sy(t){A.H=vi;var r=tt!==null&&tt.next!==null;if(Br=0,St=tt=Pe=null,cc=!1,gl=0,Ga=null,r)throw Error(s(300));t===null||Ht||(t=t.dependencies,t!==null&&Ec(t)&&(Ht=!0))}function ay(t,r,a,l){Pe=t;var h=0;do{if(Fa&&(Ga=null),gl=0,Fa=!1,25<=h)throw Error(s(301));if(h+=1,St=tt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}A.H=qs,d=r(a,l)}while(Fa);return d}function cA(){var t=A.H,r=t.useState()[0];return r=typeof r.then=="function"?yl(r):r,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Pe.flags|=1024),r}function jf(){var t=hc!==0;return hc=0,t}function Ff(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Gf(t){if(cc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}cc=!1}Br=0,St=tt=Pe=null,Fa=!1,gl=hc=0,Ga=null}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Pe.memoizedState=St=t:St=St.next=t,St}function At(){if(tt===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var r=St===null?Pe.memoizedState:St.next;if(r!==null)St=r,tt=t;else{if(t===null)throw Pe.alternate===null?Error(s(467)):Error(s(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},St===null?Pe.memoizedState=St=t:St=St.next=t}return St}var fc;fc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function yl(t){var r=gl;return gl+=1,Ga===null&&(Ga=[]),t=Qg(Ga,t,r),r=Pe,(St===null?r.memoizedState:St.next)===null&&(r=r.alternate,A.H=r===null||r.memoizedState===null?Hs:Hr),t}function dc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===M)return en(t)}throw Error(s(438,String(t)))}function Kf(t){var r=null,a=Pe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=fc(),Pe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=W;return r.index++,a}function $i(t,r){return typeof r=="function"?r(t):r}function mc(t){var r=At();return Yf(r,tt,t)}function Yf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=v=null,C=null,V=r,Y=!1;do{var te=V.lane&-536870913;if(te!==V.lane?(Fe&te)===te:(Br&te)===te){var q=V.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),te===qa&&(Y=!0);else if((Br&q)===q){V=V.next,q===qa&&(Y=!0);continue}else te={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},C===null?(T=C=te,v=d):C=C.next=te,Pe.lanes|=q,Xr|=q;te=V.action,Bs&&a(d,te),d=V.hasEagerState?V.eagerState:a(d,te)}else q={lane:te,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},C===null?(T=C=q,v=d):C=C.next=q,Pe.lanes|=te,Xr|=te;V=V.next}while(V!==null&&V!==r);if(C===null?v=d:C.next=T,!Tn(d,t.memoizedState)&&(Ht=!0,Y&&(a=ja,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function $f(t){var r=At(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);Tn(d,r.memoizedState)||(Ht=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function oy(t,r,a){var l=Pe,h=At(),d=Ye;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!Tn((tt||h).memoizedState,a);if(v&&(h.memoizedState=a,Ht=!0),h=h.queue,Wf(cy.bind(null,l,h,t),[t]),h.getSnapshot!==r||v||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Ka(9,uy.bind(null,l,h,a,r),{destroy:void 0},null),rt===null)throw Error(s(349));d||Br&60||ly(l,r,a)}return a}function ly(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Pe.updateQueue,r===null?(r=fc(),Pe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function uy(t,r,a,l){r.value=a,r.getSnapshot=l,hy(r)&&fy(t)}function cy(t,r,a){return a(function(){hy(r)&&fy(t)})}function hy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Tn(t,a)}catch{return!0}}function fy(t){var r=Lr(t,2);r!==null&&hn(r,t,2)}function Qf(t){var r=pn();if(typeof t=="function"){var a=t;if(t=a(),Bs){ai(!0);try{a()}finally{ai(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t},r}function dy(t,r,a,l){return t.baseState=a,Yf(t,tt,typeof l=="function"?l:$i)}function hA(t,r,a,l,h){if(yc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};A.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,my(r,d)):(d.next=a.next,r.pending=a.next=d)}}function my(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=A.T,v={};A.T=v;try{var T=a(h,l),C=A.S;C!==null&&C(v,T),py(t,r,T)}catch(V){Xf(t,r,V)}finally{A.T=d}}else try{d=a(h,l),py(t,r,d)}catch(V){Xf(t,r,V)}}function py(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){gy(t,r,l)},function(l){return Xf(t,r,l)}):gy(t,r,a)}function gy(t,r,a){r.status="fulfilled",r.value=a,yy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,my(t,a)))}function Xf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,yy(r),r=r.next;while(r!==l)}t.action=null}function yy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function _y(t,r){return r}function vy(t,r){if(Ye){var a=rt.formState;if(a!==null){e:{var l=Pe;if(Ye){if(Yt){t:{for(var h=Yt,d=yi;h.nodeType!==8;){if(!d){h=null;break t}if(h=ei(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Yt=ei(h.nextSibling),l=h.data==="F!";break e}}Ls(l)}l=!1}l&&(r=a[0])}}return a=pn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_y,lastRenderedState:r},a.queue=l,a=Ly.bind(null,Pe,l),l.dispatch=a,l=Qf(!1),d=nd.bind(null,Pe,!1,l.queue),l=pn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=hA.bind(null,Pe,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Ey(t){var r=At();return Ty(r,tt,t)}function Ty(t,r,a){r=Yf(t,r,_y)[0],t=mc($i)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?yl(r):r;var l=At(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Pe.flags|=2048,Ka(9,fA.bind(null,h,a),{destroy:void 0},null)),[r,d,t]}function fA(t,r){t.action=r}function by(t){var r=At(),a=tt;if(a!==null)return Ty(r,a,t);At(),r=r.memoizedState,a=At();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ka(t,r,a,l){return t={tag:t,create:r,inst:a,deps:l,next:null},r=Pe.updateQueue,r===null&&(r=fc(),Pe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Sy(){return At().memoizedState}function pc(t,r,a,l){var h=pn();Pe.flags|=t,h.memoizedState=Ka(1|r,a,{destroy:void 0},l===void 0?null:l)}function gc(t,r,a,l){var h=At();l=l===void 0?null:l;var d=h.memoizedState.inst;tt!==null&&l!==null&&Hf(l,tt.memoizedState.deps)?h.memoizedState=Ka(r,a,d,l):(Pe.flags|=t,h.memoizedState=Ka(1|r,a,d,l))}function Ay(t,r){pc(8390656,8,t,r)}function Wf(t,r){gc(2048,8,t,r)}function wy(t,r){return gc(4,2,t,r)}function Ry(t,r){return gc(4,4,t,r)}function Cy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Iy(t,r,a){a=a!=null?a.concat([t]):null,gc(4,4,Cy.bind(null,r,t),a)}function Zf(){}function Ny(t,r){var a=At();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Hf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Dy(t,r){var a=At();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Hf(r,l[1]))return l[0];if(l=t(),Bs){ai(!0);try{t()}finally{ai(!1)}}return a.memoizedState=[l,r],l}function Jf(t,r,a){return a===void 0||Br&1073741824?t.memoizedState=r:(t.memoizedState=a,t=k_(),Pe.lanes|=t,Xr|=t,a)}function Oy(t,r,a,l){return Tn(a,r)?a:Ha.current!==null?(t=Jf(t,a,l),Tn(t,r)||(Ht=!0),t):Br&42?(t=k_(),Pe.lanes|=t,Xr|=t,r):(Ht=!0,t.memoizedState=a)}function ky(t,r,a,l,h){var d=ue.p;ue.p=d!==0&&8>d?d:8;var v=A.T,T={};A.T=T,nd(t,!1,r,a);try{var C=h(),V=A.S;if(V!==null&&V(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=lA(C,l);_l(t,r,Y,wn(t))}else _l(t,r,l,wn(t))}catch(te){_l(t,r,{then:function(){},status:"rejected",reason:te},wn())}finally{ue.p=d,A.T=v}}function dA(){}function ed(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=My(t).queue;ky(t,h,r,ve,a===null?dA:function(){return Py(t),a(l)})}function My(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:ve},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Py(t){var r=My(t).next.queue;_l(t,r,{},wn())}function td(){return en(xl)}function Vy(){return At().memoizedState}function Uy(){return At().memoizedState}function mA(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=wn();t=Fr(a);var l=Gr(r,t,a);l!==null&&(hn(l,r,a),Tl(l,r,a)),r={cache:xf()},t.payload=r;return}r=r.return}}function pA(t,r,a){var l=wn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},yc(t)?xy(r,a):(a=Of(t,r,a,l),a!==null&&(hn(a,t,l),zy(a,r,l)))}function Ly(t,r,a){var l=wn();_l(t,r,a,l)}function _l(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(yc(t))xy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,Tn(T,v))return ec(t,r,h,0),rt===null&&Ju(),!1}catch{}finally{}if(a=Of(t,r,h,l),a!==null)return hn(a,t,l),zy(a,r,l),!0}return!1}function nd(t,r,a,l){if(l={lane:2,revertLane:Gd(),action:l,hasEagerState:!1,eagerState:null,next:null},yc(t)){if(r)throw Error(s(479))}else r=Of(t,a,l,2),r!==null&&hn(r,t,2)}function yc(t){var r=t.alternate;return t===Pe||r!==null&&r===Pe}function xy(t,r){Fa=cc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function zy(t,r,a){if(a&4194176){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Cr(t,a)}}var vi={readContext:en,use:dc,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt};vi.useCacheRefresh=Tt,vi.useMemoCache=Tt,vi.useHostTransitionStatus=Tt,vi.useFormState=Tt,vi.useActionState=Tt,vi.useOptimistic=Tt;var Hs={readContext:en,use:dc,useCallback:function(t,r){return pn().memoizedState=[t,r===void 0?null:r],t},useContext:en,useEffect:Ay,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,pc(4194308,4,Cy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return pc(4194308,4,t,r)},useInsertionEffect:function(t,r){pc(4,2,t,r)},useMemo:function(t,r){var a=pn();r=r===void 0?null:r;var l=t();if(Bs){ai(!0);try{t()}finally{ai(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=pn();if(a!==void 0){var h=a(r);if(Bs){ai(!0);try{a(r)}finally{ai(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=pA.bind(null,Pe,t),[l.memoizedState,t]},useRef:function(t){var r=pn();return t={current:t},r.memoizedState=t},useState:function(t){t=Qf(t);var r=t.queue,a=Ly.bind(null,Pe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Zf,useDeferredValue:function(t,r){var a=pn();return Jf(a,t,r)},useTransition:function(){var t=Qf(!1);return t=ky.bind(null,Pe,t.queue,!0,!1),pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Pe,h=pn();if(Ye){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),rt===null)throw Error(s(349));Fe&60||ly(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,Ay(cy.bind(null,l,d,t),[t]),l.flags|=2048,Ka(9,uy.bind(null,l,d,a,r),{destroy:void 0},null),a},useId:function(){var t=pn(),r=rt.identifierPrefix;if(Ye){var a=Ki,l=Gi;a=(l&~(1<<32-on(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=hc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=uA++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},useCacheRefresh:function(){return pn().memoizedState=mA.bind(null,Pe)}};Hs.useMemoCache=Kf,Hs.useHostTransitionStatus=td,Hs.useFormState=vy,Hs.useActionState=vy,Hs.useOptimistic=function(t){var r=pn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=nd.bind(null,Pe,!0,a),a.dispatch=r,[t,r]};var Hr={readContext:en,use:dc,useCallback:Ny,useContext:en,useEffect:Wf,useImperativeHandle:Iy,useInsertionEffect:wy,useLayoutEffect:Ry,useMemo:Dy,useReducer:mc,useRef:Sy,useState:function(){return mc($i)},useDebugValue:Zf,useDeferredValue:function(t,r){var a=At();return Oy(a,tt.memoizedState,t,r)},useTransition:function(){var t=mc($i)[0],r=At().memoizedState;return[typeof t=="boolean"?t:yl(t),r]},useSyncExternalStore:oy,useId:Vy};Hr.useCacheRefresh=Uy,Hr.useMemoCache=Kf,Hr.useHostTransitionStatus=td,Hr.useFormState=Ey,Hr.useActionState=Ey,Hr.useOptimistic=function(t,r){var a=At();return dy(a,tt,t,r)};var qs={readContext:en,use:dc,useCallback:Ny,useContext:en,useEffect:Wf,useImperativeHandle:Iy,useInsertionEffect:wy,useLayoutEffect:Ry,useMemo:Dy,useReducer:$f,useRef:Sy,useState:function(){return $f($i)},useDebugValue:Zf,useDeferredValue:function(t,r){var a=At();return tt===null?Jf(a,t,r):Oy(a,tt.memoizedState,t,r)},useTransition:function(){var t=$f($i)[0],r=At().memoizedState;return[typeof t=="boolean"?t:yl(t),r]},useSyncExternalStore:oy,useId:Vy};qs.useCacheRefresh=Uy,qs.useMemoCache=Kf,qs.useHostTransitionStatus=td,qs.useFormState=by,qs.useActionState=by,qs.useOptimistic=function(t,r){var a=At();return tt!==null?dy(a,tt,t,r):(a.baseState=t,[t,a.queue.dispatch])};function id(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:N({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var rd={isMounted:function(t){return(t=t._reactInternals)?se(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var l=wn(),h=Fr(l);h.payload=r,a!=null&&(h.callback=a),r=Gr(t,h,l),r!==null&&(hn(r,t,l),Tl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=wn(),h=Fr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Gr(t,h,l),r!==null&&(hn(r,t,l),Tl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=wn(),l=Fr(a);l.tag=2,r!=null&&(l.callback=r),r=Gr(t,l,a),r!==null&&(hn(r,t,a),Tl(r,t,a))}};function By(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!sl(a,l)||!sl(h,d):!0}function Hy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&rd.enqueueReplaceState(r,r.state,null)}function js(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=N({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var _c=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function qy(t){_c(t)}function jy(t){console.error(t)}function Fy(t){_c(t)}function vc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Gy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sd(t,r,a){return a=Fr(a),a.tag=3,a.payload={element:null},a.callback=function(){vc(t,r)},a}function Ky(t){return t=Fr(t),t.tag=3,t}function Yy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Gy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Gy(r,a,l),typeof h!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function gA(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&El(r,a,h,!0),a=zn.current,a!==null){switch(a.tag){case 13:return _i===null?Bd():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Vf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),qd(t,l,h)),!1;case 22:return a.flags|=65536,l===Vf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),qd(t,l,h)),!1}throw Error(s(435,a.tag))}return qd(t,l,h),Bd(),!1}if(Ye)return r=zn.current,r!==null?(!(r.flags&65536)&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Pf&&(t=Error(s(422),{cause:l}),ul(Un(t,a)))):(l!==Pf&&(r=Error(s(423),{cause:l}),ul(Un(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Un(l,a),h=sd(t.stateNode,l,h),Ed(t,h),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Un(d,a),Nl===null?Nl=[d]:Nl.push(d),dt!==4&&(dt=2),r===null)return!0;l=Un(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=sd(a.stateNode,l,t),Ed(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Wr===null||!Wr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ky(h),Yy(h,t,a,l),Ed(a,h),!1}a=a.return}while(a!==null);return!1}var $y=Error(s(461)),Ht=!1;function $t(t,r,a,l){r.child=t===null?Jg(r,null,a,l):xs(r,t.child,a,l)}function Qy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Gs(r),l=qf(t,r,a,v,d,h),T=jf(),t!==null&&!Ht?(Ff(t,r,h),Qi(t,r,h)):(Ye&&T&&kf(r),r.flags|=1,$t(t,r,l,h),r.child)}function Xy(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Id(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Wy(t,r,d,l,h)):(t=Ac(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!md(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(v,l)&&t.ref===r.ref)return Qi(t,r,h)}return r.flags|=1,t=Qr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Wy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(sl(d,l)&&t.ref===r.ref)if(Ht=!1,r.pendingProps=l=d,md(t,h))t.flags&131072&&(Ht=!0);else return r.lanes=t.lanes,Qi(t,r,h)}return ad(t,r,a,l,h)}function Zy(t,r,a){var l=r.pendingProps,h=l.children,d=(r.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(vl(t,r),l.mode==="hidden"||d){if(r.flags&128){if(l=v!==null?v.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Jy(t,r,l,a)}if(a&536870912)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&uc(r,v!==null?v.cachePool:null),v!==null?ey(r,v):Uf(),ty(r);else return r.lanes=r.childLanes=536870912,Jy(t,r,v!==null?v.baseLanes|a:a,a)}else v!==null?(uc(r,v.cachePool),ey(r,v),zr(),r.memoizedState=null):(t!==null&&uc(r,null),Uf(),zr());return $t(t,r,h,a),r.child}function Jy(t,r,a,l){var h=Bf();return h=h===null?null:{parent:Mt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&uc(r,null),Uf(),ty(r),t!==null&&El(t,r,l,!0),null}function vl(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=2097664)}}function ad(t,r,a,l,h){return Gs(r),a=qf(t,r,a,l,void 0,h),l=jf(),t!==null&&!Ht?(Ff(t,r,h),Qi(t,r,h)):(Ye&&l&&kf(r),r.flags|=1,$t(t,r,a,h),r.child)}function e_(t,r,a,l,h,d){return Gs(r),r.updateQueue=null,a=ay(r,l,a,h),sy(t),l=jf(),t!==null&&!Ht?(Ff(t,r,d),Qi(t,r,d)):(Ye&&l&&kf(r),r.flags|=1,$t(t,r,a,d),r.child)}function t_(t,r,a,l,h){if(Gs(r),r.stateNode===null){var d=La,v=a.contextType;typeof v=="object"&&v!==null&&(d=en(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=rd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},_d(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?en(v):La,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(id(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&rd.enqueueReplaceState(d,d.state,null),Sl(r,l,d,h),bl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,C=js(a,T);d.props=C;var V=d.context,Y=a.contextType;v=La,typeof Y=="object"&&Y!==null&&(v=en(Y));var te=a.getDerivedStateFromProps;Y=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||V!==v)&&Hy(r,d,l,v),jr=!1;var q=r.memoizedState;d.state=q,Sl(r,l,d,h),bl(),V=r.memoizedState,T||q!==V||jr?(typeof te=="function"&&(id(r,a,te,l),V=r.memoizedState),(C=jr||By(r,a,C,l,q,V,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=V),d.props=l,d.state=V,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,vd(t,r),v=r.memoizedProps,Y=js(a,v),d.props=Y,te=r.pendingProps,q=d.context,V=a.contextType,C=La,typeof V=="object"&&V!==null&&(C=en(V)),T=a.getDerivedStateFromProps,(V=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==te||q!==C)&&Hy(r,d,l,C),jr=!1,q=r.memoizedState,d.state=q,Sl(r,l,d,h),bl();var K=r.memoizedState;v!==te||q!==K||jr||t!==null&&t.dependencies!==null&&Ec(t.dependencies)?(typeof T=="function"&&(id(r,a,T,l),K=r.memoizedState),(Y=jr||By(r,a,Y,l,q,K,C)||t!==null&&t.dependencies!==null&&Ec(t.dependencies))?(V||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=C,l=Y):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,vl(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=xs(r,t.child,null,h),r.child=xs(r,null,a,h)):$t(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Qi(t,r,h),t}function n_(t,r,a,l){return ll(),r.flags|=256,$t(t,r,a,l),r.child}var od={dehydrated:null,treeContext:null,retryLane:0};function ld(t){return{baseLanes:t,cachePool:ry()}}function ud(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=jn),t}function i_(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(kt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ye){if(h?xr(r):zr(),Ye){var T=Yt,C;if(C=T){e:{for(C=T,T=yi;C.nodeType!==8;){if(!T){T=null;break e}if(C=ei(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(r.memoizedState={dehydrated:T,treeContext:Vs!==null?{id:Gi,overflow:Ki}:null,retryLane:536870912},C=qn(18,null,null,0),C.stateNode=T,C.return=r,r.child=C,cn=r,Yt=null,C=!0):C=!1}C||Ls(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?r.lanes=16:r.lanes=536870912,null;Yi(r)}return T=l.children,l=l.fallback,h?(zr(),h=r.mode,T=hd({mode:"hidden",children:T},h),l=Ys(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=ld(a),h.childLanes=ud(t,v,a),r.memoizedState=od,l):(xr(r),cd(r,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)r.flags&256?(xr(r),r.flags&=-257,r=fd(t,r,a)):r.memoizedState!==null?(zr(),r.child=t.child,r.flags|=128,r=null):(zr(),h=l.fallback,T=r.mode,l=hd({mode:"visible",children:l.children},T),h=Ys(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,xs(r,t.child,null,a),l=r.child,l.memoizedState=ld(a),l.childLanes=ud(t,v,a),r.memoizedState=od,r=h);else if(xr(r),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var V=v.dgst;v=V,l=Error(s(419)),l.stack="",l.digest=v,ul({value:l,source:null,stack:null}),r=fd(t,r,a)}else if(Ht||El(t,r,a,!1),v=(a&t.childLanes)!==0,Ht||v){if(v=rt,v!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(v.suspendedLanes|a)?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,Lr(t,l),hn(v,t,l),$y}T.data==="$?"||Bd(),r=fd(t,r,a)}else T.data==="$?"?(r.flags|=128,r.child=t.child,r=OA.bind(null,t),T._reactRetry=r,r=null):(t=C.treeContext,Yt=ei(T.nextSibling),cn=r,Ye=!0,Zn=null,yi=!1,t!==null&&(Ln[xn++]=Gi,Ln[xn++]=Ki,Ln[xn++]=Vs,Gi=t.id,Ki=t.overflow,Vs=r),r=cd(r,l.children),r.flags|=4096);return r}return h?(zr(),h=l.fallback,T=r.mode,C=t.child,V=C.sibling,l=Qr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,V!==null?h=Qr(V,h):(h=Ys(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=ld(a):(C=T.cachePool,C!==null?(V=Mt._currentValue,C=C.parent!==V?{parent:V,pool:V}:C):C=ry(),T={baseLanes:T.baseLanes|a,cachePool:C}),h.memoizedState=T,h.childLanes=ud(t,v,a),r.memoizedState=od,l):(xr(r),a=t.child,t=a.sibling,a=Qr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function cd(t,r){return r=hd({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function hd(t,r){return N_(t,r,0,null)}function fd(t,r,a){return xs(r,t.child,null,a),t=cd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function r_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),gd(t.return,r,a)}function dd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function s_(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if($t(t,r,l.children,a),l=kt.current,l&2)l=l&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&r_(t,a,r);else if(t.tag===19)r_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(_e(kt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&lc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),dd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&lc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}dd(r,!0,a,null,d);break;case"together":dd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Qi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Xr|=r.lanes,!(a&r.childLanes))if(t!==null){if(El(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Qr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Qr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function md(t,r){return t.lanes&r?!0:(t=t.dependencies,!!(t!==null&&Ec(t)))}function yA(t,r,a){switch(r.tag){case 3:Tr(r,r.stateNode.containerInfo),qr(r,Mt,t.memoizedState.cache),ll();break;case 27:case 5:xo(r);break;case 4:Tr(r,r.stateNode.containerInfo);break;case 10:qr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(xr(r),r.flags|=128,null):a&r.child.childLanes?i_(t,r,a):(xr(r),t=Qi(t,r,a),t!==null?t.sibling:null);xr(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(El(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return s_(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),_e(kt,kt.current),l)break;return null;case 22:case 23:return r.lanes=0,Zy(t,r,a);case 24:qr(r,Mt,t.memoizedState.cache)}return Qi(t,r,a)}function a_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ht=!0;else{if(!md(t,a)&&!(r.flags&128))return Ht=!1,yA(t,r,a);Ht=!!(t.flags&131072)}else Ht=!1,Ye&&r.flags&1048576&&Fg(r,ic,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Id(l)?(t=js(l,t),r.tag=1,r=t_(null,r,l,t,a)):(r.tag=0,r=ad(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===H){r.tag=11,r=Qy(null,r,l,t,a);break e}else if(h===ne){r.tag=14,r=Xy(null,r,l,t,a);break e}}throw r=S(l)||l,Error(s(306,r,""))}}return r;case 0:return ad(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=js(l,r.pendingProps),t_(t,r,l,h,a);case 3:e:{if(Tr(r,r.stateNode.containerInfo),t===null)throw Error(s(387));var d=r.pendingProps;h=r.memoizedState,l=h.element,vd(t,r),Sl(r,d,null,a);var v=r.memoizedState;if(d=v.cache,qr(r,Mt,d),d!==h.cache&&yd(r,[Mt],a,!0),bl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=n_(t,r,d,a);break e}else if(d!==l){l=Un(Error(s(424)),r),ul(l),r=n_(t,r,d,a);break e}else for(Yt=ei(r.stateNode.containerInfo.firstChild),cn=r,Ye=!0,Zn=null,yi=!0,a=Jg(r,null,d,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ll(),d===l){r=Qi(t,r,a);break e}$t(t,r,d,a)}r=r.child}return r;case 26:return vl(t,r),t===null?(a=uv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ye||(a=r.type,t=r.pendingProps,l=Uc(In.current).createElement(a),l[xt]=r,l[Nt]=t,Qt(l,a,t),ot(l),r.stateNode=l):r.memoizedState=uv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return xo(r),t===null&&Ye&&(l=r.stateNode=av(r.type,r.pendingProps,In.current),cn=r,yi=!0,Yt=ei(l.firstChild)),l=r.pendingProps.children,t!==null||Ye?$t(t,r,l,a):r.child=xs(r,null,l,a),vl(t,r),r.child;case 5:return t===null&&Ye&&((h=l=Yt)&&(l=YA(l,r.type,r.pendingProps,yi),l!==null?(r.stateNode=l,cn=r,Yt=ei(l.firstChild),yi=!1,h=!0):h=!1),h||Ls(r)),xo(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,em(h,d)?l=null:v!==null&&em(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=qf(t,r,cA,null,null,a),xl._currentValue=h),vl(t,r),$t(t,r,l,a),r.child;case 6:return t===null&&Ye&&((t=a=Yt)&&(a=$A(a,r.pendingProps,yi),a!==null?(r.stateNode=a,cn=r,Yt=null,t=!0):t=!1),t||Ls(r)),null;case 13:return i_(t,r,a);case 4:return Tr(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=xs(r,null,l,a):$t(t,r,l,a),r.child;case 11:return Qy(t,r,r.type,r.pendingProps,a);case 7:return $t(t,r,r.pendingProps,a),r.child;case 8:return $t(t,r,r.pendingProps.children,a),r.child;case 12:return $t(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,qr(r,r.type,l.value),$t(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Gs(r),h=en(h),l=l(h),r.flags|=1,$t(t,r,l,a),r.child;case 14:return Xy(t,r,r.type,r.pendingProps,a);case 15:return Wy(t,r,r.type,r.pendingProps,a);case 19:return s_(t,r,a);case 22:return Zy(t,r,a);case 24:return Gs(r),l=en(Mt),t===null?(h=Bf(),h===null&&(h=rt,d=xf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},_d(r),qr(r,Mt,h)):(t.lanes&a&&(vd(t,r),Sl(r,null,null,a),bl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),qr(r,Mt,l)):(l=d.cache,qr(r,Mt,l),l!==h.cache&&yd(r,[Mt],a,!0))),$t(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var pd=ke(null),Fs=null,Xi=null;function qr(t,r,a){_e(pd,r._currentValue),r._currentValue=a}function Wi(t){t._currentValue=pd.current,de(pd)}function gd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function yd(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<r.length;C++)if(T.context===r[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),gd(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),gd(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function El(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;Tn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Er.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}h=h.return}t!==null&&yd(r,t,a,l),r.flags|=262144}function Ec(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gs(t){Fs=t,Xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function en(t){return o_(Fs,t)}function Tc(t,r){return Fs===null&&Gs(t),o_(t,r)}function o_(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Xi===null){if(t===null)throw Error(s(308));Xi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Xi=Xi.next=r;return a}var jr=!1;function _d(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,ut&2){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=tc(t),qg(t,null,a),r}return ec(t,l,r,a),tc(t)}function Tl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Cr(t,a)}}function Ed(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Td=!1;function bl(){if(Td){var t=ja;if(t!==null)throw t}}function Sl(t,r,a,l){Td=!1;var h=t.updateQueue;jr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,V=C.next;C.next=null,v===null?d=V:v.next=V,v=C;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=V:T.next=V,Y.lastBaseUpdate=C))}if(d!==null){var te=h.baseState;v=0,Y=V=C=null,T=d;do{var q=T.lane&-536870913,K=q!==T.lane;if(K?(Fe&q)===q:(l&q)===q){q!==0&&q===qa&&(Td=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ye=t,Ne=T;q=r;var mt=a;switch(Ne.tag){case 1:if(ye=Ne.payload,typeof ye=="function"){te=ye.call(mt,te,q);break e}te=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ne.payload,q=typeof ye=="function"?ye.call(mt,te,q):ye,q==null)break e;te=N({},te,q);break e;case 2:jr=!0}}q=T.callback,q!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[q]:K.push(q))}else K={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(V=Y=K,C=te):Y=Y.next=K,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);Y===null&&(C=te),h.baseState=C,h.firstBaseUpdate=V,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Xr|=v,t.lanes=v,t.memoizedState=te}}function l_(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function u_(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)l_(a[t],r)}function Al(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){it(r,r.return,T)}}function Kr(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var C=a;try{T()}catch(V){it(h,C,V)}}}l=l.next}while(l!==d)}}catch(V){it(r,r.return,V)}}function c_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{u_(r,a)}catch(l){it(t,t.return,l)}}}function h_(t,r,a){a.props=js(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){it(t,r,l)}}function Ks(t,r){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){it(t,r,d)}}function bn(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){it(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){it(t,r,h)}else a.current=null}function f_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){it(t,t.return,h)}}function d_(t,r,a){try{var l=t.stateNode;qA(l,t.type,a,r),l[Nt]=r}catch(h){it(t,t.return,h)}}function m_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||m_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Vc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Sd(t,r,a),t=t.sibling;t!==null;)Sd(t,r,a),t=t.sibling}function bc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(bc(t,r,a),t=t.sibling;t!==null;)bc(t,r,a),t=t.sibling}var Zi=!1,ft=!1,Ad=!1,p_=typeof WeakSet=="function"?WeakSet:Set,qt=null,g_=!1;function _A(t,r){if(t=t.containerInfo,Zd=qc,t=Mg(t),Rf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,C=-1,V=0,Y=0,te=t,q=null;t:for(;;){for(var K;te!==a||h!==0&&te.nodeType!==3||(T=v+h),te!==d||l!==0&&te.nodeType!==3||(C=v+l),te.nodeType===3&&(v+=te.nodeValue.length),(K=te.firstChild)!==null;)q=te,te=K;for(;;){if(te===t)break t;if(q===a&&++V===h&&(T=v),q===d&&++Y===l&&(C=v),(K=te.nextSibling)!==null)break;te=q,q=te.parentNode}te=K}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jd={focusedElem:t,selectionRange:a},qc=!1,qt=r;qt!==null;)if(r=qt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,qt=t;else for(;qt!==null;){switch(r=qt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ye=js(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ye,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ne){it(a,a.return,Ne)}}break;case 3:if(t&1024){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)im(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":im(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,qt=t;break}qt=r.return}return ye=g_,g_=!1,ye}function y_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:er(t,a),l&4&&Al(5,a);break;case 1:if(er(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(T){it(a,a.return,T)}else{var h=js(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(T){it(a,a.return,T)}}l&64&&c_(a),l&512&&Ks(a,a.return);break;case 3:if(er(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{u_(l,t)}catch(T){it(a,a.return,T)}}break;case 26:er(t,a),l&512&&Ks(a,a.return);break;case 27:case 5:er(t,a),r===null&&l&4&&f_(a),l&512&&Ks(a,a.return);break;case 12:er(t,a);break;case 13:er(t,a),l&4&&E_(t,a);break;case 22:if(h=a.memoizedState!==null||Zi,!h){r=r!==null&&r.memoizedState!==null||ft;var d=Zi,v=ft;Zi=h,(ft=r)&&!v?Yr(t,a,(a.subtreeFlags&8772)!==0):er(t,a),Zi=d,ft=v}l&512&&(a.memoizedProps.mode==="manual"?Ks(a,a.return):bn(a,a.return));break;default:er(t,a)}}function __(t){var r=t.alternate;r!==null&&(t.alternate=null,__(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&bs(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var wt=null,Sn=!1;function Ji(t,r,a){for(a=a.child;a!==null;)v_(t,r,a),a=a.sibling}function v_(t,r,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(br,a)}catch{}switch(a.tag){case 26:ft||bn(a,r),Ji(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||bn(a,r);var l=wt,h=Sn;for(wt=a.stateNode,Ji(t,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);bs(a),wt=l,Sn=h;break;case 5:ft||bn(a,r);case 6:h=wt;var d=Sn;if(wt=null,Ji(t,r,a),wt=h,Sn=d,wt!==null)if(Sn)try{t=wt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){it(a,r,v)}else try{wt.removeChild(a.stateNode)}catch(v){it(a,r,v)}break;case 18:wt!==null&&(Sn?(r=wt,a=a.stateNode,r.nodeType===8?nm(r.parentNode,a):r.nodeType===1&&nm(r,a),ql(r)):nm(wt,a.stateNode));break;case 4:l=wt,h=Sn,wt=a.stateNode.containerInfo,Sn=!0,Ji(t,r,a),wt=l,Sn=h;break;case 0:case 11:case 14:case 15:ft||Kr(2,a,r),ft||Kr(4,a,r),Ji(t,r,a);break;case 1:ft||(bn(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&h_(a,r,l)),Ji(t,r,a);break;case 21:Ji(t,r,a);break;case 22:ft||bn(a,r),ft=(l=ft)||a.memoizedState!==null,Ji(t,r,a),ft=l;break;default:Ji(t,r,a)}}function E_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ql(t)}catch(a){it(r,r.return,a)}}function vA(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new p_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new p_),r;default:throw Error(s(435,t.tag))}}function wd(t,r){var a=vA(t);r.forEach(function(l){var h=kA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Bn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:case 5:wt=T.stateNode,Sn=!1;break e;case 3:wt=T.stateNode.containerInfo,Sn=!0;break e;case 4:wt=T.stateNode.containerInfo,Sn=!0;break e}T=T.return}if(wt===null)throw Error(s(160));v_(d,v,h),wt=null,Sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)T_(r,t),r=r.sibling}var Jn=null;function T_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bn(r,t),Hn(t),l&4&&(Kr(3,t,t.return),Al(3,t),Kr(5,t,t.return));break;case 1:Bn(r,t),Hn(t),l&512&&(ft||a===null||bn(a,a.return)),l&64&&Zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Jn;if(Bn(r,t),Hn(t),l&512&&(ft||a===null||bn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Nr]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,a),d[xt]=t,ot(d),l=d;break e;case"link":var v=fv("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=fv("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[xt]=t,ot(d),l=d}t.stateNode=l}else dv(h,t.type,t.stateNode);else t.stateNode=hv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?dv(h,t.type,t.stateNode):hv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&d_(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var C=h.firstChild;C;){var V=C.nextSibling,Y=C.nodeName;C[Nr]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=V}for(var te=t.type,q=h.attributes;q.length;)h.removeAttributeNode(q[0]);Qt(h,te,d),h[xt]=t,h[Nt]=d}catch(ye){it(t,t.return,ye)}}case 5:if(Bn(r,t),Hn(t),l&512&&(ft||a===null||bn(a,a.return)),t.flags&32){h=t.stateNode;try{On(h,"")}catch(ye){it(t,t.return,ye)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,d_(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ad=!0);break;case 6:if(Bn(r,t),Hn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ye){it(t,t.return,ye)}}break;case 3:if(zc=null,h=Jn,Jn=Lc(r.containerInfo),Bn(r,t),Jn=h,Hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ql(r.containerInfo)}catch(ye){it(t,t.return,ye)}Ad&&(Ad=!1,b_(t));break;case 4:l=Jn,Jn=Lc(t.stateNode.containerInfo),Bn(r,t),Hn(t),Jn=l;break;case 12:Bn(r,t),Hn(t);break;case 13:Bn(r,t),Hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pd=dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wd(t,l)));break;case 22:if(l&512&&(ft||a===null||bn(a,a.return)),C=t.memoizedState!==null,V=a!==null&&a.memoizedState!==null,Y=Zi,te=ft,Zi=Y||C,ft=te||V,Bn(r,t),ft=te,Zi=Y,Hn(t),r=t.stateNode,r._current=t,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=C?r._visibility&-2:r._visibility|1,C&&(r=Zi||ft,a===null||V||r||Ya(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,r=t;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){V=a=r;try{if(h=V.stateNode,C)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=V.stateNode,T=V.memoizedProps.style;var K=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ye){it(V,V.return,ye)}}}else if(r.tag===6){if(a===null){V=r;try{V.stateNode.nodeValue=C?"":V.memoizedProps}catch(ye){it(V,V.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wd(t,a))));break;case 19:Bn(r,t),Hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wd(t,l)));break;case 21:break;default:Bn(r,t),Hn(t)}}function Hn(t){var r=t.flags;if(r&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(m_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=bd(t);bc(t,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(On(v,""),l.flags&=-33);var T=bd(t);bc(t,T,v);break;case 3:case 4:var C=l.stateNode.containerInfo,V=bd(t);Sd(t,V,C);break;default:throw Error(s(161))}}}catch(Y){it(t,t.return,Y)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function b_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;b_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function er(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)y_(t,r.alternate,r),r=r.sibling}function Ya(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Kr(4,r,r.return),Ya(r);break;case 1:bn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&h_(r,r.return,a),Ya(r);break;case 26:case 27:case 5:bn(r,r.return),Ya(r);break;case 22:bn(r,r.return),r.memoizedState===null&&Ya(r);break;default:Ya(r)}t=t.sibling}}function Yr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Yr(h,d,a),Al(4,d);break;case 1:if(Yr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(V){it(l,l.return,V)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)l_(C[h],T)}catch(V){it(l,l.return,V)}}a&&v&64&&c_(d),Ks(d,d.return);break;case 26:case 27:case 5:Yr(h,d,a),a&&l===null&&v&4&&f_(d),Ks(d,d.return);break;case 12:Yr(h,d,a);break;case 13:Yr(h,d,a),a&&v&4&&E_(h,d);break;case 22:d.memoizedState===null&&Yr(h,d,a),Ks(d,d.return);break;default:Yr(h,d,a)}r=r.sibling}}function Rd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ml(a))}function Cd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ml(t))}function $r(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)S_(t,r,a,l),r=r.sibling}function S_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:$r(t,r,a,l),h&2048&&Al(9,r);break;case 3:$r(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ml(t)));break;case 12:if(h&2048){$r(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){it(r,r.return,C)}}else $r(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,r.memoizedState!==null?d._visibility&4?$r(t,r,a,l):wl(t,r):d._visibility&4?$r(t,r,a,l):(d._visibility|=4,$a(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Rd(r.alternate,r);break;case 24:$r(t,r,a,l),h&2048&&Cd(r.alternate,r);break;default:$r(t,r,a,l)}}function $a(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,T=a,C=l,V=v.flags;switch(v.tag){case 0:case 11:case 15:$a(d,v,T,C,h),Al(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&4?$a(d,v,T,C,h):wl(d,v):(Y._visibility|=4,$a(d,v,T,C,h)),h&&V&2048&&Rd(v.alternate,v);break;case 24:$a(d,v,T,C,h),h&&V&2048&&Cd(v.alternate,v);break;default:$a(d,v,T,C,h)}r=r.sibling}}function wl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:wl(a,l),h&2048&&Rd(l.alternate,l);break;case 24:wl(a,l),h&2048&&Cd(l.alternate,l);break;default:wl(a,l)}r=r.sibling}}var Rl=8192;function Qa(t){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)A_(t),t=t.sibling}function A_(t){switch(t.tag){case 26:Qa(t),t.flags&Rl&&t.memoizedState!==null&&ow(Jn,t.memoizedState,t.memoizedProps);break;case 5:Qa(t);break;case 3:case 4:var r=Jn;Jn=Lc(t.stateNode.containerInfo),Qa(t),Jn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Rl,Rl=16777216,Qa(t),Rl=r):Qa(t));break;default:Qa(t)}}function w_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Cl(t){var r=t.deletions;if(t.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qt=l,C_(l,t)}w_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)R_(t),t=t.sibling}function R_(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&Kr(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&4&&(t.return===null||t.return.tag!==13)?(r._visibility&=-5,Sc(t)):Cl(t);break;default:Cl(t)}}function Sc(t){var r=t.deletions;if(t.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qt=l,C_(l,t)}w_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Kr(8,r,r.return),Sc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Sc(r));break;default:Sc(r)}t=t.sibling}}function C_(t,r){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:Kr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=t;qt!==null;){l=qt;var h=l.sibling,d=l.return;if(__(l),l===a){qt=null;break e}if(h!==null){h.return=d,qt=h;break e}qt=d}}}function EA(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,r,a,l){return new EA(t,r,a,l)}function Id(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qr(t,r){var a=t.alternate;return a===null?(a=qn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function I_(t,r){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Ac(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")Id(t)&&(v=1);else if(typeof t=="string")v=sw(t,a,Ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Ys(a.children,h,d,r);case y:v=8,h|=24;break;case E:return t=qn(12,a,r,h|2),t.elementType=E,t.lanes=d,t;case G:return t=qn(13,a,r,h),t.elementType=G,t.lanes=d,t;case j:return t=qn(19,a,r,h),t.elementType=j,t.lanes=d,t;case ee:return N_(a,h,d,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w:case M:v=10;break e;case I:v=9;break e;case H:v=11;break e;case ne:v=14;break e;case Q:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=qn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Ys(t,r,a,l){return t=qn(7,t,l,r),t.lanes=a,t}function N_(t,r,a,l){t=qn(22,t,l,r),t.elementType=ee,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var v=Lr(d,2);v!==null&&(h._pendingVisibility|=2,hn(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if(h._pendingVisibility&2){var v=Lr(d,2);v!==null&&(h._pendingVisibility&=-3,hn(v,d,2))}}};return t.stateNode=h,t}function Nd(t,r,a){return t=qn(6,t,null,r),t.lanes=a,t}function Dd(t,r,a){return r=qn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function tr(t){t.flags|=4}function D_(t,r){if(r.type!=="stylesheet"||r.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!mv(r)){if(r=zn.current,r!==null&&((Fe&4194176)===Fe?_i!==null:(Fe&62914560)!==Fe&&!(Fe&536870912)||r!==_i))throw hl=Vf,Yg;t.flags|=8192}}function wc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?wr():536870912,t.lanes|=r,Wa|=r)}function Il(t,r){if(!Ye)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function TA(t,r,a){var l=r.pendingProps;switch(Mf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Wi(Mt),Pi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ol(r)?tr(r):t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Zn!==null&&(xd(Zn),Zn=null))),lt(r),null;case 26:return a=r.memoizedState,t===null?(tr(r),a!==null?(lt(r),D_(r,a)):(lt(r),r.flags&=-16777217)):a?a!==t.memoizedState?(tr(r),lt(r),D_(r,a)):(lt(r),r.flags&=-16777217):(t.memoizedProps!==l&&tr(r),lt(r),r.flags&=-16777217),null;case 27:ga(r),a=In.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&tr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}t=Ue.current,ol(r)?Gg(r):(t=av(h,l,a),r.stateNode=t,tr(r))}return lt(r),null;case 5:if(ga(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&tr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(t=Ue.current,ol(r))Gg(r);else{switch(h=Uc(In.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[xt]=r,t[Nt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&tr(r)}}return lt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&tr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=In.current,ol(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=cn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[xt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ev(t.nodeValue,a)),t||Ls(r)}else t=Uc(t).createTextNode(l),t[xt]=r,r.stateNode=t}return lt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ol(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[xt]=r}else ll(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;lt(r),h=!1}else Zn!==null&&(xd(Zn),Zn=null),h=!0;if(!h)return r.flags&256?(Yi(r),r):(Yi(r),null)}if(Yi(r),r.flags&128)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),wc(r,r.updateQueue),lt(r),null;case 4:return Pi(),t===null&&Qd(r.stateNode.containerInfo),lt(r),null;case 10:return Wi(r.type),lt(r),null;case 19:if(de(kt),h=r.memoizedState,h===null)return lt(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)Il(h,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(d=lc(t),d!==null){for(r.flags|=128,Il(h,!1),t=d.updateQueue,r.updateQueue=t,wc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)I_(a,t),a=a.sibling;return _e(kt,kt.current&1|2),r.child}t=t.sibling}h.tail!==null&&dn()>Rc&&(r.flags|=128,l=!0,Il(h,!1),r.lanes=4194304)}else{if(!l)if(t=lc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,wc(r,t),Il(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ye)return lt(r),null}else 2*dn()-h.renderingStartTime>Rc&&a!==536870912&&(r.flags|=128,l=!0,Il(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=dn(),r.sibling=null,t=kt.current,_e(kt,l?t&1|2:t&1),r):(lt(r),null);case 22:case 23:return Yi(r),Lf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?a&536870912&&!(r.flags&128)&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),a=r.updateQueue,a!==null&&wc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&de(zs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Wi(Mt),lt(r),null;case 25:return null}throw Error(s(156,r.tag))}function bA(t,r){switch(Mf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Wi(Mt),Pi(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ga(r),null;case 13:if(Yi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ll()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return de(kt),null;case 4:return Pi(),null;case 10:return Wi(r.type),null;case 22:case 23:return Yi(r),Lf(),t!==null&&de(zs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Wi(Mt),null;case 25:return null;default:return null}}function O_(t,r){switch(Mf(r),r.tag){case 3:Wi(Mt),Pi();break;case 26:case 27:case 5:ga(r);break;case 4:Pi();break;case 13:Yi(r);break;case 19:de(kt);break;case 10:Wi(r.type);break;case 22:case 23:Yi(r),Lf(),t!==null&&de(zs);break;case 24:Wi(Mt)}}var SA={getCacheForType:function(t){var r=en(Mt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},AA=typeof WeakMap=="function"?WeakMap:Map,ut=0,rt=null,Le=null,Fe=0,st=0,An=null,nr=!1,Xa=!1,Od=!1,ir=0,dt=0,Xr=0,$s=0,kd=0,jn=0,Wa=0,Nl=null,Ei=null,Md=!1,Pd=0,Rc=1/0,Cc=null,Wr=null,Ic=!1,Qs=null,Dl=0,Vd=0,Ud=null,Ol=0,Ld=null;function wn(){if(ut&2&&Fe!==0)return Fe&-Fe;if(A.T!==null){var t=qa;return t!==0?t:Gd()}return Pu()}function k_(){jn===0&&(jn=!(Fe&536870912)||Ye?jo():536870912);var t=zn.current;return t!==null&&(t.flags|=32),jn}function hn(t,r,a){(t===rt&&st===2||t.cancelPendingCommit!==null)&&(Za(t,0),rr(t,Fe,jn,!1)),Et(t,a),(!(ut&2)||t!==rt)&&(t===rt&&(!(ut&2)&&($s|=a),dt===4&&rr(t,Fe,jn,!1)),Ti(t))}function M_(t,r,a){if(ut&6)throw Error(s(327));var l=!a&&(r&60)===0&&(r&t.expiredLanes)===0||Ar(t,r),h=l?CA(t,r):Hd(t,r,!0),d=l;do{if(h===0){Xa&&!l&&rr(t,r,0,!1);break}else if(h===6)rr(t,r,0,!nr);else{if(a=t.current.alternate,d&&!wA(a)){h=Hd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=t;h=Nl;var C=T.current.memoizedState.isDehydrated;if(C&&(Za(T,v).flags|=256),v=Hd(T,v,!1),v!==2){if(Od&&!C){T.errorRecoveryDisabledLanes|=d,$s|=d,h=4;break e}d=Ei,Ei=h,d!==null&&xd(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Za(t,0),rr(t,r,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){rr(l,r,jn,!nr);break e}break;case 2:Ei=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(d=Pd+300-dn(),10<d)){if(rr(l,r,jn,!nr),Nn(l,0)!==0)break e;l.timeoutHandle=iv(P_.bind(null,l,a,Ei,Cc,Md,r,jn,$s,Wa,nr,2,-0,0),d);break e}P_(l,a,Ei,Cc,Md,r,jn,$s,Wa,nr,0,-0,0)}}break}while(!0);Ti(t)}function xd(t){Ei===null?Ei=t:Ei.push.apply(Ei,t)}function P_(t,r,a,l,h,d,v,T,C,V,Y,te,q){var K=r.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:aw},A_(r),r=lw(),r!==null)){t.cancelPendingCommit=r(H_.bind(null,t,a,l,h,v,T,C,1,te,q)),rr(t,d,v,!V);return}H_(t,a,l,h,v,T,C,Y,te,q)}function wA(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Tn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function rr(t,r,a,l){r&=~kd,r&=~$s,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-on(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Rr(t,a,r)}function Nc(){return ut&6?!0:(kl(0),!1)}function zd(){if(Le!==null){if(st===0)var t=Le.return;else t=Le,Xi=Fs=null,Gf(t),Ba=null,fl=0,t=Le;for(;t!==null;)O_(t.alternate,t),t=t.return;Le=null}}function Za(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,FA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),zd(),rt=t,Le=a=Qr(t.current,null),Fe=r,st=0,An=null,nr=!1,Xa=Ar(t,r),Od=!1,Wa=jn=kd=$s=Xr=dt=0,Ei=Nl=null,Md=!1,r&8&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-on(l),d=1<<h;r|=t[h],l&=~d}return ir=r,Ju(),a}function V_(t,r){Pe=null,A.H=vi,r===cl?(r=Xg(),st=3):r===Yg?(r=Xg(),st=4):st=r===$y?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,An=r,Le===null&&(dt=1,vc(t,Un(r,t.current)))}function U_(){var t=A.H;return A.H=vi,t===null?vi:t}function L_(){var t=A.A;return A.A=SA,t}function Bd(){dt=4,nr||(Fe&4194176)!==Fe&&zn.current!==null||(Xa=!0),!(Xr&134217727)&&!($s&134217727)||rt===null||rr(rt,Fe,jn,!1)}function Hd(t,r,a){var l=ut;ut|=2;var h=U_(),d=L_();(rt!==t||Fe!==r)&&(Cc=null,Za(t,r)),r=!1;var v=dt;e:do try{if(st!==0&&Le!==null){var T=Le,C=An;switch(st){case 8:zd(),v=6;break e;case 3:case 2:case 6:zn.current===null&&(r=!0);var V=st;if(st=0,An=null,Ja(t,T,C,V),a&&Xa){v=0;break e}break;default:V=st,st=0,An=null,Ja(t,T,C,V)}}RA(),v=dt;break}catch(Y){V_(t,Y)}while(!0);return r&&t.shellSuspendCounter++,Xi=Fs=null,ut=l,A.H=h,A.A=d,Le===null&&(rt=null,Fe=0,Ju()),v}function RA(){for(;Le!==null;)x_(Le)}function CA(t,r){var a=ut;ut|=2;var l=U_(),h=L_();rt!==t||Fe!==r?(Cc=null,Rc=dn()+500,Za(t,r)):Xa=Ar(t,r);e:do try{if(st!==0&&Le!==null){r=Le;var d=An;t:switch(st){case 1:st=0,An=null,Ja(t,r,d,1);break;case 2:if($g(d)){st=0,An=null,z_(r);break}r=function(){st===2&&rt===t&&(st=7),Ti(t)},d.then(r,r);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:$g(d)?(st=0,An=null,z_(r)):(st=0,An=null,Ja(t,r,d,7));break;case 5:var v=null;switch(Le.tag){case 26:v=Le.memoizedState;case 5:case 27:var T=Le;if(!v||mv(v)){st=0,An=null;var C=T.sibling;if(C!==null)Le=C;else{var V=T.return;V!==null?(Le=V,Dc(V)):Le=null}break t}}st=0,An=null,Ja(t,r,d,5);break;case 6:st=0,An=null,Ja(t,r,d,6);break;case 8:zd(),dt=6;break e;default:throw Error(s(462))}}IA();break}catch(Y){V_(t,Y)}while(!0);return Xi=Fs=null,A.H=l,A.A=h,ut=a,Le!==null?0:(rt=null,Fe=0,Ju(),dt)}function IA(){for(;Le!==null&&!pf();)x_(Le)}function x_(t){var r=a_(t.alternate,t,ir);t.memoizedProps=t.pendingProps,r===null?Dc(t):Le=r}function z_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=e_(a,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=e_(a,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:Gf(r);default:O_(a,r),r=Le=I_(r,ir),r=a_(a,r,ir)}t.memoizedProps=t.pendingProps,r===null?Dc(t):Le=r}function Ja(t,r,a,l){Xi=Fs=null,Gf(r),Ba=null,fl=0;var h=r.return;try{if(gA(t,h,r,a,Fe)){dt=1,vc(t,Un(a,t.current)),Le=null;return}}catch(d){if(h!==null)throw Le=h,d;dt=1,vc(t,Un(a,t.current)),Le=null;return}r.flags&32768?(Ye||l===1?t=!0:Xa||Fe&536870912?t=!1:(nr=t=!0,(l===2||l===3||l===6)&&(l=zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),B_(r,t)):Dc(r)}function Dc(t){var r=t;do{if(r.flags&32768){B_(r,nr);return}t=r.return;var a=TA(r.alternate,r,ir);if(a!==null){Le=a;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=t}while(r!==null);dt===0&&(dt=5)}function B_(t,r){do{var a=bA(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);dt=6,Le=null}function H_(t,r,a,l,h,d,v,T,C,V){var Y=A.T,te=ue.p;try{ue.p=2,A.T=null,NA(t,r,a,l,te,h,d,v,T,C,V)}finally{A.T=Y,ue.p=te}}function NA(t,r,a,l,h,d,v,T){do eo();while(Qs!==null);if(ut&6)throw Error(s(327));var C=t.finishedWork;if(l=t.finishedLanes,C===null)return null;if(t.finishedWork=null,t.finishedLanes=0,C===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var V=C.lanes|C.childLanes;if(V|=Df,ku(t,l,V,d,v,T),t===rt&&(Le=rt=null,Fe=0),!(C.subtreeFlags&10256)&&!(C.flags&10256)||Ic||(Ic=!0,Vd=V,Ud=a,MA(Vi,function(){return eo(),null})),a=(C.flags&15990)!==0,C.subtreeFlags&15990||a?(a=A.T,A.T=null,d=ue.p,ue.p=2,v=ut,ut|=4,_A(t,C),T_(C,t),JS(Jd,t.containerInfo),qc=!!Zd,Jd=Zd=null,t.current=C,y_(t,C.alternate,C),zo(),ut=v,ue.p=d,A.T=a):t.current=C,Ic?(Ic=!1,Qs=t,Dl=l):q_(t,V),V=t.pendingLanes,V===0&&(Wr=null),Ho(C.stateNode),Ti(t),r!==null)for(h=t.onRecoverableError,C=0;C<r.length;C++)V=r[C],h(V.value,{componentStack:V.stack});return Dl&3&&eo(),V=t.pendingLanes,l&4194218&&V&42?t===Ld?Ol++:(Ol=0,Ld=t):Ol=0,kl(0),null}function q_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ml(r)))}function eo(){if(Qs!==null){var t=Qs,r=Vd;Vd=0;var a=Mu(Dl),l=A.T,h=ue.p;try{if(ue.p=32>a?32:a,A.T=null,Qs===null)var d=!1;else{a=Ud,Ud=null;var v=Qs,T=Dl;if(Qs=null,Dl=0,ut&6)throw Error(s(331));var C=ut;if(ut|=4,R_(v.current),S_(v,v.current,T,a),ut=C,kl(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(br,v)}catch{}d=!0}return d}finally{ue.p=h,A.T=l,q_(t,r)}}return!1}function j_(t,r,a){r=Un(a,r),r=sd(t.stateNode,r,2),t=Gr(t,r,2),t!==null&&(Et(t,2),Ti(t))}function it(t,r,a){if(t.tag===3)j_(t,t,a);else for(;r!==null;){if(r.tag===3){j_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Wr===null||!Wr.has(l))){t=Un(a,t),a=Ky(2),l=Gr(r,a,2),l!==null&&(Yy(a,l,r,t),Et(l,2),Ti(l));break}}r=r.return}}function qd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new AA;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Od=!0,h.add(a),t=DA.bind(null,t,r,a),r.then(t,t))}function DA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(Fe&a)===a&&(dt===4||dt===3&&(Fe&62914560)===Fe&&300>dn()-Pd?!(ut&2)&&Za(t,0):kd|=a,Wa===Fe&&(Wa=0)),Ti(t)}function F_(t,r){r===0&&(r=wr()),t=Lr(t,r),t!==null&&(Et(t,r),Ti(t))}function OA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),F_(t,a)}function kA(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),F_(t,a)}function MA(t,r){return vs(t,r)}var Oc=null,to=null,jd=!1,kc=!1,Fd=!1,Xs=0;function Ti(t){t!==to&&t.next===null&&(to===null?Oc=to=t:to=to.next=t),kc=!0,jd||(jd=!0,VA(PA))}function kl(t,r){if(!Fd&&kc){Fd=!0;do for(var a=!1,l=Oc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-on(42|t)+1)-1,d&=h&~(v&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Y_(l,d))}else d=Fe,d=Nn(l,l===rt?d:0),!(d&3)||Ar(l,d)||(a=!0,Y_(l,d));l=l.next}while(a);Fd=!1}}function PA(){kc=jd=!1;var t=0;Xs!==0&&(jA()&&(t=Xs),Xs=0);for(var r=dn(),a=null,l=Oc;l!==null;){var h=l.next,d=G_(l,r);d===0?(l.next=null,a===null?Oc=h:a.next=h,h===null&&(to=a)):(a=l,(t!==0||d&3)&&(kc=!0)),l=h}kl(t)}function G_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-on(d),T=1<<v,C=h[v];C===-1?(!(T&a)||T&l)&&(h[v]=va(T,r)):C<=r&&(t.expiredLanes|=T),d&=~T}if(r=rt,a=Fe,a=Nn(t,t===r?a:0),l=t.callbackNode,a===0||t===r&&st===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_a(l),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||Ar(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&_a(l),Mu(a)){case 2:case 8:a=Lt;break;case 32:a=Vi;break;case 268435456:a=Bo;break;default:a=Vi}return l=K_.bind(null,t),a=vs(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&_a(l),t.callbackPriority=2,t.callbackNode=null,2}function K_(t,r){var a=t.callbackNode;if(eo()&&t.callbackNode!==a)return null;var l=Fe;return l=Nn(t,t===rt?l:0),l===0?null:(M_(t,l,r),G_(t,dn()),t.callbackNode!=null&&t.callbackNode===a?K_.bind(null,t):null)}function Y_(t,r){if(eo())return null;M_(t,r,!0)}function VA(t){GA(function(){ut&6?vs(It,t):t()})}function Gd(){return Xs===0&&(Xs=jo()),Xs}function $_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ci(""+t)}function Q_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function UA(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=$_((h[Nt]||null).action),v=l.submitter;v&&(r=(r=v[Nt]||null)?$_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new Ra("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xs!==0){var C=v?Q_(h,v):new FormData(h);ed(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=v?Q_(h,v):new FormData(h),ed(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Kd=0;Kd<Hg.length;Kd++){var Yd=Hg[Kd],LA=Yd.toLowerCase(),xA=Yd[0].toUpperCase()+Yd.slice(1);Wn(LA,"on"+xA)}Wn(Ug,"onAnimationEnd"),Wn(Lg,"onAnimationIteration"),Wn(xg,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(tA,"onTransitionRun"),Wn(nA,"onTransitionStart"),Wn(iA,"onTransitionCancel"),Wn(zg,"onTransitionEnd"),mn("onMouseEnter",["mouseout","mouseover"]),mn("onMouseLeave",["mouseout","mouseover"]),mn("onPointerEnter",["pointerout","pointerover"]),mn("onPointerLeave",["pointerout","pointerover"]),vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function X_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],C=T.instance,V=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=V;try{d(h)}catch(Y){_c(Y)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(T=l[v],C=T.instance,V=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=V;try{d(h)}catch(Y){_c(Y)}h.currentTarget=null,d=C}}}}function Be(t,r){var a=r[Ts];a===void 0&&(a=r[Ts]=new Set);var l=t+"__bubble";a.has(l)||(W_(r,t,2,!1),a.add(l))}function $d(t,r,a){var l=0;r&&(l|=4),W_(a,t,l,r)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function Qd(t){if(!t[Mc]){t[Mc]=!0,Go.forEach(function(a){a!=="selectionchange"&&(zA.has(a)||$d(a,!1,t),$d(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Mc]||(r[Mc]=!0,$d("selectionchange",!1,r))}}function W_(t,r,a,l){switch(Ev(r)){case 2:var h=hw;break;case 8:h=fw;break;default:h=lm}a=h.bind(null,r,a,t),h=void 0,!Mn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Xd(t,r,a,l,h){var d=l;if(!(r&1)&&!(r&2)&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&(C=v.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;v=v.return}for(;T!==null;){if(v=Xn(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}T=T.parentNode}}l=l.return}xu(function(){var V=d,Y=wa(a),te=[];e:{var q=Bg.get(t);if(q!==void 0){var K=Ra,ye=t;switch(t){case"keypress":if(fi(a)===0)break e;case"keydown":case"keyup":K=ka;break;case"focusin":ye="focus",K=Na;break;case"focusout":ye="blur",K=Na;break;case"beforeblur":case"afterblur":K=Na;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=bf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Ku;break;case Ug:case Lg:case xg:K=Da;break;case zg:K=$u;break;case"scroll":case"scrollend":K=zu;break;case"wheel":K=Ma;break;case"copy":case"cut":case"paste":K=Oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=il;break;case"toggle":case"beforetoggle":K=Xu}var Ne=(r&4)!==0,mt=!Ne&&(t==="scroll"||t==="scrollend"),L=Ne?q!==null?q+"Capture":null:q;Ne=[];for(var P=V,B;P!==null;){var X=P;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||L===null||(X=Rs(P,L),X!=null&&Ne.push(Pl(P,X,B))),mt)break;P=P.return}0<Ne.length&&(q=new K(q,ye,null,a,Y),te.push({event:q,listeners:Ne}))}}if(!(r&7)){e:{if(q=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",q&&a!==kn&&(ye=a.relatedTarget||a.fromElement)&&(Xn(ye)||ye[Ui]))break e;if((K||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,K?(ye=a.relatedTarget||a.toElement,K=V,ye=ye?Xn(ye):null,ye!==null&&(mt=se(ye),Ne=ye.tag,ye!==mt||Ne!==5&&Ne!==27&&Ne!==6)&&(ye=null)):(K=null,ye=V),K!==ye)){if(Ne=Pn,X="onMouseLeave",L="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Ne=il,X="onPointerLeave",L="onPointerEnter",P="pointer"),mt=K==null?q:Dr(K),B=ye==null?q:Dr(ye),q=new Ne(X,P+"leave",K,a,Y),q.target=mt,q.relatedTarget=B,X=null,Xn(Y)===V&&(Ne=new Ne(L,P+"enter",ye,a,Y),Ne.target=B,Ne.relatedTarget=mt,X=Ne),mt=X,K&&ye)t:{for(Ne=K,L=ye,P=0,B=Ne;B;B=no(B))P++;for(B=0,X=L;X;X=no(X))B++;for(;0<P-B;)Ne=no(Ne),P--;for(;0<B-P;)L=no(L),B--;for(;P--;){if(Ne===L||L!==null&&Ne===L.alternate)break t;Ne=no(Ne),L=no(L)}Ne=null}else Ne=null;K!==null&&Z_(te,q,K,Ne,!1),ye!==null&&mt!==null&&Z_(te,mt,ye,Ne,!0)}}e:{if(q=V?Dr(V):window,K=q.nodeName&&q.nodeName.toLowerCase(),K==="select"||K==="input"&&q.type==="file")var ge=wg;else if(Ot(q))if(Rg)ge=WS;else{ge=QS;var Ve=$S}else K=q.nodeName,!K||K.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?V&&Xo(V.elementType)&&(ge=wg):ge=XS;if(ge&&(ge=ge(t,V))){Fi(te,ge,a,Y);break e}Ve&&Ve(t,q,V),t==="focusout"&&V&&q.type==="number"&&V.memoizedProps.value!=null&&Aa(q,"number",q.value)}switch(Ve=V?Dr(V):window,t){case"focusin":(Ot(Ve)||Ve.contentEditable==="true")&&(Pa=Ve,Cf=V,al=null);break;case"focusout":al=Cf=Pa=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,Pg(te,a,Y);break;case"selectionchange":if(eA)break;case"keydown":case"keyup":Pg(te,a,Y)}var Ee;if(pi)e:{switch(t){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else qe?F(t,a)&&(we="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(_&&a.locale!=="ko"&&(qe||we!=="onCompositionStart"?we==="onCompositionEnd"&&qe&&(Ee=Zo()):(hi=Y,Ur="value"in hi?hi.value:hi.textContent,qe=!0)),Ve=Pc(V,we),0<Ve.length&&(we=new tl(we,t,null,a,Y),te.push({event:we,listeners:Ve}),Ee?we.data=Ee:(Ee=oe(a),Ee!==null&&(we.data=Ee)))),(Ee=g?Dt(t,a):je(t,a))&&(we=Pc(V,"onBeforeInput"),0<we.length&&(Ve=new tl("onBeforeInput","beforeinput",null,a,Y),te.push({event:Ve,listeners:we}),Ve.data=Ee)),UA(te,t,V,a,Y)}X_(te,r)})}function Pl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Pc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Rs(t,a),h!=null&&l.unshift(Pl(t,h,d)),h=Rs(t,r),h!=null&&l.push(Pl(t,h,d))),t=t.return}return l}function no(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Z_(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,C=T.alternate,V=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||V===null||(C=V,h?(V=Rs(a,d),V!=null&&v.unshift(Pl(a,V,C))):h||(V=Rs(a,d),V!=null&&v.push(Pl(a,V,C)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var BA=/\r\n?/g,HA=/\u0000|\uFFFD/g;function J_(t){return(typeof t=="string"?t:""+t).replace(BA,`
`).replace(HA,"")}function ev(t,r){return r=J_(r),J_(t)===r}function Vc(){}function nt(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||On(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&On(t,""+l);break;case"className":Mr(t,"class",l);break;case"tabIndex":Mr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Mr(t,a,l);break;case"style":Lu(t,l,d);break;case"data":if(r!=="object"){Mr(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ci(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&nt(t,r,"name",h.name,h,null),nt(t,r,"formEncType",h.formEncType,h,null),nt(t,r,"formMethod",h.formMethod,h,null),nt(t,r,"formTarget",h.formTarget,h,null)):(nt(t,r,"encType",h.encType,h,null),nt(t,r,"method",h.method,h,null),nt(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ci(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Vc);break;case"onScroll":l!=null&&Be("scroll",t);break;case"onScrollEnd":l!=null&&Be("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ci(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Be("beforetoggle",t),Be("toggle",t),kr(t,"popover",l);break;case"xlinkActuate":Dn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Dn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Dn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Dn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Dn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Dn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Dn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Dn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Dn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":kr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ef.get(a)||a,kr(t,a,l))}}function Wd(t,r,a,l,h,d){switch(a){case"style":Lu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?On(t,l):(typeof l=="number"||typeof l=="bigint")&&On(t,""+l);break;case"onScroll":l!=null&&Be("scroll",t);break;case"onScrollEnd":l!=null&&Be("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ba.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[Nt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):kr(t,a,l)}}}function Qt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",t),Be("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(t,r,d,v,a,null)}}h&&nt(t,r,"srcSet",a.srcSet,a,null),l&&nt(t,r,"src",a.src,a,null);return;case"input":Be("invalid",t);var T=d=v=h=null,C=null,V=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":C=Y;break;case"defaultChecked":V=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:nt(t,r,l,Y,a,null)}}As(t,d,T,C,V,v,h,!1),Ss(t);return;case"select":Be("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:nt(t,r,h,T,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Ke(t,!!l,r,!1):a!=null&&Ke(t,!!l,a,!0);return;case"textarea":Be("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:nt(t,r,v,T,a,null)}Vr(t,l,h,d),Ss(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(t,r,C,l,a,null)}return;case"dialog":Be("cancel",t),Be("close",t);break;case"iframe":case"object":Be("load",t);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Be(Ml[l],t);break;case"image":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"embed":case"source":case"link":Be("error",t),Be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(t,r,V,l,a,null)}return;default:if(Xo(r)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Wd(t,r,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&nt(t,r,T,l,a,null))}function qA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,C=null,V=null,Y=null;for(K in a){var te=a[K];if(a.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":C=te;default:l.hasOwnProperty(K)||nt(t,r,K,null,l,te)}}for(var q in l){var K=l[q];if(te=a[q],l.hasOwnProperty(q)&&(K!=null||te!=null))switch(q){case"type":d=K;break;case"name":h=K;break;case"checked":V=K;break;case"defaultChecked":Y=K;break;case"value":v=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==te&&nt(t,r,q,K,l,te)}}Pr(t,v,T,C,V,Y,d,h);return;case"select":K=v=T=q=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":K=C;default:l.hasOwnProperty(d)||nt(t,r,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==C&&nt(t,r,h,d,l,C)}r=T,a=v,l=K,q!=null?Ke(t,!!a,q,!1):!!l!=!!a&&(r!=null?Ke(t,!!a,r,!0):Ke(t,!!a,a?[]:"",!1));return;case"textarea":K=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:nt(t,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&nt(t,r,v,h,l,d)}ws(t,q,K);return;case"option":for(var ye in a)if(q=a[ye],a.hasOwnProperty(ye)&&q!=null&&!l.hasOwnProperty(ye))switch(ye){case"selected":t.selected=!1;break;default:nt(t,r,ye,null,l,q)}for(C in l)if(q=l[C],K=a[C],l.hasOwnProperty(C)&&q!==K&&(q!=null||K!=null))switch(C){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:nt(t,r,C,q,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in a)q=a[Ne],a.hasOwnProperty(Ne)&&q!=null&&!l.hasOwnProperty(Ne)&&nt(t,r,Ne,null,l,q);for(V in l)if(q=l[V],K=a[V],l.hasOwnProperty(V)&&q!==K&&(q!=null||K!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:nt(t,r,V,q,l,K)}return;default:if(Xo(r)){for(var mt in a)q=a[mt],a.hasOwnProperty(mt)&&q!==void 0&&!l.hasOwnProperty(mt)&&Wd(t,r,mt,void 0,l,q);for(Y in l)q=l[Y],K=a[Y],!l.hasOwnProperty(Y)||q===K||q===void 0&&K===void 0||Wd(t,r,Y,q,l,K);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&nt(t,r,L,null,l,q);for(te in l)q=l[te],K=a[te],!l.hasOwnProperty(te)||q===K||q==null&&K==null||nt(t,r,te,q,l,K)}var Zd=null,Jd=null;function Uc(t){return t.nodeType===9?t:t.ownerDocument}function tv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function em(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var tm=null;function jA(){var t=window.event;return t&&t.type==="popstate"?t===tm?!1:(tm=t,!0):(tm=null,!1)}var iv=typeof setTimeout=="function"?setTimeout:void 0,FA=typeof clearTimeout=="function"?clearTimeout:void 0,rv=typeof Promise=="function"?Promise:void 0,GA=typeof queueMicrotask=="function"?queueMicrotask:typeof rv<"u"?function(t){return rv.resolve(null).then(t).catch(KA)}:iv;function KA(t){setTimeout(function(){throw t})}function nm(t,r){var a=r,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),ql(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);ql(r)}function im(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),bs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function YA(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Nr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ei(t.nextSibling),t===null)break}return null}function $A(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ei(t.nextSibling),t===null))return null;return t}function ei(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}function sv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function av(t,r,a){switch(r=Uc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Fn=new Map,ov=new Set;function Lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var sr=ue.d;ue.d={f:QA,r:XA,D:WA,C:ZA,L:JA,m:ew,X:nw,S:tw,M:iw};function QA(){var t=sr.f(),r=Nc();return t||r}function XA(t){var r=Li(t);r!==null&&r.tag===5&&r.type==="form"?Py(r):sr.r(t)}var io=typeof document>"u"?null:document;function lv(t,r,a){var l=io;if(l&&typeof r=="string"&&r){var h=ht(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ov.has(h)||(ov.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Qt(r,"link",t),ot(r),l.head.appendChild(r)))}}function WA(t){sr.D(t),lv("dns-prefetch",t,null)}function ZA(t,r){sr.C(t,r),lv("preconnect",t,r)}function JA(t,r,a){sr.L(t,r,a);var l=io;if(l&&t&&r){var h='link[rel="preload"][as="'+ht(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ht(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ht(a.imageSizes)+'"]')):h+='[href="'+ht(t)+'"]';var d=h;switch(r){case"style":d=ro(t);break;case"script":d=so(t)}Fn.has(d)||(t=N({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Fn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Vl(d))||r==="script"&&l.querySelector(Ul(d))||(r=l.createElement("link"),Qt(r,"link",t),ot(r),l.head.appendChild(r)))}}function ew(t,r){sr.m(t,r);var a=io;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+ht(l)+'"][href="'+ht(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=so(t)}if(!Fn.has(d)&&(t=N({rel:"modulepreload",href:t},r),Fn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(d)))return}l=a.createElement("link"),Qt(l,"link",t),ot(l),a.head.appendChild(l)}}}function tw(t,r,a){sr.S(t,r,a);var l=io;if(l&&t){var h=Or(l).hoistableStyles,d=ro(t);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Vl(d)))T.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Fn.get(d))&&rm(t,a);var C=v=l.createElement("link");ot(C),Qt(C,"link",t),C._p=new Promise(function(V,Y){C.onload=V,C.onerror=Y}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,xc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function nw(t,r){sr.X(t,r);var a=io;if(a&&t){var l=Or(a).hoistableScripts,h=so(t),d=l.get(h);d||(d=a.querySelector(Ul(h)),d||(t=N({src:t,async:!0},r),(r=Fn.get(h))&&sm(t,r),d=a.createElement("script"),ot(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function iw(t,r){sr.M(t,r);var a=io;if(a&&t){var l=Or(a).hoistableScripts,h=so(t),d=l.get(h);d||(d=a.querySelector(Ul(h)),d||(t=N({src:t,async:!0,type:"module"},r),(r=Fn.get(h))&&sm(t,r),d=a.createElement("script"),ot(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function uv(t,r,a,l){var h=(h=In.current)?Lc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ro(a.href),a=Or(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ro(a.href);var d=Or(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Vl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Fn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(t,a),d||rw(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=so(a),a=Or(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ro(t){return'href="'+ht(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function cv(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function rw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Qt(r,"link",a),ot(r),t.head.appendChild(r))}function so(t){return'[src="'+ht(t)+'"]'}function Ul(t){return"script[async]"+t}function hv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+ht(a.href)+'"]');if(l)return r.instance=l,ot(l),l;var h=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ot(l),Qt(l,"style",h),xc(l,a.precedence,t),r.instance=l;case"stylesheet":h=ro(a.href);var d=t.querySelector(Vl(h));if(d)return r.state.loading|=4,r.instance=d,ot(d),d;l=cv(a),(h=Fn.get(h))&&rm(l,h),d=(t.ownerDocument||t).createElement("link"),ot(d);var v=d;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Qt(d,"link",l),r.state.loading|=4,xc(d,a.precedence,t),r.instance=d;case"script":return d=so(a.src),(h=t.querySelector(Ul(d)))?(r.instance=h,ot(h),h):(l=a,(h=Fn.get(d))&&(l=N({},a),sm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ot(h),Qt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&!(r.state.loading&4)&&(l=r.instance,r.state.loading|=4,xc(l,a.precedence,t));return r.instance}function xc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function rm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function sm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var zc=null;function fv(t,r,a){if(zc===null){var l=new Map,h=zc=new Map;h.set(a,l)}else h=zc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Nr]||d[xt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function dv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function sw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function mv(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Ll=null;function aw(){}function ow(t,r,a){if(Ll===null)throw Error(s(475));var l=Ll;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var h=ro(a.href),d=t.querySelector(Vl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Bc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,ot(d);return}d=t.ownerDocument||t,a=cv(a),(h=Fn.get(h))&&rm(a,h),d=d.createElement("link"),ot(d);var v=d;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Qt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(l.count++,r=Bc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function lw(){if(Ll===null)throw Error(s(475));var t=Ll;return t.stylesheets&&t.count===0&&am(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&am(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Bc(){if(this.count--,this.count===0){if(this.stylesheets)am(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hc=null;function am(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hc=new Map,r.forEach(uw,t),Hc=null,Bc.call(t))}function uw(t,r){if(!(r.state.loading&4)){var a=Hc.get(t);if(a)var l=a.get(null);else{a=new Map,Hc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Bc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var xl={$$typeof:M,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function cw(t,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ea(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.hiddenUpdates=Ea(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function pv(t,r,a,l,h,d,v,T,C,V,Y,te){return t=new cw(t,r,a,v,T,C,V,te),r=1,d===!0&&(r|=24),d=qn(3,null,null,r),t.current=d,d.stateNode=t,r=xf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},_d(d),t}function gv(t){return t?(t=La,t):La}function yv(t,r,a,l,h,d){h=gv(h),l.context===null?l.context=h:l.pendingContext=h,l=Fr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Gr(t,l,r),a!==null&&(hn(a,t,r),Tl(a,t,r))}function _v(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function om(t,r){_v(t,r),(t=t.alternate)&&_v(t,r)}function vv(t){if(t.tag===13){var r=Lr(t,67108864);r!==null&&hn(r,t,67108864),om(t,67108864)}}var qc=!0;function hw(t,r,a,l){var h=A.T;A.T=null;var d=ue.p;try{ue.p=2,lm(t,r,a,l)}finally{ue.p=d,A.T=h}}function fw(t,r,a,l){var h=A.T;A.T=null;var d=ue.p;try{ue.p=8,lm(t,r,a,l)}finally{ue.p=d,A.T=h}}function lm(t,r,a,l){if(qc){var h=um(l);if(h===null)Xd(t,r,l,jc,a),Tv(t,l);else if(mw(h,t,r,a,l))l.stopPropagation();else if(Tv(t,l),r&4&&-1<dw.indexOf(t)){for(;h!==null;){var d=Li(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Qn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-on(v);T.entanglements[1]|=C,v&=~C}Ti(d),!(ut&6)&&(Rc=dn()+500,kl(0))}}break;case 13:T=Lr(d,2),T!==null&&hn(T,d,2),Nc(),om(d,2)}if(d=um(l),d===null&&Xd(t,r,l,jc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Xd(t,r,l,null,a)}}function um(t){return t=wa(t),cm(t)}var jc=null;function cm(t){if(jc=null,t=Xn(t),t!==null){var r=se(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=Te(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return jc=t,null}function Ev(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Iu()){case It:return 2;case Lt:return 8;case Vi:case Nu:return 32;case Bo:return 268435456;default:return 32}default:return 32}}var hm=!1,Zr=null,Jr=null,es=null,zl=new Map,Bl=new Map,ts=[],dw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tv(t,r){switch(t){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":zl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(r.pointerId)}}function Hl(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Li(r),r!==null&&vv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function mw(t,r,a,l,h){switch(r){case"focusin":return Zr=Hl(Zr,t,r,a,l,h),!0;case"dragenter":return Jr=Hl(Jr,t,r,a,l,h),!0;case"mouseover":return es=Hl(es,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return zl.set(d,Hl(zl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Bl.set(d,Hl(Bl.get(d)||null,t,r,a,l,h)),!0}return!1}function bv(t){var r=Xn(t.target);if(r!==null){var a=se(r);if(a!==null){if(r=a.tag,r===13){if(r=Te(a),r!==null){t.blockedOn=r,Ir(t.priority,function(){if(a.tag===13){var l=wn(),h=Lr(a,l);h!==null&&hn(h,a,l),om(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=um(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);kn=l,a.target.dispatchEvent(l),kn=null}else return r=Li(a),r!==null&&vv(r),t.blockedOn=a,!1;r.shift()}return!0}function Sv(t,r,a){Fc(t)&&a.delete(r)}function pw(){hm=!1,Zr!==null&&Fc(Zr)&&(Zr=null),Jr!==null&&Fc(Jr)&&(Jr=null),es!==null&&Fc(es)&&(es=null),zl.forEach(Sv),Bl.forEach(Sv)}function Gc(t,r){t.blockedOn===r&&(t.blockedOn=null,hm||(hm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,pw)))}var Kc=null;function Av(t){Kc!==t&&(Kc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Kc===t&&(Kc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(cm(l||a)===null)continue;break}var d=Li(a);d!==null&&(t.splice(r,3),r-=3,ed(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ql(t){function r(C){return Gc(C,t)}Zr!==null&&Gc(Zr,t),Jr!==null&&Gc(Jr,t),es!==null&&Gc(es,t),zl.forEach(r),Bl.forEach(r);for(var a=0;a<ts.length;a++){var l=ts[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ts.length&&(a=ts[0],a.blockedOn===null);)bv(a),a.blockedOn===null&&ts.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Nt]||null;if(typeof d=="function")v||Av(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Nt]||null)T=v.formAction;else if(cm(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Av(a)}}}function fm(t){this._internalRoot=t}Yc.prototype.render=fm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=wn();yv(a,l,t,r,null,null)},Yc.prototype.unmount=fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;t.tag===0&&eo(),yv(t.current,2,null,t,null,null),Nc(),r[Ui]=null}};function Yc(t){this._internalRoot=t}Yc.prototype.unstable_scheduleHydration=function(t){if(t){var r=Pu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ts.length&&r!==0&&r<ts[a].priority;a++);ts.splice(a,0,t),a===0&&bv(t)}};var wv=e.version;if(wv!=="19.0.0")throw Error(s(527,wv,"19.0.0"));ue.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=J(r),t=t!==null?he(t):null,t=t===null?null:t.stateNode,t};var gw={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Xn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{br=$c.inject(gw),Jt=$c}catch{}}return jl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=qy,d=jy,v=Fy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=pv(t,1,!1,null,null,a,l,h,d,v,T,null),t[Ui]=r.current,Qd(t.nodeType===8?t.parentNode:t),new fm(r)},jl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=qy,v=jy,T=Fy,C=null,V=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(V=a.formState)),r=pv(t,1,!0,r,a??null,l,h,d,v,T,C,V),r.context=gv(null),a=r.current,l=wn(),h=Fr(l),h.callback=null,Gr(a,h,l),r.current.lanes=l,Et(r,l),Ti(r),t[Ui]=r.current,Qd(t),new Yc(r)},jl.version="19.0.0",jl}var Mv;function ww(){if(Mv)return mm.exports;Mv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mm.exports=Aw(),mm.exports}var Rw=ww(),Pv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Cw=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},ME={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let I=(m&15)<<2|y>>6,M=y&63;p||(M=64,f||(I=64)),s.push(n[E],n[w],n[I],n[M])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(kE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Cw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||w==null)throw new Iw;const I=u<<2|m>>4;if(s.push(I),y!==64){const M=m<<4&240|y>>2;if(s.push(M),w!==64){const H=y<<6&192|w;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Iw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nw=function(i){const e=kE(i);return ME.encodeByteArray(e,!0)},vh=function(i){return Nw(i).replace(/\./g,"")},PE=function(i){try{return ME.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=()=>Dw().__FIREBASE_DEFAULTS__,kw=()=>{if(typeof process>"u"||typeof Pv>"u")return;const i=Pv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Mw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&PE(i[1]);return e&&JSON.parse(e)},Fh=()=>{try{return Ow()||kw()||Mw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},VE=i=>{var e,n;return(n=(e=Fh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},UE=i=>{const e=VE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},LE=()=>{var i;return(i=Fh())===null||i===void 0?void 0:i.config},xE=i=>{var e;return(e=Fh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[vh(JSON.stringify(n)),vh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function Uw(){var i;const e=(i=Fh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function zw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bw(){const i=an();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Hw(){return!Uw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qw(){try{return typeof indexedDB=="object"}catch{return!1}}function jw(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="FirebaseError";class ki extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Fw,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yu.prototype.create)}}class yu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Gw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ki(o,m,s)}}function Gw(i,e){return i.replace(Kw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Kw=/\{\$([^}]+)}/g;function Yw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Eh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Vv(u)&&Vv(f)){if(!Eh(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Vv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Kl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Yl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function $w(i,e){const n=new Qw(i,e);return n.subscribe.bind(n)}class Qw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Xw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=_m),o.error===void 0&&(o.error=_m),o.complete===void 0&&(o.complete=_m);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xw(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function _m(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(i){return i&&i._delegate?i._delegate:i}class fs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Pw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jw(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Zw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zw(i){return i===Ws?void 0:i}function Jw(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ww(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(xe||(xe={}));const tR={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},nR=xe.INFO,iR={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},rR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=iR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gp{constructor(e){this.name=e,this._logLevel=nR,this._logHandler=rR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const sR=(i,e)=>e.some(n=>i instanceof n);let Uv,Lv;function aR(){return Uv||(Uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oR(){return Lv||(Lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BE=new WeakMap,Um=new WeakMap,HE=new WeakMap,vm=new WeakMap,yp=new WeakMap;function lR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(ls(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&BE.set(n,i)}).catch(()=>{}),yp.set(e,i),e}function uR(i){if(Um.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Um.set(i,e)}let Lm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Um.get(i);if(e==="objectStoreNames")return i.objectStoreNames||HE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function cR(i){Lm=i(Lm)}function hR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Em(this),e,...n);return HE.set(s,e.sort?e.sort():[e]),ls(s)}:oR().includes(i)?function(...e){return i.apply(Em(this),e),ls(BE.get(this))}:function(...e){return ls(i.apply(Em(this),e))}}function fR(i){return typeof i=="function"?hR(i):(i instanceof IDBTransaction&&uR(i),sR(i,aR())?new Proxy(i,Lm):i)}function ls(i){if(i instanceof IDBRequest)return lR(i);if(vm.has(i))return vm.get(i);const e=fR(i);return e!==i&&(vm.set(i,e),yp.set(e,i)),e}const Em=i=>yp.get(i);function dR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=ls(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ls(f.result),p.oldVersion,p.newVersion,ls(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const mR=["get","getKey","getAll","getAllKeys","count"],pR=["put","add","delete","clear"],Tm=new Map;function xv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Tm.get(e))return Tm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=pR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||mR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Tm.set(e,u),u}cR(i=>({...i,get:(e,n,s)=>xv(e,n)||i.get(e,n,s),has:(e,n)=>!!xv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function yR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xm="@firebase/app",zv="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new gp("@firebase/app"),_R="@firebase/app-compat",vR="@firebase/analytics-compat",ER="@firebase/analytics",TR="@firebase/app-check-compat",bR="@firebase/app-check",SR="@firebase/auth",AR="@firebase/auth-compat",wR="@firebase/database",RR="@firebase/data-connect",CR="@firebase/database-compat",IR="@firebase/functions",NR="@firebase/functions-compat",DR="@firebase/installations",OR="@firebase/installations-compat",kR="@firebase/messaging",MR="@firebase/messaging-compat",PR="@firebase/performance",VR="@firebase/performance-compat",UR="@firebase/remote-config",LR="@firebase/remote-config-compat",xR="@firebase/storage",zR="@firebase/storage-compat",BR="@firebase/firestore",HR="@firebase/vertexai",qR="@firebase/firestore-compat",jR="firebase",FR="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="[DEFAULT]",GR={[xm]:"fire-core",[_R]:"fire-core-compat",[ER]:"fire-analytics",[vR]:"fire-analytics-compat",[bR]:"fire-app-check",[TR]:"fire-app-check-compat",[SR]:"fire-auth",[AR]:"fire-auth-compat",[wR]:"fire-rtdb",[RR]:"fire-data-connect",[CR]:"fire-rtdb-compat",[IR]:"fire-fn",[NR]:"fire-fn-compat",[DR]:"fire-iid",[OR]:"fire-iid-compat",[kR]:"fire-fcm",[MR]:"fire-fcm-compat",[PR]:"fire-perf",[VR]:"fire-perf-compat",[UR]:"fire-rc",[LR]:"fire-rc-compat",[xR]:"fire-gcs",[zR]:"fire-gcs-compat",[BR]:"fire-fst",[qR]:"fire-fst-compat",[HR]:"fire-vertex","fire-js":"fire-js",[jR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Map,KR=new Map,Bm=new Map;function Bv(i,e){try{i.container.addComponent(e)}catch(n){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function sa(i){const e=i.name;if(Bm.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;Bm.set(e,i);for(const n of Th.values())Bv(n,i);for(const n of KR.values())Bv(n,i);return!0}function Gh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function yn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new yu("app","Firebase",YR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=FR;function qE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:zm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw us.create("bad-app-name",{appName:String(o)});if(n||(n=LE()),!n)throw us.create("no-options");const u=Th.get(o);if(u){if(Eh(n,u.options)&&Eh(s,u.config))return u;throw us.create("duplicate-app",{appName:o})}const f=new eR(o);for(const p of Bm.values())f.addComponent(p);const m=new $R(n,s,f);return Th.set(o,m),m}function _p(i=zm){const e=Th.get(i);if(!e&&i===zm&&LE())return qE();if(!e)throw us.create("no-app",{appName:i});return e}function Ri(i,e,n){var s;let o=(s=GR[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(m.join(" "));return}sa(new fs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="firebase-heartbeat-database",XR=1,su="firebase-heartbeat-store";let bm=null;function jE(){return bm||(bm=dR(QR,XR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(su)}catch(n){console.warn(n)}}}}).catch(i=>{throw us.create("idb-open",{originalErrorMessage:i.message})})),bm}async function WR(i){try{const n=(await jE()).transaction(su),s=await n.objectStore(su).get(FE(i));return await n.done,s}catch(e){if(e instanceof ki)pr.warn(e.message);else{const n=us.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pr.warn(n.message)}}}async function Hv(i,e){try{const s=(await jE()).transaction(su,"readwrite");await s.objectStore(su).put(e,FE(i)),await s.done}catch(n){if(n instanceof ki)pr.warn(n.message);else{const s=us.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pr.warn(s.message)}}}function FE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=1024,JR=30;class e1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new n1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=qv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>JR){const f=i1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){pr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qv(),{heartbeatsToSend:s,unsentEntries:o}=t1(this._heartbeatsCache.heartbeats),u=vh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return pr.warn(n),""}}}function qv(){return new Date().toISOString().substring(0,10)}function t1(i,e=ZR){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),jv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),jv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class n1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qw()?jw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Hv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function jv(i){return vh(JSON.stringify({version:2,heartbeats:i})).length}function i1(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(i){sa(new fs("platform-logger",e=>new gR(e),"PRIVATE")),sa(new fs("heartbeat",e=>new e1(e),"PRIVATE")),Ri(xm,zv,i),Ri(xm,zv,"esm2017"),Ri("fire-js","")}r1("");var s1="firebase",a1="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ri(s1,a1,"app");var _n=function(){return _n=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},_n.apply(this,arguments)};function vp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function bh(i,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,u;s<o;s++)(u||!(s in e))&&(u||(u=Array.prototype.slice.call(e,0,s)),u[s]=e[s]);return i.concat(u||Array.prototype.slice.call(e))}function GE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const o1=GE,KE=new yu("auth","Firebase",GE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new gp("@firebase/auth");function l1(i,...e){Sh.logLevel<=xe.WARN&&Sh.warn(`Auth (${ha}): ${i}`,...e)}function sh(i,...e){Sh.logLevel<=xe.ERROR&&Sh.error(`Auth (${ha}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(i,...e){throw Tp(i,...e)}function ii(i,...e){return Tp(i,...e)}function Ep(i,e,n){const s=Object.assign(Object.assign({},o1()),{[e]:n});return new yu("auth","Firebase",s).create(e,{appName:i.name})}function dr(i){return Ep(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function u1(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Yn(i,"argument-error"),Ep(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return KE.create(i,...e)}function Re(i,e,...n){if(!i)throw Tp(e,...n)}function cr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw sh(e),new Error(e)}function gr(i,e){i||cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function YE(){return Fv()==="http:"||Fv()==="https:"}function Fv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YE()||xw()||"connection"in navigator)?navigator.onLine:!0}function h1(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,gr(n>e,"Short delay should be less than long delay!"),this.isMobile=Vw()||zw()}get(){return c1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(i,e){gr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=new vu(3e4,6e4);function Mi(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function si(i,e,n,s,o={}){return QE(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=_u(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y=Object.assign({method:e,headers:p},u);return Lw()||(y.referrerPolicy="no-referrer"),$E.fetch()(XE(i,i.config.apiHost,n,m),y)})}async function QE(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},f1),e);try{const o=new p1(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Qc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Qc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Qc(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Ep(i,E,y);Yn(i,E)}}catch(o){if(o instanceof ki)throw o;Yn(i,"network-request-failed",{message:String(o)})}}async function Eu(i,e,n,s,o={}){const u=await si(i,e,n,s,o);return"mfaPendingCredential"in u&&Yn(i,"multi-factor-auth-required",{_serverResponse:u}),u}function XE(i,e,n,s){const o=`${e}${n}?${s}`;return i.config.emulator?bp(i.config,o):`${i.config.apiScheme}://${o}`}function m1(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class p1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ii(this.auth,"network-request-failed")),d1.get())})}}function Qc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ii(i,e,s);return o.customData._tokenResponse=n,o}function Gv(i){return i!==void 0&&i.enterprise!==void 0}class g1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return m1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function y1(i,e){return si(i,"GET","/v2/recaptchaConfig",Mi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(i,e){return si(i,"POST","/v1/accounts:delete",e)}async function WE(i,e){return si(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function v1(i,e=!1){const n=gt(i),s=await n.getIdToken(e),o=Sp(s);Re(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Zl(Sm(o.auth_time)),issuedAtTime:Zl(Sm(o.iat)),expirationTime:Zl(Sm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Sm(i){return Number(i)*1e3}function Sp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=PE(n);return o?JSON.parse(o):(sh("Failed to decode base64 JWT payload"),null)}catch(o){return sh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Kv(i){const e=Sp(i);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ki&&E1(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function E1({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await vo(i,WE(n,{idToken:s}));Re(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?ZE(u.providerUserInfo):[],m=S1(i.providerData,f),p=i.isAnonymous,y=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Hm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,w)}async function b1(i){const e=gt(i);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function S1(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ZE(i){return i.map(e=>{var{providerId:n}=e,s=vp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(i,e){const n=await QE(i,{},async()=>{const s=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=XE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",$E.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function w1(i,e){return si(i,"POST","/v2/accounts:revokeToken",Mi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Kv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=Kv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await A1(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new mo;return s&&(Re(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Re(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Re(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(i,e){Re(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class hr{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=vp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new T1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Hm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await vo(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return v1(this,e)}reload(){return b1(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await wh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yn(this.auth.app))return Promise.reject(dr(this.auth));const e=await this.getIdToken();return await vo(this,_1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,y,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,I=(o=n.email)!==null&&o!==void 0?o:void 0,M=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,H=(f=n.photoURL)!==null&&f!==void 0?f:void 0,G=(m=n.tenantId)!==null&&m!==void 0?m:void 0,j=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,ne=(y=n.createdAt)!==null&&y!==void 0?y:void 0,Q=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ee,emailVerified:W,isAnonymous:$,providerData:ie,stsTokenManager:R}=n;Re(ee&&R,e,"internal-error");const S=mo.fromJSON(this.name,R);Re(typeof ee=="string",e,"internal-error"),is(w,e.name),is(I,e.name),Re(typeof W=="boolean",e,"internal-error"),Re(typeof $=="boolean",e,"internal-error"),is(M,e.name),is(H,e.name),is(G,e.name),is(j,e.name),is(ne,e.name),is(Q,e.name);const A=new hr({uid:ee,auth:e,email:I,emailVerified:W,displayName:w,isAnonymous:$,photoURL:H,phoneNumber:M,tenantId:G,stsTokenManager:S,createdAt:ne,lastLoginAt:Q});return ie&&Array.isArray(ie)&&(A.providerData=ie.map(N=>Object.assign({},N))),j&&(A._redirectEventId=j),A}static async _fromIdTokenResponse(e,n,s=!1){const o=new mo;o.updateFromServerResponse(n);const u=new hr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await wh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Re(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ZE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new mo;m.updateFromIdToken(s);const p=new hr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=new Map;function fr(i){gr(i instanceof Function,"Expected a class definition");let e=Yv.get(i);return e?(gr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Yv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JE.type="NONE";const $v=JE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(i,e,n){return`firebase:${i}:${e}:${n}`}class po{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=ah("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?hr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new po(fr($v),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||fr($v);const f=ah(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){const w=hr._fromJSON(e,E);y!==u&&(m=w),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new po(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new po(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sT(e))return"Blackberry";if(aT(e))return"Webos";if(tT(e))return"Safari";if((e.includes("chrome/")||nT(e))&&!e.includes("edge/"))return"Chrome";if(rT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function eT(i=an()){return/firefox\//i.test(i)}function tT(i=an()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nT(i=an()){return/crios\//i.test(i)}function iT(i=an()){return/iemobile/i.test(i)}function rT(i=an()){return/android/i.test(i)}function sT(i=an()){return/blackberry/i.test(i)}function aT(i=an()){return/webos/i.test(i)}function Ap(i=an()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function R1(i=an()){var e;return Ap(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function C1(){return Bw()&&document.documentMode===10}function oT(i=an()){return Ap(i)||rT(i)||aT(i)||sT(i)||/windows phone/i.test(i)||iT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(i,e=[]){let n;switch(i){case"Browser":n=Qv(an());break;case"Worker":n=`${Qv(an())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ha}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N1(i,e={}){return si(i,"GET","/v2/passwordPolicy",Mi(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=6;class O1{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:D1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xv(this),this.idTokenSubscription=new Xv(this),this.beforeStateQueue=new I1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await po.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await WE(this,{idToken:e}),s=await hr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=h1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yn(this.app))return Promise.reject(dr(this));const n=e?gt(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yn(this.app)?Promise.reject(dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yn(this.app)?Promise.reject(dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await N1(this),n=new O1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await w1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fr(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&l1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function vr(i){return gt(i)}class Xv{constructor(e){this.auth=e,this.observer=null,this.addObserver=$w(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M1(i){Kh=i}function uT(i){return Kh.loadJS(i)}function P1(){return Kh.recaptchaEnterpriseScript}function V1(){return Kh.gapiScript}function U1(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class L1{constructor(){this.enterprise=new x1}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class x1{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const z1="recaptcha-enterprise",cT="NO_RECAPTCHA";class B1{constructor(e){this.type=z1,this.auth=vr(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{y1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new g1(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Gv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(cT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new L1().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Gv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=P1();p.length!==0&&(p+=m),uT(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function Wv(i,e,n,s=!1,o=!1){const u=new B1(i);let f;if(o)f=cT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Rh(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Wv(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Wv(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(i,e){const n=Gh(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Eh(u,e??{}))return o;Yn(o,"already-initialized")}return n.initialize({options:e})}function q1(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(fr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function j1(i,e,n){const s=vr(i);Re(s._canInitEmulator,s,"emulator-config-failed"),Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=hT(e),{host:f,port:m}=F1(e),p=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${f}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),G1()}function hT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function F1(i){const e=hT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Zv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Zv(f)}}}function Zv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function G1(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,n){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}}async function K1(i,e){return si(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y1(i,e){return Eu(i,"POST","/v1/accounts:signInWithPassword",Mi(i,e))}async function fT(i,e){return si(i,"POST","/v1/accounts:sendOobCode",Mi(i,e))}async function $1(i,e){return fT(i,e)}async function Q1(i,e){return fT(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1(i,e){return Eu(i,"POST","/v1/accounts:signInWithEmailLink",Mi(i,e))}async function W1(i,e){return Eu(i,"POST","/v1/accounts:signInWithEmailLink",Mi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends wp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new au(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rh(e,n,"signInWithPassword",Y1);case"emailLink":return X1(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rh(e,s,"signUpPassword",K1);case"emailLink":return W1(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(i,e){return Eu(i,"POST","/v1/accounts:signInWithIdp",Mi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="http://localhost";class aa extends wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=vp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new aa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return go(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,go(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,go(e,n)}buildRequest(){const e={requestUri:Z1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_u(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eC(i){const e=Kl(Yl(i)).link,n=e?Kl(Yl(e)).deep_link_id:null,s=Kl(Yl(i)).deep_link_id;return(s?Kl(Yl(s)).link:null)||s||n||e||i}class Rp{constructor(e){var n,s,o,u,f,m;const p=Kl(Yl(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,w=J1((o=p.mode)!==null&&o!==void 0?o:null);Re(y&&E&&w,"argument-error"),this.apiKey=y,this.operation=w,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=eC(e);try{return new Rp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Rp.parseLink(n);return Re(s,"argument-error"),au._fromEmailAndCode(e,s.code,s.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends Cp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends Tu{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return aa._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return lr.credential(n,s)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Tu{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Tu{constructor(){super("twitter.com")}static credential(e,n){return aa._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ur.credential(n,s)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(i,e){return Eu(i,"POST","/v1/accounts:signUp",Mi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await hr._fromIdTokenResponse(e,s,o),f=Jv(s);return new oa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Jv(s);return new oa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Jv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends ki{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ch(e,n,s,o)}}function dT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(i,u,e,s):u})}async function nC(i,e,n=!1){const s=await vo(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return oa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(i,e,n=!1){const{auth:s}=i;if(yn(s.app))return Promise.reject(dr(s));const o="reauthenticate";try{const u=await vo(i,dT(s,o,e,i),n);Re(u.idToken,s,"internal-error");const f=Sp(u.idToken);Re(f,s,"internal-error");const{sub:m}=f;return Re(i.uid===m,s,"user-mismatch"),oa._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Yn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mT(i,e,n=!1){if(yn(i.app))return Promise.reject(dr(i));const s="signIn",o=await dT(i,s,e),u=await oa._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function rC(i,e){return mT(vr(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pT(i){const e=vr(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gT(i,e,n){const s=vr(i);await Rh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Q1)}async function e0(i,e,n){if(yn(i.app))return Promise.reject(dr(i));const s=vr(i),f=await Rh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&pT(i),p}),m=await oa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function t0(i,e,n){return yn(i.app)?Promise.reject(dr(i)):rC(gt(i),ko.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&pT(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(i,e){return si(i,"POST","/v1/accounts:createAuthUri",Mi(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(i,e){const n=YE()?Ah():"http://localhost",s={identifier:e,continueUri:n},{signinMethods:o}=await sC(gt(i),s);return o||[]}async function n0(i,e){const n=gt(i),o={requestType:"VERIFY_EMAIL",idToken:await i.getIdToken()},{email:u}=await $1(n.auth,o);u!==i.email&&await i.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(i,e){return si(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=gt(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await vo(s,oC(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function uC(i,e,n,s){return gt(i).onIdTokenChanged(e,n,s)}function cC(i,e,n){return gt(i).beforeAuthStateChanged(e,n)}function hC(i,e,n,s){return gt(i).onAuthStateChanged(e,n,s)}function yT(i){return gt(i).signOut()}async function fC(i){return gt(i).delete()}const Ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=1e3,mC=10;class vT extends _T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);C1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,mC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},dC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vT.type="LOCAL";const pC=vT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET extends _T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ET.type="SESSION";const TT=ET;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Yh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await gC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Ip("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const I=w;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(I.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function _C(i){Ci().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function vC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function TC(){return bT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="firebaseLocalStorageDb",bC=1,Nh="firebaseLocalStorage",AT="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $h(i,e){return i.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function SC(){const i=indexedDB.deleteDatabase(ST);return new bu(i).toPromise()}function qm(){const i=indexedDB.open(ST,bC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Nh,{keyPath:AT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Nh)?e(s):(s.close(),await SC(),e(await qm()))})})}async function i0(i,e,n){const s=$h(i,!0).put({[AT]:e,value:n});return new bu(s).toPromise()}async function AC(i,e){const n=$h(i,!1).get(e),s=await new bu(n).toPromise();return s===void 0?null:s.value}function r0(i,e){const n=$h(i,!0).delete(e);return new bu(n).toPromise()}const wC=800,RC=3;class wT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>RC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(TC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await vC(),!this.activeServiceWorker)return;this.sender=new yC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qm();return await i0(e,Ih,"1"),await r0(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>i0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>AC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>r0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=$h(o,!1).getAll();return new bu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wT.type="LOCAL";const CC=wT;new vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(i,e){return e?fr(e):(Re(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np extends wp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IC(i){return mT(i.auth,new Np(i),i.bypassAuthState)}function NC(i){const{auth:e,user:n}=i;return Re(n,e,"internal-error"),iC(n,new Np(i),i.bypassAuthState)}async function DC(i){const{auth:e,user:n}=i;return Re(n,e,"internal-error"),nC(n,new Np(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IC;case"linkViaPopup":case"linkViaRedirect":return DC;case"reauthViaPopup":case"reauthViaRedirect":return NC;default:Yn(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=new vu(2e3,1e4);async function kC(i,e,n){if(yn(i.app))return Promise.reject(ii(i,"operation-not-supported-in-this-environment"));const s=vr(i);u1(i,e,Cp);const o=RT(s,n);return new Zs(s,"signInViaPopup",e,o).executeNotNull()}class Zs extends CT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Zs.currentPopupAction&&Zs.currentPopupAction.cancel(),Zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=Ip();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OC.get())};e()}}Zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="pendingRedirect",oh=new Map;class PC extends CT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const s=await VC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VC(i,e){const n=xC(e),s=LC(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function UC(i,e){oh.set(i._key(),e)}function LC(i){return fr(i._redirectPersistence)}function xC(i){return ah(MC,i.config.apiKey,i.name)}async function zC(i,e,n=!1){if(yn(i.app))return Promise.reject(dr(i));const s=vr(i),o=RT(s,e),f=await new PC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=10*60*1e3;class HC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!IT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ii(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BC&&this.cachedEventUids.clear(),this.cachedEventUids.has(s0(e))}saveEventToCache(e){this.cachedEventUids.add(s0(e)),this.lastProcessedEventTime=Date.now()}}function s0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function IT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC(i,e={}){return si(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GC=/^https?/;async function KC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await jC(i);for(const n of e)try{if(YC(n))return}catch{}Yn(i,"unauthorized-domain")}function YC(i){const e=Ah(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!GC.test(n))return!1;if(FC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=new vu(3e4,6e4);function a0(){const i=Ci().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function QC(i){return new Promise((e,n)=>{var s,o,u;function f(){a0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{a0(),n(ii(i,"network-request-failed"))},timeout:$C.get()})}if(!((o=(s=Ci().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ci().gapi)===null||u===void 0)&&u.load)f();else{const m=U1("iframefcb");return Ci()[m]=()=>{gapi.load?f():n(ii(i,"network-request-failed"))},uT(`${V1()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw lh=null,e})}let lh=null;function XC(i){return lh=lh||QC(i),lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new vu(5e3,15e3),ZC="__/auth/iframe",JC="emulator/auth/iframe",eI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nI(i){const e=i.config;Re(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?bp(e,JC):`https://${i.config.authDomain}/${ZC}`,s={apiKey:e.apiKey,appName:i.name,v:ha},o=tI.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${_u(s).slice(1)}`}async function iI(i){const e=await XC(i),n=Ci().gapi;return Re(n,i,"internal-error"),e.open({where:document.body,url:nI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ii(i,"network-request-failed"),m=Ci().setTimeout(()=>{u(f)},WC.get());function p(){Ci().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sI=500,aI=600,oI="_blank",lI="http://localhost";class o0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uI(i,e,n,s=sI,o=aI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},rI),{width:s.toString(),height:o.toString(),top:u,left:f}),y=an().toLowerCase();n&&(m=nT(y)?oI:n),eT(y)&&(e=e||lI,p.scrollbars="yes");const E=Object.entries(p).reduce((I,[M,H])=>`${I}${M}=${H},`,"");if(R1(y)&&m!=="_self")return cI(e||"",m),new o0(null);const w=window.open(e||"",m,E);Re(w,i,"popup-blocked");try{w.focus()}catch{}return new o0(w)}function cI(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="__/auth/handler",fI="emulator/auth/handler",dI=encodeURIComponent("fac");async function l0(i,e,n,s,o,u){Re(i.config.authDomain,i,"auth-domain-config-required"),Re(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:ha,eventId:o};if(e instanceof Cp){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",Yw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof Tu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),y=p?`#${dI}=${encodeURIComponent(p)}`:"";return`${mI(i)}?${_u(m).slice(1)}${y}`}function mI({config:i}){return i.emulator?bp(i,fI):`https://${i.authDomain}/${hI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="webStorageSupport";class pI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TT,this._completeRedirectFn=zC,this._overrideRedirectResult=UC}async _openPopup(e,n,s,o){var u;gr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await l0(e,n,s,Ah(),o);return uI(e,f,Ip())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await l0(e,n,s,Ah(),o);return _C(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(gr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await iI(e),s=new HC(e);return n.register("authEvent",o=>(Re(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Am,{type:Am},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Am];f!==void 0&&n(!!f),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oT()||tT()||Ap()}}const gI=pI;var u0="@firebase/auth",c0="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vI(i){sa(new fs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Re(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lT(i)},y=new k1(s,o,u,p);return q1(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),sa(new fs("auth-internal",e=>{const n=vr(e.getProvider("auth").getImmediate());return(s=>new yI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ri(u0,c0,_I(i)),Ri(u0,c0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=5*60,TI=xE("authIdTokenMaxAge")||EI;let h0=null;const bI=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>TI)return;const o=n==null?void 0:n.token;h0!==o&&(h0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function SI(i=_p()){const e=Gh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=H1(i,{popupRedirectResolver:gI,persistence:[CC,pC,TT]}),s=xE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=bI(u.toString());cC(n,f,()=>f(n.currentUser)),uC(n,m=>f(m))}}const o=VE("auth");return o&&j1(n,`http://${o}`),n}function AI(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}M1({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ii("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",AI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vI("Browser");var f0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cs,NT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,S){function A(){}A.prototype=S.prototype,R.D=S.prototype,R.prototype=new A,R.prototype.constructor=R,R.C=function(N,k,U){for(var D=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)D[Je-2]=arguments[Je];return S.prototype[k].apply(N,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,S,A){A||(A=0);var N=Array(16);if(typeof S=="string")for(var k=0;16>k;++k)N[k]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(k=0;16>k;++k)N[k]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=R.g[0],A=R.g[1],k=R.g[2];var U=R.g[3],D=S+(U^A&(k^U))+N[0]+3614090360&4294967295;S=A+(D<<7&4294967295|D>>>25),D=U+(k^S&(A^k))+N[1]+3905402710&4294967295,U=S+(D<<12&4294967295|D>>>20),D=k+(A^U&(S^A))+N[2]+606105819&4294967295,k=U+(D<<17&4294967295|D>>>15),D=A+(S^k&(U^S))+N[3]+3250441966&4294967295,A=k+(D<<22&4294967295|D>>>10),D=S+(U^A&(k^U))+N[4]+4118548399&4294967295,S=A+(D<<7&4294967295|D>>>25),D=U+(k^S&(A^k))+N[5]+1200080426&4294967295,U=S+(D<<12&4294967295|D>>>20),D=k+(A^U&(S^A))+N[6]+2821735955&4294967295,k=U+(D<<17&4294967295|D>>>15),D=A+(S^k&(U^S))+N[7]+4249261313&4294967295,A=k+(D<<22&4294967295|D>>>10),D=S+(U^A&(k^U))+N[8]+1770035416&4294967295,S=A+(D<<7&4294967295|D>>>25),D=U+(k^S&(A^k))+N[9]+2336552879&4294967295,U=S+(D<<12&4294967295|D>>>20),D=k+(A^U&(S^A))+N[10]+4294925233&4294967295,k=U+(D<<17&4294967295|D>>>15),D=A+(S^k&(U^S))+N[11]+2304563134&4294967295,A=k+(D<<22&4294967295|D>>>10),D=S+(U^A&(k^U))+N[12]+1804603682&4294967295,S=A+(D<<7&4294967295|D>>>25),D=U+(k^S&(A^k))+N[13]+4254626195&4294967295,U=S+(D<<12&4294967295|D>>>20),D=k+(A^U&(S^A))+N[14]+2792965006&4294967295,k=U+(D<<17&4294967295|D>>>15),D=A+(S^k&(U^S))+N[15]+1236535329&4294967295,A=k+(D<<22&4294967295|D>>>10),D=S+(k^U&(A^k))+N[1]+4129170786&4294967295,S=A+(D<<5&4294967295|D>>>27),D=U+(A^k&(S^A))+N[6]+3225465664&4294967295,U=S+(D<<9&4294967295|D>>>23),D=k+(S^A&(U^S))+N[11]+643717713&4294967295,k=U+(D<<14&4294967295|D>>>18),D=A+(U^S&(k^U))+N[0]+3921069994&4294967295,A=k+(D<<20&4294967295|D>>>12),D=S+(k^U&(A^k))+N[5]+3593408605&4294967295,S=A+(D<<5&4294967295|D>>>27),D=U+(A^k&(S^A))+N[10]+38016083&4294967295,U=S+(D<<9&4294967295|D>>>23),D=k+(S^A&(U^S))+N[15]+3634488961&4294967295,k=U+(D<<14&4294967295|D>>>18),D=A+(U^S&(k^U))+N[4]+3889429448&4294967295,A=k+(D<<20&4294967295|D>>>12),D=S+(k^U&(A^k))+N[9]+568446438&4294967295,S=A+(D<<5&4294967295|D>>>27),D=U+(A^k&(S^A))+N[14]+3275163606&4294967295,U=S+(D<<9&4294967295|D>>>23),D=k+(S^A&(U^S))+N[3]+4107603335&4294967295,k=U+(D<<14&4294967295|D>>>18),D=A+(U^S&(k^U))+N[8]+1163531501&4294967295,A=k+(D<<20&4294967295|D>>>12),D=S+(k^U&(A^k))+N[13]+2850285829&4294967295,S=A+(D<<5&4294967295|D>>>27),D=U+(A^k&(S^A))+N[2]+4243563512&4294967295,U=S+(D<<9&4294967295|D>>>23),D=k+(S^A&(U^S))+N[7]+1735328473&4294967295,k=U+(D<<14&4294967295|D>>>18),D=A+(U^S&(k^U))+N[12]+2368359562&4294967295,A=k+(D<<20&4294967295|D>>>12),D=S+(A^k^U)+N[5]+4294588738&4294967295,S=A+(D<<4&4294967295|D>>>28),D=U+(S^A^k)+N[8]+2272392833&4294967295,U=S+(D<<11&4294967295|D>>>21),D=k+(U^S^A)+N[11]+1839030562&4294967295,k=U+(D<<16&4294967295|D>>>16),D=A+(k^U^S)+N[14]+4259657740&4294967295,A=k+(D<<23&4294967295|D>>>9),D=S+(A^k^U)+N[1]+2763975236&4294967295,S=A+(D<<4&4294967295|D>>>28),D=U+(S^A^k)+N[4]+1272893353&4294967295,U=S+(D<<11&4294967295|D>>>21),D=k+(U^S^A)+N[7]+4139469664&4294967295,k=U+(D<<16&4294967295|D>>>16),D=A+(k^U^S)+N[10]+3200236656&4294967295,A=k+(D<<23&4294967295|D>>>9),D=S+(A^k^U)+N[13]+681279174&4294967295,S=A+(D<<4&4294967295|D>>>28),D=U+(S^A^k)+N[0]+3936430074&4294967295,U=S+(D<<11&4294967295|D>>>21),D=k+(U^S^A)+N[3]+3572445317&4294967295,k=U+(D<<16&4294967295|D>>>16),D=A+(k^U^S)+N[6]+76029189&4294967295,A=k+(D<<23&4294967295|D>>>9),D=S+(A^k^U)+N[9]+3654602809&4294967295,S=A+(D<<4&4294967295|D>>>28),D=U+(S^A^k)+N[12]+3873151461&4294967295,U=S+(D<<11&4294967295|D>>>21),D=k+(U^S^A)+N[15]+530742520&4294967295,k=U+(D<<16&4294967295|D>>>16),D=A+(k^U^S)+N[2]+3299628645&4294967295,A=k+(D<<23&4294967295|D>>>9),D=S+(k^(A|~U))+N[0]+4096336452&4294967295,S=A+(D<<6&4294967295|D>>>26),D=U+(A^(S|~k))+N[7]+1126891415&4294967295,U=S+(D<<10&4294967295|D>>>22),D=k+(S^(U|~A))+N[14]+2878612391&4294967295,k=U+(D<<15&4294967295|D>>>17),D=A+(U^(k|~S))+N[5]+4237533241&4294967295,A=k+(D<<21&4294967295|D>>>11),D=S+(k^(A|~U))+N[12]+1700485571&4294967295,S=A+(D<<6&4294967295|D>>>26),D=U+(A^(S|~k))+N[3]+2399980690&4294967295,U=S+(D<<10&4294967295|D>>>22),D=k+(S^(U|~A))+N[10]+4293915773&4294967295,k=U+(D<<15&4294967295|D>>>17),D=A+(U^(k|~S))+N[1]+2240044497&4294967295,A=k+(D<<21&4294967295|D>>>11),D=S+(k^(A|~U))+N[8]+1873313359&4294967295,S=A+(D<<6&4294967295|D>>>26),D=U+(A^(S|~k))+N[15]+4264355552&4294967295,U=S+(D<<10&4294967295|D>>>22),D=k+(S^(U|~A))+N[6]+2734768916&4294967295,k=U+(D<<15&4294967295|D>>>17),D=A+(U^(k|~S))+N[13]+1309151649&4294967295,A=k+(D<<21&4294967295|D>>>11),D=S+(k^(A|~U))+N[4]+4149444226&4294967295,S=A+(D<<6&4294967295|D>>>26),D=U+(A^(S|~k))+N[11]+3174756917&4294967295,U=S+(D<<10&4294967295|D>>>22),D=k+(S^(U|~A))+N[2]+718787259&4294967295,k=U+(D<<15&4294967295|D>>>17),D=A+(U^(k|~S))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+k&4294967295,R.g[3]=R.g[3]+U&4294967295}s.prototype.u=function(R,S){S===void 0&&(S=R.length);for(var A=S-this.blockSize,N=this.B,k=this.h,U=0;U<S;){if(k==0)for(;U<=A;)o(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<S;)if(N[k++]=R.charCodeAt(U++),k==this.blockSize){o(this,N),k=0;break}}else for(;U<S;)if(N[k++]=R[U++],k==this.blockSize){o(this,N),k=0;break}}this.h=k,this.o+=S},s.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;var A=8*this.o;for(S=R.length-8;S<R.length;++S)R[S]=A&255,A/=256;for(this.u(R),R=Array(16),S=A=0;4>S;++S)for(var N=0;32>N;N+=8)R[A++]=this.g[S]>>>N&255;return R};function u(R,S){var A=m;return Object.prototype.hasOwnProperty.call(A,R)?A[R]:A[R]=S(R)}function f(R,S){this.h=S;for(var A=[],N=!0,k=R.length-1;0<=k;k--){var U=R[k]|0;N&&U==S||(A[k]=U,N=!1)}this.g=A}var m={};function p(R){return-128<=R&&128>R?u(R,function(S){return new f([S|0],0>S?-1:0)}):new f([R|0],0>R?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return w;if(0>R)return j(y(-R));for(var S=[],A=1,N=0;R>=A;N++)S[N]=R/A|0,A*=4294967296;return new f(S,0)}function E(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return j(E(R.substring(1),S));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(S,8)),N=w,k=0;k<R.length;k+=8){var U=Math.min(8,R.length-k),D=parseInt(R.substring(k,k+U),S);8>U?(U=y(Math.pow(S,U)),N=N.j(U).add(y(D))):(N=N.j(A),N=N.add(y(D)))}return N}var w=p(0),I=p(1),M=p(16777216);i=f.prototype,i.m=function(){if(G(this))return-j(this).m();for(var R=0,S=1,A=0;A<this.g.length;A++){var N=this.i(A);R+=(0<=N?N:4294967296+N)*S,S*=4294967296}return R},i.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(H(this))return"0";if(G(this))return"-"+j(this).toString(R);for(var S=y(Math.pow(R,6)),A=this,N="";;){var k=W(A,S).g;A=ne(A,k.j(S));var U=((0<A.g.length?A.g[0]:A.h)>>>0).toString(R);if(A=k,H(A))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},i.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function H(R){if(R.h!=0)return!1;for(var S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function G(R){return R.h==-1}i.l=function(R){return R=ne(this,R),G(R)?-1:H(R)?0:1};function j(R){for(var S=R.g.length,A=[],N=0;N<S;N++)A[N]=~R.g[N];return new f(A,~R.h).add(I)}i.abs=function(){return G(this)?j(this):this},i.add=function(R){for(var S=Math.max(this.g.length,R.g.length),A=[],N=0,k=0;k<=S;k++){var U=N+(this.i(k)&65535)+(R.i(k)&65535),D=(U>>>16)+(this.i(k)>>>16)+(R.i(k)>>>16);N=D>>>16,U&=65535,D&=65535,A[k]=D<<16|U}return new f(A,A[A.length-1]&-2147483648?-1:0)};function ne(R,S){return R.add(j(S))}i.j=function(R){if(H(this)||H(R))return w;if(G(this))return G(R)?j(this).j(j(R)):j(j(this).j(R));if(G(R))return j(this.j(j(R)));if(0>this.l(M)&&0>R.l(M))return y(this.m()*R.m());for(var S=this.g.length+R.g.length,A=[],N=0;N<2*S;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(var k=0;k<R.g.length;k++){var U=this.i(N)>>>16,D=this.i(N)&65535,Je=R.i(k)>>>16,Qe=R.i(k)&65535;A[2*N+2*k]+=D*Qe,Q(A,2*N+2*k),A[2*N+2*k+1]+=U*Qe,Q(A,2*N+2*k+1),A[2*N+2*k+1]+=D*Je,Q(A,2*N+2*k+1),A[2*N+2*k+2]+=U*Je,Q(A,2*N+2*k+2)}for(N=0;N<S;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=S;N<2*S;N++)A[N]=0;return new f(A,0)};function Q(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function ee(R,S){this.g=R,this.h=S}function W(R,S){if(H(S))throw Error("division by zero");if(H(R))return new ee(w,w);if(G(R))return S=W(j(R),S),new ee(j(S.g),j(S.h));if(G(S))return S=W(R,j(S)),new ee(j(S.g),S.h);if(30<R.g.length){if(G(R)||G(S))throw Error("slowDivide_ only works with positive integers.");for(var A=I,N=S;0>=N.l(R);)A=$(A),N=$(N);var k=ie(A,1),U=ie(N,1);for(N=ie(N,2),A=ie(A,2);!H(N);){var D=U.add(N);0>=D.l(R)&&(k=k.add(A),U=D),N=ie(N,1),A=ie(A,1)}return S=ne(R,k.j(S)),new ee(k,S)}for(k=w;0<=R.l(S);){for(A=Math.max(1,Math.floor(R.m()/S.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=y(A),D=U.j(S);G(D)||0<D.l(R);)A-=N,U=y(A),D=U.j(S);H(U)&&(U=I),k=k.add(U),R=ne(R,D)}return new ee(k,R)}i.A=function(R){return W(this,R).h},i.and=function(R){for(var S=Math.max(this.g.length,R.g.length),A=[],N=0;N<S;N++)A[N]=this.i(N)&R.i(N);return new f(A,this.h&R.h)},i.or=function(R){for(var S=Math.max(this.g.length,R.g.length),A=[],N=0;N<S;N++)A[N]=this.i(N)|R.i(N);return new f(A,this.h|R.h)},i.xor=function(R){for(var S=Math.max(this.g.length,R.g.length),A=[],N=0;N<S;N++)A[N]=this.i(N)^R.i(N);return new f(A,this.h^R.h)};function $(R){for(var S=R.g.length+1,A=[],N=0;N<S;N++)A[N]=R.i(N)<<1|R.i(N-1)>>>31;return new f(A,R.h)}function ie(R,S){var A=S>>5;S%=32;for(var N=R.g.length-A,k=[],U=0;U<N;U++)k[U]=0<S?R.i(U+A)>>>S|R.i(U+A+1)<<32-S:R.i(U+A);return new f(k,R.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,NT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,cs=f}).apply(typeof f0<"u"?f0:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DT,$l,OT,uh,jm,kT,MT,PT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var x=c[b];if(!(x in _))break e;_=_[x]}c=c[c.length-1],b=_[c],g=g(b),g!=b&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,b=!1,x={next:function(){if(!b&&_<c.length){var F=_++;return{value:g(F,c[F]),done:!1}}return b=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,b),c.apply(g,x)}}return function(){return c.apply(g,arguments)}}function I(c,g,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,I.apply(null,arguments)}function M(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function H(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,x,F){for(var oe=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)oe[qe-2]=arguments[qe];return g.prototype[x].apply(b,oe)}}function G(c){const g=c.length;if(0<g){const _=Array(g);for(let b=0;b<g;b++)_[b]=c[b];return _}return[]}function j(c,g){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const x=c.length||0,F=b.length||0;c.length=x+F;for(let oe=0;oe<F;oe++)c[x+oe]=b[oe]}else c.push(b)}}class ne{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Q(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function W(c){return W[" "](c),c}W[" "]=function(){};var $=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function ie(c,g,_){for(const b in c)g.call(_,c[b],b,c)}function R(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function S(c){const g={};for(const _ in c)g[_]=c[_];return g}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,g){let _,b;for(let x=1;x<arguments.length;x++){b=arguments[x];for(_ in b)c[_]=b[_];for(let F=0;F<A.length;F++)_=A[F],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function k(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Te;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Je{constructor(){this.h=this.g=null}add(g,_){const b=Qe.get();b.set(g,_),this.h?this.h.next=b:this.g=b,this.h=b}}var Qe=new ne(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,se=!1,Te=new Je,O=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(J)}};var J=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){U(_)}var g=Qe;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}se=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function ve(c,g){if(ce.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if($){e:{try{W(g.nodeName);var x=!0;break e}catch{}x=!1}x||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ve.aa.h.call(this)}}H(ve,ce);var be={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var et="closure_listenable_"+(1e6*Math.random()|0),ke=0;function de(c,g,_,b,x){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!b,this.ha=x,this.key=++ke,this.da=this.fa=!1}function _e(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c){this.src=c,this.g={},this.h=0}Ue.prototype.add=function(c,g,_,b,x){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var oe=In(c,g,b,x);return-1<oe?(g=c[oe],_||(g.fa=!1)):(g=new de(g,this.src,F,!!b,x),g.fa=_,c.push(g)),g};function vt(c,g){var _=g.type;if(_ in c.g){var b=c.g[_],x=Array.prototype.indexOf.call(b,g,void 0),F;(F=0<=x)&&Array.prototype.splice.call(b,x,1),F&&(_e(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function In(c,g,_,b){for(var x=0;x<c.length;++x){var F=c[x];if(!F.da&&F.listener==g&&F.capture==!!_&&F.ha==b)return x}return-1}var Er="closure_lm_"+(1e6*Math.random()|0),Tr={};function Pi(c,g,_,b,x){if(Array.isArray(g)){for(var F=0;F<g.length;F++)Pi(c,g[F],_,b,x);return null}return _=Iu(_),c&&c[et]?c.K(g,_,y(b)?!!b.capture:!1,x):xo(c,g,_,!1,b,x)}function xo(c,g,_,b,x,F){if(!g)throw Error("Invalid event type");var oe=y(x)?!!x.capture:!!x,qe=zo(c);if(qe||(c[Er]=qe=new Ue(c)),_=qe.add(g,_,b,oe,F),_.proxy)return _;if(b=ga(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ue||(x=oe),x===void 0&&(x=!1),c.addEventListener(g.toString(),b,x);else if(c.attachEvent)c.attachEvent(_a(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ga(){function c(_){return g.call(c.src,c.listener,_)}const g=pf;return c}function ya(c,g,_,b,x){if(Array.isArray(g))for(var F=0;F<g.length;F++)ya(c,g[F],_,b,x);else b=y(b)?!!b.capture:!!b,_=Iu(_),c&&c[et]?(c=c.i,g=String(g).toString(),g in c.g&&(F=c.g[g],_=In(F,_,b,x),-1<_&&(_e(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete c.g[g],c.h--)))):c&&(c=zo(c))&&(g=c.g[g.toString()],c=-1,g&&(c=In(g,_,b,x)),(_=-1<c?g[c]:null)&&vs(_))}function vs(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[et])vt(g.i,c);else{var _=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(_,b,c.capture):g.detachEvent?g.detachEvent(_a(_),b):g.addListener&&g.removeListener&&g.removeListener(b),(_=zo(g))?(vt(_,c),_.h==0&&(_.src=null,g[Er]=null)):_e(c)}}}function _a(c){return c in Tr?Tr[c]:Tr[c]="on"+c}function pf(c,g){if(c.da)c=!0;else{g=new ve(g,this);var _=c.listener,b=c.ha||c.src;c.fa&&vs(c),c=_.call(b,g)}return c}function zo(c){return c=c[Er],c instanceof Ue?c:null}var dn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Iu(c){return typeof c=="function"?c:(c[dn]||(c[dn]=function(g){return c.handleEvent(g)}),c[dn])}function It(){he.call(this),this.i=new Ue(this),this.M=this,this.F=null}H(It,he),It.prototype[et]=!0,It.prototype.removeEventListener=function(c,g,_,b){ya(this,c,g,_,b)};function Lt(c,g){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new ce(g,c);else if(g instanceof ce)g.target=g.target||c;else{var x=g;g=new ce(b,c),N(g,x)}if(x=!0,_)for(var F=_.length-1;0<=F;F--){var oe=g.g=_[F];x=Vi(oe,b,!0,g)&&x}if(oe=g.g=c,x=Vi(oe,b,!0,g)&&x,x=Vi(oe,b,!1,g)&&x,_)for(F=0;F<_.length;F++)oe=g.g=_[F],x=Vi(oe,b,!1,g)&&x}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],b=0;b<_.length;b++)_e(_[b]);delete c.g[g],c.h--}}this.F=null},It.prototype.K=function(c,g,_,b){return this.i.add(String(c),g,!1,_,b)},It.prototype.L=function(c,g,_,b){return this.i.add(String(c),g,!0,_,b)};function Vi(c,g,_,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var x=!0,F=0;F<g.length;++F){var oe=g[F];if(oe&&!oe.da&&oe.capture==_){var qe=oe.listener,Dt=oe.ha||oe.src;oe.fa&&vt(c.i,oe),x=qe.call(Dt,b)!==!1&&x}}return x&&!b.defaultPrevented}function Nu(c,g,_){if(typeof c=="function")_&&(c=I(c,_));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function Bo(c){c.g=Nu(()=>{c.g=null,c.i&&(c.i=!1,Bo(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class gf extends he{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Bo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(c){he.call(this),this.h=c,this.g={}}H(Es,he);var br=[];function Jt(c){ie(c.g,function(g,_){this.g.hasOwnProperty(_)&&vs(g)},c),c.g={}}Es.prototype.N=function(){Es.aa.N.call(this),Jt(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ho=m.JSON.stringify,ai=m.JSON.parse,on=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function qo(){}qo.prototype.h=null;function Du(c){return c.h||(c.h=c.i())}function Ou(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sr(){ce.call(this,"d")}H(Sr,ce);function Qn(){ce.call(this,"c")}H(Qn,ce);var Nn={},Ar=null;function va(){return Ar=Ar||new It}Nn.La="serverreachability";function jo(c){ce.call(this,Nn.La,c)}H(jo,ce);function wr(c){const g=va();Lt(g,new jo(g))}Nn.STAT_EVENT="statevent";function Ea(c,g){ce.call(this,Nn.STAT_EVENT,c),this.stat=g}H(Ea,ce);function Et(c){const g=va();Lt(g,new Ea(g,c))}Nn.Ma="timingevent";function ku(c,g){ce.call(this,Nn.Ma,c),this.size=g}H(ku,ce);function Rr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Cr(){this.g=!0}Cr.prototype.xa=function(){this.g=!1};function Mu(c,g,_,b,x,F){c.info(function(){if(c.g)if(F)for(var oe="",qe=F.split("&"),Dt=0;Dt<qe.length;Dt++){var je=qe[Dt].split("=");if(1<je.length){var Bt=je[0];je=je[1];var Ot=Bt.split("_");oe=2<=Ot.length&&Ot[1]=="type"?oe+(Bt+"="+je+"&"):oe+(Bt+"=redacted&")}}else oe=null;else oe=F;return"XMLHTTP REQ ("+b+") [attempt "+x+"]: "+g+`
`+_+`
`+oe})}function Pu(c,g,_,b,x,F,oe){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+x+"]: "+g+`
`+_+`
`+F+" "+oe})}function Ir(c,g,_,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+xt(c,_)+(b?" "+b:"")})}function li(c,g){c.info(function(){return"TIMEOUT: "+g})}Cr.prototype.info=function(){};function xt(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var x=b[1];if(Array.isArray(x)&&!(1>x.length)){var F=x[0];if(F!="noop"&&F!="stop"&&F!="close")for(var oe=1;oe<x.length;oe++)x[oe]=""}}}}return Ho(_)}catch{return g}}var Nt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ts;function Ta(){}H(Ta,qo),Ta.prototype.g=function(){return new XMLHttpRequest},Ta.prototype.i=function(){return{}},Ts=new Ta;function ui(c,g,_,b){this.j=c,this.i=g,this.l=_,this.R=b||1,this.U=new Es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fo}function Fo(){this.i=null,this.g="",this.h=!1}var Nr={},bs={};function Xn(c,g,_){c.L=1,c.v=ws(ht(g)),c.m=_,c.P=!0,Li(c,null)}function Li(c,g){c.F=Date.now(),ot(c),c.A=ht(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Bi(_.i,"t",b),c.C=0,_=c.j.J,c.h=new Fo,c.g=$u(c.j,_?g:null,!c.m),0<c.O&&(c.M=new gf(I(c.Y,c,c.g),c.O)),g=c.U,_=c.g,b=c.ca;var x="readystatechange";Array.isArray(x)||(x&&(br[0]=x.toString()),x=br);for(var F=0;F<x.length;F++){var oe=Pi(_,x[F],b||g.handleEvent,!1,g.h||g);if(!oe)break;g.g[oe.key]=oe}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),wr(),Mu(c.i,c.u,c.A,c.l,c.R,c.m)}ui.prototype.ca=function(c){c=c.target;const g=this.M;g&&Pn(c)==3?g.j():this.Y(c)},ui.prototype.Y=function(c){try{if(c==this.g)e:{const Ot=Pn(this.g);var g=this.g.Ba();const Fi=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||Bu(this.g)))){this.J||Ot!=4||g==7||(g==8||0>=Fi?wr(3):wr(2)),ba(this);var _=this.g.Z();this.X=_;t:if(Dr(this)){var b=Bu(this.g);c="";var x=b.length,F=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),vn(this);var oe="";break t}this.h.i=new m.TextDecoder}for(g=0;g<x;g++)this.h.h=!0,c+=this.h.i.decode(b[g],{stream:!(F&&g==x-1)});b.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,Pu(this.i,this.u,this.A,this.l,this.R,Ot,_),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Dt=this.g;if((qe=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(qe)){var je=qe;break t}}je=null}if(_=je)Ir(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,En(this,_);else{this.o=!1,this.s=3,Et(12),mn(this),vn(this);break e}}if(this.P){_=!0;let Kt;for(;!this.J&&this.C<oe.length;)if(Kt=Or(this,oe),Kt==bs){Ot==4&&(this.s=4,Et(14),_=!1),Ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==Nr){this.s=4,Et(15),Ir(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else Ir(this.i,this.l,Kt,null),En(this,Kt);if(Dr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||oe.length!=0||this.h.h||(this.s=1,Et(16),_=!1),this.o=this.o&&_,!_)Ir(this.i,this.l,oe,"[Invalid Chunked Response]"),mn(this),vn(this);else if(0<oe.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),ks(Bt),Bt.M=!0,Et(11))}}else Ir(this.i,this.l,oe,null),En(this,oe);Ot==4&&mn(this),this.o&&!this.J&&(Ot==4?Gu(this.j,this):(this.o=!1,ot(this)))}else bf(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),mn(this),vn(this)}}}catch{}finally{}};function Dr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Or(c,g){var _=c.C,b=g.indexOf(`
`,_);return b==-1?bs:(_=Number(g.substring(_,b)),isNaN(_)?Nr:(b+=1,b+_>g.length?bs:(g=g.slice(b,b+_),c.C=b+_,g)))}ui.prototype.cancel=function(){this.J=!0,mn(this)};function ot(c){c.S=Date.now()+c.I,Go(c,c.I)}function Go(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Rr(I(c.ba,c),g)}function ba(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ui.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(li(this.i,this.A),this.L!=2&&(wr(),Et(17)),mn(this),this.s=2,vn(this)):Go(this,this.S-c)};function vn(c){c.j.G==0||c.J||Gu(c.j,c)}function mn(c){ba(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Jt(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function En(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||kr(_.h,c))){if(!c.K&&kr(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var x=b;if(x[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ka(_),Da(_);else break e;nl(_),Et(18)}}else _.za=x[1],0<_.za-_.T&&37500>x[2]&&_.F&&_.v==0&&!_.C&&(_.C=Rr(I(_.Za,_),6e3));if(1>=Vu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ji(_,11)}else if((c.K||_.g==c)&&ka(_),!Q(g))for(x=_.Da.g.parse(g),g=0;g<x.length;g++){let je=x[g];if(_.T=je[0],je=je[1],_.G==2)if(je[0]=="c"){_.K=je[1],_.ia=je[2];const Bt=je[3];Bt!=null&&(_.la=Bt,_.j.info("VER="+_.la));const Ot=je[4];Ot!=null&&(_.Aa=Ot,_.j.info("SVER="+_.Aa));const Fi=je[5];Fi!=null&&typeof Fi=="number"&&0<Fi&&(b=1.5*Fi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Kt=c.g;if(Kt){const gi=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gi){var F=b.h;F.g||gi.indexOf("spdy")==-1&&gi.indexOf("quic")==-1&&gi.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Mr(F,F.h),F.h=null))}if(b.D){const rl=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;rl&&(b.ya=rl,Ke(b.I,b.D,rl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var oe=c;if(b.qa=Yu(b,b.J?b.ia:null,b.W),oe.K){Dn(b.h,oe);var qe=oe,Dt=b.L;Dt&&(qe.I=Dt),qe.B&&(ba(qe),ot(qe)),b.g=oe}else ju(b);0<_.i.length&&Oa(_)}else je[0]!="stop"&&je[0]!="close"||ji(_,7);else _.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?ji(_,7):el(_):je[0]!="noop"&&_.l&&_.l.ta(je),_.v=0)}}wr(4)}catch{}}var yf=class{constructor(c,g){this.g=c,this.map=g}};function Ko(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Vu(c){return c.h?1:c.g?c.g.size:0}function kr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Mr(c,g){c.g?c.g.add(g):c.h=g}function Dn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Ko.prototype.cancel=function(){if(this.i=ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ln(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return G(c.i)}function Uu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,b=0;b<_;b++)g.push(c[b]);return g}g=[],_=0;for(b in c)g[_++]=c[b];return g}function _f(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const b in c)g[_++]=b;return g}}}function Ss(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=_f(c),b=Uu(c),x=b.length,F=0;F<x;F++)g.call(void 0,b[F],_&&_[F],c)}var $o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),x=null;if(0<=b){var F=c[_].substring(0,b);x=c[_].substring(b+1)}else F=c[_];g(F,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function xi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xi){this.h=c.h,Pr(this,c.j),this.o=c.o,this.g=c.g,As(this,c.s),this.l=c.l;var g=c.i,_=new ci;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Aa(this,_),this.m=c.m}else c&&(g=String(c).match($o))?(this.h=!1,Pr(this,g[1]||"",!0),this.o=Vr(g[2]||""),this.g=Vr(g[3]||"",!0),As(this,g[4]),this.l=Vr(g[5]||"",!0),Aa(this,g[6]||"",!0),this.m=Vr(g[7]||"")):(this.h=!1,this.i=new ci(null,this.h))}xi.prototype.toString=function(){var c=[],g=this.j;g&&c.push(On(g,Qo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(On(g,Qo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(On(_,_.charAt(0)=="/"?Xo:Lu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",On(_,Tf)),c.join("")};function ht(c){return new xi(c)}function Pr(c,g,_){c.j=_?Vr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function As(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Aa(c,g,_){g instanceof ci?(c.i=g,Wo(c.i,c.h)):(_||(g=On(g,Ef)),c.i=new ci(g,c.h))}function Ke(c,g,_){c.i.set(g,_)}function ws(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Vr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function On(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,vf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Qo=/[#\/\?@]/g,Lu=/[#\?:]/g,Xo=/[#\?]/g,Ef=/[#\?@]/g,Tf=/#/g;function ci(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function kn(c){c.g||(c.g=new Map,c.h=0,c.i&&Sa(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}i=ci.prototype,i.add=function(c,g){kn(this),this.i=null,c=Hi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function wa(c,g){kn(c),g=Hi(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function zi(c,g){return kn(c),g=Hi(c,g),c.g.has(g)}i.forEach=function(c,g){kn(this),this.g.forEach(function(_,b){_.forEach(function(x){c.call(g,x,b,this)},this)},this)},i.na=function(){kn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let b=0;b<g.length;b++){const x=c[b];for(let F=0;F<x.length;F++)_.push(g[b])}return _},i.V=function(c){kn(this);let g=[];if(typeof c=="string")zi(this,c)&&(g=g.concat(this.g.get(Hi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},i.set=function(c,g){return kn(this),this.i=null,c=Hi(this,c),zi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Bi(c,g,_){wa(c,g),0<_.length&&(c.i=null,c.g.set(Hi(c,g),G(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var b=g[_];const F=encodeURIComponent(String(b)),oe=this.V(b);for(b=0;b<oe.length;b++){var x=F;oe[b]!==""&&(x+="="+encodeURIComponent(String(oe[b]))),c.push(x)}}return this.i=c.join("&")};function Hi(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Wo(c,g){g&&!c.j&&(kn(c),c.i=null,c.g.forEach(function(_,b){var x=b.toLowerCase();b!=x&&(wa(this,b),Bi(this,x,_))},c)),c.j=g}function xu(c,g){const _=new Cr;if(m.Image){const b=new Image;b.onload=M(Mn,_,"TestLoadImage: loaded",!0,g,b),b.onerror=M(Mn,_,"TestLoadImage: error",!1,g,b),b.onabort=M(Mn,_,"TestLoadImage: abort",!1,g,b),b.ontimeout=M(Mn,_,"TestLoadImage: timeout",!1,g,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function Rs(c,g){const _=new Cr,b=new AbortController,x=setTimeout(()=>{b.abort(),Mn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(F=>{clearTimeout(x),F.ok?Mn(_,"TestPingServer: ok",!0,g):Mn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(x),Mn(_,"TestPingServer: error",!1,g)})}function Mn(c,g,_,b,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),b(_)}catch{}}function Cs(){this.g=new on}function hi(c,g,_){const b=_||"";try{Ss(c,function(x,F){let oe=x;y(x)&&(oe=Ho(x)),g.push(b+F+"="+encodeURIComponent(oe))})}catch(x){throw g.push(b+"type="+encodeURIComponent("_badmap")),x}}function Ur(c){this.l=c.Ub||null,this.j=c.eb||!1}H(Ur,qo),Ur.prototype.g=function(){return new qi(this.l,this.j)},Ur.prototype.i=function(c){return function(){return c}}({});function qi(c,g){It.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(qi,It),i=qi.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,di(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?fi(this):di(this),this.readyState==3&&Zo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,fi(this))},i.Qa=function(c){this.g&&(this.response=c,fi(this))},i.ga=function(){this.g&&fi(this)};function fi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,di(c)}i.setRequestHeader=function(c,g){this.u.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function di(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Jo(c){let g="";return ie(c,function(_,b){g+=b,g+=":",g+=_,g+=`\r
`}),g}function zt(c,g,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=Jo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ke(c,g,_))}function Xe(c){It.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(Xe,It);var Ra=/^https?$/i,Is=["POST","PUT"];i=Xe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,g,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ts.g(),this.v=this.o?Du(this.o):Du(Ts),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(F){zu(this,F);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var x in b)_.set(x,b[x]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const F of b.keys())_.set(F,b.get(F));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),x=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Is,g,void 0))||b||x||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,oe]of _)this.g.setRequestHeader(F,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ns(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){zu(this,F)}};function zu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Ca(c),mi(c)}function Ca(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Lt(this,"complete"),Lt(this,"abort"),mi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mi(this,!0)),Xe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ia(this):this.bb())},i.bb=function(){Ia(this)};function Ia(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Pn(c)!=4||c.Z()!=2)){if(c.u&&Pn(c)==4)Nu(c.Ea,0,c);else if(Lt(c,"readystatechange"),Pn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var b;if(b=oe===0){var x=String(c.D).match($o)[1]||null;!x&&m.self&&m.self.location&&(x=m.self.location.protocol.slice(0,-1)),b=!Ra.test(x?x.toLowerCase():"")}_=b}if(_)Lt(c,"complete"),Lt(c,"success");else{c.m=6;try{var F=2<Pn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",Ca(c)}}finally{mi(c)}}}}function mi(c,g){if(c.g){Ns(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Lt(c,"ready");try{_.onreadystatechange=b}catch{}}}function Ns(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Pn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ai(g)}};function Bu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function bf(c){const g={};c=(c.g&&2<=Pn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(Q(c[b]))continue;var _=k(c[b]);const x=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=g[x]||[];g[x]=F,F.push(_)}R(g,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ds(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Na(c){this.Aa=0,this.i=[],this.j=new Cr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ds("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ds("baseRetryDelayMs",5e3,c),this.cb=Ds("retryDelaySeedMs",1e4,c),this.Wa=Ds("forwardChannelMaxRetries",2,c),this.wa=Ds("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ko(c&&c.concurrentRequestLimit),this.Da=new Cs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Na.prototype,i.la=8,i.G=1,i.connect=function(c,g,_,b){Et(0),this.W=c,this.H=g||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Yu(this,null,this.W),Oa(this)};function el(c){if(Hu(c),c.G==3){var g=c.U++,_=ht(c.I);if(Ke(_,"SID",c.K),Ke(_,"RID",g),Ke(_,"TYPE","terminate"),Os(c,_),g=new ui(c,c.j,g),g.L=2,g.v=ws(ht(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=$u(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ot(g)}Ku(c)}function Da(c){c.g&&(ks(c),c.g.cancel(),c.g=null)}function Hu(c){Da(c),c.u&&(m.clearTimeout(c.u),c.u=null),ka(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Oa(c){if(!Yo(c.h)&&!c.s){c.s=!0;var g=c.Ga;ae||O(),se||(ae(),se=!0),Te.add(g,c),c.B=0}}function Sf(c,g){return Vu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Rr(I(c.Ga,c,g),il(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const x=new ui(this,this.j,c);let F=this.o;if(this.S&&(F?(F=S(F),N(F,this.S)):F=this.S),this.m!==null||this.O||(x.H=F,F=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=qu(this,x,g),_=ht(this.I),Ke(_,"RID",c),Ke(_,"CVER",22),this.D&&Ke(_,"X-HTTP-Session-Id",this.D),Os(this,_),F&&(this.O?g="headers="+encodeURIComponent(String(Jo(F)))+"&"+g:this.m&&zt(_,this.m,F)),Mr(this.h,x),this.Ua&&Ke(_,"TYPE","init"),this.P?(Ke(_,"$req",g),Ke(_,"SID","null"),x.T=!0,Xn(x,_,null)):Xn(x,_,g),this.G=2}}else this.G==3&&(c?tl(this,c):this.i.length==0||Yo(this.h)||tl(this))};function tl(c,g){var _;g?_=g.l:_=c.U++;const b=ht(c.I);Ke(b,"SID",c.K),Ke(b,"RID",_),Ke(b,"AID",c.T),Os(c,b),c.m&&c.o&&zt(b,c.m,c.o),_=new ui(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=qu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Mr(c.h,_),Xn(_,b,g)}function Os(c,g){c.H&&ie(c.H,function(_,b){Ke(g,b,_)}),c.l&&Ss({},function(_,b){Ke(g,b,_)})}function qu(c,g,_){_=Math.min(c.i.length,_);var b=c.l?I(c.l.Na,c.l,c):null;e:{var x=c.i;let F=-1;for(;;){const oe=["count="+_];F==-1?0<_?(F=x[0].g,oe.push("ofs="+F)):F=0:oe.push("ofs="+F);let qe=!0;for(let Dt=0;Dt<_;Dt++){let je=x[Dt].g;const Bt=x[Dt].map;if(je-=F,0>je)F=Math.max(0,x[Dt].g-100),qe=!1;else try{hi(Bt,oe,"req"+je+"_")}catch{b&&b(Bt)}}if(qe){b=oe.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,b}function ju(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ae||O(),se||(ae(),se=!0),Te.add(g,c),c.v=0}}function nl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Rr(I(c.Fa,c),il(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Rr(I(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),Da(this),Fu(this))};function ks(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Fu(c){c.g=new ui(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=ht(c.qa);Ke(g,"RID","rpc"),Ke(g,"SID",c.K),Ke(g,"AID",c.T),Ke(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(g,"TO",c.ja),Ke(g,"TYPE","xmlhttp"),Os(c,g),c.m&&c.o&&zt(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ws(ht(g)),_.m=null,_.P=!0,Li(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Da(this),nl(this),Et(19))};function ka(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Gu(c,g){var _=null;if(c.g==g){ka(c),ks(c),c.g=null;var b=2}else if(kr(c.h,g))_=g.D,Dn(c.h,g),b=1;else return;if(c.G!=0){if(g.o)if(b==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var x=c.B;b=va(),Lt(b,new ku(b,_)),Oa(c)}else ju(c);else if(x=g.s,x==3||x==0&&0<g.X||!(b==1&&Sf(c,g)||b==2&&nl(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),x){case 1:ji(c,5);break;case 4:ji(c,10);break;case 3:ji(c,6);break;default:ji(c,2)}}}function il(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function ji(c,g){if(c.j.info("Error code "+g),g==2){var _=I(c.fb,c),b=c.Xa;const x=!b;b=new xi(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Pr(b,"https"),ws(b),x?xu(b.toString(),_):Rs(b.toString(),_)}else Et(2);c.G=0,c.l&&c.l.sa(g),Ku(c),Hu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Ku(c){if(c.G=0,c.ka=[],c.l){const g=ln(c.h);(g.length!=0||c.i.length!=0)&&(j(c.ka,g),j(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function Yu(c,g,_){var b=_ instanceof xi?ht(_):new xi(_);if(b.g!="")g&&(b.g=g+"."+b.g),As(b,b.s);else{var x=m.location;b=x.protocol,g=g?g+"."+x.hostname:x.hostname,x=+x.port;var F=new xi(null);b&&Pr(F,b),g&&(F.g=g),x&&As(F,x),_&&(F.l=_),b=F}return _=c.D,g=c.ya,_&&g&&Ke(b,_,g),Ke(b,"VER",c.la),Os(c,b),b}function $u(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Xe(new Ur({eb:_})):new Xe(c.pa),g.Ha(c.J),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}i=Qu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ma(){}Ma.prototype.g=function(c,g){return new un(c,g)};function un(c,g){It.call(this),this.g=new Na(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!Q(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Q(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new pi(this)}H(un,It),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){el(this.g)},un.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Ho(c),c=_);g.i.push(new yf(g.Ya++,c)),g.G==3&&Oa(g)},un.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,un.aa.N.call(this)};function Xu(c){Sr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}H(Xu,Sr);function Wu(){Qn.call(this),this.status=1}H(Wu,Qn);function pi(c){this.g=c}H(pi,Qu),pi.prototype.ua=function(){Lt(this.g,"a")},pi.prototype.ta=function(c){Lt(this.g,new Xu(c))},pi.prototype.sa=function(c){Lt(this.g,new Wu)},pi.prototype.ra=function(){Lt(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,PT=function(){return new Ma},MT=function(){return va()},kT=Nn,jm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nt.NO_ERROR=0,Nt.TIMEOUT=8,Nt.HTTP_ERROR=6,uh=Nt,Ui.COMPLETE="complete",OT=Ui,Ou.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",It.prototype.listen=It.prototype.K,$l=Ou,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,DT=Xe}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});const d0="@firebase/firestore",m0="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new gp("@firebase/firestore");function lo(){return la.logLevel}function me(i,...e){if(la.logLevel<=xe.DEBUG){const n=e.map(Dp);la.debug(`Firestore (${Mo}): ${i}`,...n)}}function yr(i,...e){if(la.logLevel<=xe.ERROR){const n=e.map(Dp);la.error(`Firestore (${Mo}): ${i}`,...n)}}function Eo(i,...e){if(la.logLevel<=xe.WARN){const n=e.map(Dp);la.warn(`Firestore (${Mo}): ${i}`,...n)}}function Dp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(i="Unexpected state"){const e=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: `+i;throw yr(e),new Error(e)}function Ze(i,e){i||Ce()}function De(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends ki{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rn.UNAUTHENTICATED))}shutdown(){}}class RI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CI{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hs,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hs)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ze(typeof s.accessToken=="string"),new VT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new rn(e)}}class II{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class NI{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new II(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class p0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DI{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,yn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ze(this.o===void 0);const s=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new p0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string"),this.R=n.token,new p0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=OI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function He(i,e){return i<e?-1:i>e?1:0}function To(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=-62135596800,y0=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*y0);return new Vt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<g0)throw new Se(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/y0}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-g0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Vt(0,0))}static max(){return new Ie(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="__name__";class bi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ce(),s===void 0?s=e.length-n:s>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return bi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=bi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=bi.isNumericId(e),o=bi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?bi.extractNumericId(e).compare(bi.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cs.fromString(e.substring(4,e.length-2))}}class pt extends bi{construct(e,n,s){return new pt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Se(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new pt(n)}static emptyPath(){return new pt([])}}const kI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends bi{construct(e,n,s){return new Wt(e,n,s)}static isValidIdentifier(e){return kI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_0}static keyField(){return new Wt([_0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Se(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Se(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Se(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new Se(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(pt.fromString(e))}static fromName(e){return new Ae(pt.fromString(e).popFirst(5))}static empty(){return new Ae(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new pt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=-1;function MI(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(s===1e9?new Vt(n+1,0):new Vt(n,s));return new ds(o,Ae.empty(),e)}function PI(i){return new ds(i.readTime,i.key,ou)}class ds{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ds(Ie.min(),Ae.empty(),ou)}static max(){return new ds(Ie.max(),Ae.empty(),ou)}}function VI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(i.documentKey,e.documentKey),n!==0?n:He(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(i){if(i.code!==re.FAILED_PRECONDITION||i.message!==UI)throw i;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,s)=>{n(e)})}static reject(e){return new Z((n,s)=>{s(e)})}static waitFor(e){return new Z((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=Z.resolve(!1);for(const s of e)n=n.next(o=>o?Z.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new Z((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new Z((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function xI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Qh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=-1;function Xh(i){return i==null}function Dh(i){return i===0&&1/i==-1/0}function zI(i){return typeof i=="number"&&Number.isInteger(i)&&!Dh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="";function BI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=v0(e)),e=HI(i.get(n),e);return v0(e)}function HI(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case LT:n+="";break;default:n+=u}}return n}function v0(i){return i+LT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function fa(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function xT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Xt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new T0(this.data.getIterator())}getIteratorFrom(e){return new T0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class T0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new ni([])}unionWith(e){let n=new Ut(Wt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ni(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new zT("Invalid base64 string: "+u):u}}(e);return new Zt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const qI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(i){if(Ze(!!i),typeof i=="string"){let e=0;const n=qI.exec(i);if(Ze(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(i.seconds),nanos:bt(i.nanos)}}function bt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ps(i){return typeof i=="string"?Zt.fromBase64String(i):Zt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="server_timestamp",HT="__type__",qT="__previous_value__",jT="__local_write_time__";function kp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[HT])===null||n===void 0?void 0:n.stringValue)===BT}function Wh(i){const e=i.mapValue.fields[qT];return kp(e)?Wh(e):e}function lu(i){const e=ms(i.mapValue.fields[jT].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n,s,o,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const Oh="(default)";class uu{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="__type__",FI="__max__",Zc={mapValue:{}},GT="__vector__",kh="value";function gs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?kp(i)?4:KI(i)?9007199254740991:GI(i)?10:11:Ce()}function Di(i,e){if(i===e)return!0;const n=gs(i);if(n!==gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return lu(i).isEqual(lu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ms(o.timestampValue),m=ms(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ps(o.bytesValue).isEqual(ps(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=bt(o.doubleValue),m=bt(u.doubleValue);return f===m?Dh(f)===Dh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return To(i.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(E0(f)!==E0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Di(f[p],m[p])))return!1;return!0}(i,e);default:return Ce()}}function cu(i,e){return(i.values||[]).find(n=>Di(n,e))!==void 0}function bo(i,e){if(i===e)return 0;const n=gs(i),s=gs(e);if(n!==s)return He(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=bt(u.integerValue||u.doubleValue),p=bt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return b0(i.timestampValue,e.timestampValue);case 4:return b0(lu(i),lu(e));case 5:return He(i.stringValue,e.stringValue);case 6:return function(u,f){const m=ps(u),p=ps(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=He(m[y],p[y]);if(E!==0)return E}return He(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=He(bt(u.latitude),bt(f.latitude));return m!==0?m:He(bt(u.longitude),bt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return S0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const w=u.fields||{},I=f.fields||{},M=(m=w[kh])===null||m===void 0?void 0:m.arrayValue,H=(p=I[kh])===null||p===void 0?void 0:p.arrayValue,G=He(((y=M==null?void 0:M.values)===null||y===void 0?void 0:y.length)||0,((E=H==null?void 0:H.values)===null||E===void 0?void 0:E.length)||0);return G!==0?G:S0(M,H)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Zc.mapValue&&f===Zc.mapValue)return 0;if(u===Zc.mapValue)return 1;if(f===Zc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const I=He(p[w],E[w]);if(I!==0)return I;const M=bo(m[p[w]],y[E[w]]);if(M!==0)return M}return He(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Ce()}}function b0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return He(i,e);const n=ms(i),s=ms(e),o=He(n.seconds,s.seconds);return o!==0?o:He(n.nanos,s.nanos)}function S0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=bo(n[o],s[o]);if(u)return u}return He(n.length,s.length)}function So(i){return Fm(i)}function Fm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ms(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ps(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Ae.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Fm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Fm(n.fields[f])}`;return o+"}"}(i.mapValue):Ce()}function ch(i){switch(gs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wh(i);return e?16+ch(e):16;case 5:return 2*i.stringValue.length;case 6:return ps(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+ch(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return fa(s.fields,(u,f)=>{o+=u.length+ch(f)}),o}(i.mapValue);default:throw Ce()}}function Gm(i){return!!i&&"integerValue"in i}function Mp(i){return!!i&&"arrayValue"in i}function A0(i){return!!i&&"nullValue"in i}function w0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function hh(i){return!!i&&"mapValue"in i}function GI(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[FT])===null||n===void 0?void 0:n.stringValue)===GT}function Jl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return fa(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Jl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function KI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===FI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!hh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(n)}setAll(e){let n=Wt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Jl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];hh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){fa(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Gn(Jl(this.value))}}function KT(i){const e=[];return fa(i.fields,(n,s)=>{const o=new Wt([n]);if(hh(s)){const u=KT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new ni(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new sn(e,0,Ie.min(),Ie.min(),Ie.min(),Gn.empty(),0)}static newFoundDocument(e,n,s,o){return new sn(e,1,n,Ie.min(),s,o,0)}static newNoDocument(e,n){return new sn(e,2,n,Ie.min(),Ie.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Ie.min(),Ie.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.position=e,this.inclusive=n}}function R0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=Ae.comparator(Ae.fromName(f.referenceValue),n.key):s=bo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function C0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Di(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n="asc"){this.field=e,this.dir=n}}function YI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{}class Pt extends YT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new QI(e,n,s):n==="array-contains"?new ZI(e,s):n==="in"?new JI(e,s):n==="not-in"?new eN(e,s):n==="array-contains-any"?new tN(e,s):new Pt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new XI(e,s):new WI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bo(n,this.value)):n!==null&&gs(this.value)===gs(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends YT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Oi(e,n)}matches(e){return $T(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function $T(i){return i.op==="and"}function QT(i){return $I(i)&&$T(i)}function $I(i){for(const e of i.filters)if(e instanceof Oi)return!1;return!0}function Km(i){if(i instanceof Pt)return i.field.canonicalString()+i.op.toString()+So(i.value);if(QT(i))return i.filters.map(e=>Km(e)).join(",");{const e=i.filters.map(n=>Km(n)).join(",");return`${i.op}(${e})`}}function XT(i,e){return i instanceof Pt?function(s,o){return o instanceof Pt&&s.op===o.op&&s.field.isEqual(o.field)&&Di(s.value,o.value)}(i,e):i instanceof Oi?function(s,o){return o instanceof Oi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&XT(f,o.filters[m]),!0):!1}(i,e):void Ce()}function WT(i){return i instanceof Pt?function(n){return`${n.field.canonicalString()} ${n.op} ${So(n.value)}`}(i):i instanceof Oi?function(n){return n.op.toString()+" {"+n.getFilters().map(WT).join(" ,")+"}"}(i):"Filter"}class QI extends Pt{constructor(e,n,s){super(e,n,s),this.key=Ae.fromName(s.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class XI extends Pt{constructor(e,n){super(e,"in",n),this.keys=ZT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class WI extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=ZT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ZT(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ae.fromName(s.referenceValue))}class ZI extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mp(n)&&cu(n.arrayValue,this.value)}}class JI extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cu(this.value.arrayValue,n)}}class eN extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!cu(this.value.arrayValue,n)}}class tN extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>cu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function I0(i,e=null,n=[],s=[],o=null,u=null,f=null){return new nN(i,e,n,s,o,u,f)}function Pp(i){const e=De(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Km(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>So(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>So(s)).join(",")),e.le=n}return e.le}function Vp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!YI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!XT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!C0(i.startAt,e.startAt)&&C0(i.endAt,e.endAt)}function Ym(i){return Ae.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function iN(i,e,n,s,o,u,f,m){return new Zh(i,e,n,s,o,u,f,m)}function Up(i){return new Zh(i)}function N0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function rN(i){return i.collectionGroup!==null}function eu(i){const e=De(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ut(Wt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Ph(u,s))}),n.has(Wt.keyField().canonicalString())||e.he.push(new Ph(Wt.keyField(),s))}return e.he}function Ii(i){const e=De(i);return e.Pe||(e.Pe=sN(e,eu(i))),e.Pe}function sN(i,e){if(i.limitType==="F")return I0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ph(o.field,u)});const n=i.endAt?new Mh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Mh(i.startAt.position,i.startAt.inclusive):null;return I0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function $m(i,e,n){return new Zh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Jh(i,e){return Vp(Ii(i),Ii(e))&&i.limitType===e.limitType}function JT(i){return`${Pp(Ii(i))}|lt:${i.limitType}`}function uo(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>WT(o)).join(", ")}]`),Xh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>So(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>So(o)).join(",")),`Target(${s})`}(Ii(i))}; limitType=${i.limitType})`}function ef(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ae.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of eu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=R0(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,eu(s),o)||s.endAt&&!function(f,m,p){const y=R0(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,eu(s),o))}(i,e)}function aN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function eb(i){return(e,n)=>{let s=!1;for(const o of eu(i)){const u=oN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function oN(i,e,n){const s=i.field.isKeyField()?Ae.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?bo(p,y):Ce()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){fa(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return xT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new ct(Ae.comparator);function _r(){return lN}const tb=new ct(Ae.comparator);function Ql(...i){let e=tb;for(const n of i)e=e.insert(n.key,n);return e}function nb(i){let e=tb;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Js(){return tu()}function ib(){return tu()}function tu(){return new da(i=>i.toString(),(i,e)=>i.isEqual(e))}const uN=new ct(Ae.comparator),cN=new Ut(Ae.comparator);function ze(...i){let e=cN;for(const n of i)e=e.add(n);return e}const hN=new Ut(He);function fN(){return hN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function rb(i){return{integerValue:""+i}}function dN(i,e){return zI(e)?rb(e):Lp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(){this._=void 0}}function mN(i,e,n){return i instanceof hu?function(o,u){const f={fields:{[HT]:{stringValue:BT},[jT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&kp(u)&&(u=Wh(u)),u&&(f.fields[qT]=u),{mapValue:f}}(n,e):i instanceof fu?ab(i,e):i instanceof du?ob(i,e):function(o,u){const f=sb(o,u),m=D0(f)+D0(o.Ie);return Gm(f)&&Gm(o.Ie)?rb(m):Lp(o.serializer,m)}(i,e)}function pN(i,e,n){return i instanceof fu?ab(i,e):i instanceof du?ob(i,e):n}function sb(i,e){return i instanceof Vh?function(s){return Gm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class hu extends tf{}class fu extends tf{constructor(e){super(),this.elements=e}}function ab(i,e){const n=lb(e);for(const s of i.elements)n.some(o=>Di(o,s))||n.push(s);return{arrayValue:{values:n}}}class du extends tf{constructor(e){super(),this.elements=e}}function ob(i,e){let n=lb(e);for(const s of i.elements)n=n.filter(o=>!Di(o,s));return{arrayValue:{values:n}}}class Vh extends tf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function D0(i){return bt(i.integerValue||i.doubleValue)}function lb(i){return Mp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n){this.field=e,this.transform=n}}function yN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof fu&&o instanceof fu||s instanceof du&&o instanceof du?To(s.elements,o.elements,Di):s instanceof Vh&&o instanceof Vh?Di(s.Ie,o.Ie):s instanceof hu&&o instanceof hu}(i.transform,e.transform)}class _N{constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class nf{}function ub(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new hb(i.key,mr.none()):new Su(i.key,i.data,mr.none());{const n=i.data,s=Gn.empty();let o=new Ut(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ma(i.key,s,new ni(o.toArray()),mr.none())}}function vN(i,e,n){i instanceof Su?function(o,u,f){const m=o.value.clone(),p=k0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ma?function(o,u,f){if(!fh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=k0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(cb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function nu(i,e,n,s){return i instanceof Su?function(u,f,m,p){if(!fh(u.precondition,f))return m;const y=u.value.clone(),E=M0(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(i,e,n,s):i instanceof ma?function(u,f,m,p){if(!fh(u.precondition,f))return m;const y=M0(u.fieldTransforms,p,f),E=f.data;return E.setAll(cb(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,e,n,s):function(u,f,m){return fh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function EN(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=sb(s.transform,o||null);u!=null&&(n===null&&(n=Gn.empty()),n.set(s.field,u))}return n||null}function O0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&To(s,o,(u,f)=>yN(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Su extends nf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ma extends nf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function cb(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function k0(i,e,n){const s=new Map;Ze(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,pN(f,m,n[o]))}return s}function M0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,mN(u,f,e))}return s}class hb extends nf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TN extends nf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&vN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=nu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=nu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ib();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=ub(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ie.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ze())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,(n,s)=>O0(n,s))&&To(this.baseMutations,e.baseMutations,(n,s)=>O0(n,s))}}class xp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ze(e.mutations.length===s.length);let o=function(){return uN}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new xp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Ge;function wN(i){switch(i){case re.OK:return Ce();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ce()}}function fb(i){if(i===void 0)return yr("GRPC error has no .code"),re.UNKNOWN;switch(i){case Rt.OK:return re.OK;case Rt.CANCELLED:return re.CANCELLED;case Rt.UNKNOWN:return re.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return re.INTERNAL;case Rt.UNAVAILABLE:return re.UNAVAILABLE;case Rt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Rt.NOT_FOUND:return re.NOT_FOUND;case Rt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Rt.ABORTED:return re.ABORTED;case Rt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Rt.DATA_LOSS:return re.DATA_LOSS;default:return Ce()}}(Ge=Rt||(Rt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=new cs([4294967295,4294967295],0);function P0(i){const e=RN().encode(i),n=new NT;return n.update(e),new Uint8Array(n.digest())}function V0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new cs([n,s],0),new cs([o,u],0)]}class zp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(s<0)throw new Xl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=cs.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(cs.fromNumber(s)));return o.compare(CN)===1&&(o=new cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=P0(e),[s,o]=V0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new zp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=P0(e),[s,o]=V0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new rf(Ie.min(),o,new ct(He),_r(),ze())}}class Au{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Au(s,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class db{constructor(e,n){this.targetId=e,this.ge=n}}class mb{constructor(e,n,s=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class U0{constructor(){this.pe=0,this.ye=L0(),this.we=Zt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ze(),n=ze(),s=ze();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ce()}}),new Au(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=L0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ze(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class IN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=_r(),this.$e=Jc(),this.Ke=Jc(),this.Ue=new ct(He)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Ym(u))if(s===0){const f=new Ae(u.path);this.ze(n,f,sn.newNoDocument(f,Ie.min()))}else Ze(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ps(s).toUint8Array()}catch(p){if(p instanceof zT)return Eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new zp(f,o,u)}catch(p){return Eo(p instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Ym(m.target)){const p=new Ae(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,sn.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=ze();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new rf(e,n,this.Ue,this.Qe,s);return this.Qe=_r(),this.$e=Jc(),this.Ke=Jc(),this.Ue=new ct(He),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new U0,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Ut(He),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ut(He),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new U0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Jc(){return new ct(Ae.comparator)}function L0(){return new ct(Ae.comparator)}const NN={asc:"ASCENDING",desc:"DESCENDING"},DN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ON={and:"AND",or:"OR"};class kN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qm(i,e){return i.useProto3Json||Xh(e)?e:{value:e}}function Uh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function MN(i,e){return Uh(i,e.toTimestamp())}function Ni(i){return Ze(!!i),Ie.fromTimestamp(function(n){const s=ms(n);return new Vt(s.seconds,s.nanos)}(i))}function Bp(i,e){return Xm(i,e).canonicalString()}function Xm(i,e){const n=function(o){return new pt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function gb(i){const e=pt.fromString(i);return Ze(Tb(e)),e}function Wm(i,e){return Bp(i.databaseId,e.path)}function wm(i,e){const n=gb(e);if(n.get(1)!==i.databaseId.projectId)throw new Se(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Se(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ae(_b(n))}function yb(i,e){return Bp(i.databaseId,e)}function PN(i){const e=gb(i);return e.length===4?pt.emptyPath():_b(e)}function Zm(i){return new pt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function _b(i){return Ze(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function x0(i,e,n){return{name:Wm(i,e),fields:n.value.mapValue.fields}}function VN(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Ze(E===void 0||typeof E=="string"),Zt.fromBase64String(E||"")):(Ze(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Zt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?re.UNKNOWN:fb(y.code);return new Se(E,y.message||"")}(f);n=new mb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=wm(i,s.document.name),u=Ni(s.document.updateTime),f=s.document.createTime?Ni(s.document.createTime):Ie.min(),m=new Gn({mapValue:{fields:s.document.fields}}),p=sn.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new dh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=wm(i,s.document),u=s.readTime?Ni(s.readTime):Ie.min(),f=sn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new dh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=wm(i,s.document),u=s.removedTargetIds||[];n=new dh([],u,o,null)}else{if(!("filter"in e))return Ce();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new AN(o,u),m=s.targetId;n=new db(m,f)}}return n}function UN(i,e){let n;if(e instanceof Su)n={update:x0(i,e.key,e.value)};else if(e instanceof hb)n={delete:Wm(i,e.key)};else if(e instanceof ma)n={update:x0(i,e.key,e.data),updateMask:GN(e.fieldMask)};else{if(!(e instanceof TN))return Ce();n={verify:Wm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof hu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof fu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof du)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Vh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Ce()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:MN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ce()}(i,e.precondition)),n}function LN(i,e){return i&&i.length>0?(Ze(e!==void 0),i.map(n=>function(o,u){let f=o.updateTime?Ni(o.updateTime):Ni(u);return f.isEqual(Ie.min())&&(f=Ni(u)),new _N(f,o.transformResults||[])}(n,e))):[]}function xN(i,e){return{documents:[yb(i,e.path)]}}function zN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=yb(i,o);const u=function(y){if(y.length!==0)return Eb(Oi.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(I){return{field:co(I.field),direction:qN(I.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Qm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:o}}function BN(i){let e=PN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ze(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const I=vb(w);return I instanceof Oi&&QT(I)?I.getFilters():[I]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(I=>function(H){return new Ph(ho(H.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(I))}(n.orderBy));let m=null;n.limit&&(m=function(w){let I;return I=typeof w=="object"?w.value:w,Xh(I)?null:I}(n.limit));let p=null;n.startAt&&(p=function(w){const I=!!w.before,M=w.values||[];return new Mh(M,I)}(n.startAt));let y=null;return n.endAt&&(y=function(w){const I=!w.before,M=w.values||[];return new Mh(M,I)}(n.endAt)),iN(e,o,f,u,m,"F",p,y)}function HN(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vb(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ho(n.unaryFilter.field);return Pt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ho(n.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ho(n.unaryFilter.field);return Pt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ho(n.unaryFilter.field);return Pt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(i):i.fieldFilter!==void 0?function(n){return Pt.create(ho(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Oi.create(n.compositeFilter.filters.map(s=>vb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce()}}(n.compositeFilter.op))}(i):Ce()}function qN(i){return NN[i]}function jN(i){return DN[i]}function FN(i){return ON[i]}function co(i){return{fieldPath:i.canonicalString()}}function ho(i){return Wt.fromServerFormat(i.fieldPath)}function Eb(i){return i instanceof Pt?function(n){if(n.op==="=="){if(w0(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NAN"}};if(A0(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(w0(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NAN"}};if(A0(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(n.field),op:jN(n.op),value:n.value}}}(i):i instanceof Oi?function(n){const s=n.getFilters().map(o=>Eb(o));return s.length===1?s[0]:{compositeFilter:{op:FN(n.op),filters:s}}}(i):Ce()}function GN(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Tb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,s,o,u=Ie.min(),f=Ie.min(),m=Zt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.Tt=e}}function YN(i){const e=BN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?$m(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this.Tn=new QN}addToCollectionParentIndex(e,n){return this.Tn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(ds.min())}updateCollectionGroup(e,n,s){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class QN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ut(pt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bb=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(bb,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ao(0)}static Un(){return new Ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="LruGarbageCollector",XN=1048576;function H0([i,e],[n,s]){const o=He(i,n);return o===0?He(e,s):o}class WN{constructor(e){this.Hn=e,this.buffer=new Ut(H0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();H0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ZN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){me(B0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vo(n)?me(B0,"Ignoring IndexedDB error during garbage collection: ",n):await Po(n)}await this.er(3e5)})}}class JN{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Qh.ae);const s=new WN(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(z0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(y=Date.now(),lo()<=xe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function eD(i,e){return new JN(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.changes=new da(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&nu(s.mutation,o,ni.empty(),Vt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ze()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ze()){const o=Js();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ql();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Js();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ze()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=_r();const f=tu(),m=function(){return tu()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ma)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),nu(E.mutation,y,E.mutation.getFieldMask(),Vt.now())):f.set(y.key,ni.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var w;return m.set(y,new nD(E,(w=f.get(y))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=tu();let o=new ct((f,m)=>f-m),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||ni.empty();E=m.applyToLocalView(y,E),s.set(p,E);const w=(o.get(m.batchId)||ze()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,w=ib();E.forEach(I=>{if(!u.has(I)){const M=ub(n.get(I),s.get(I));M!==null&&w.set(I,M),u=u.add(I)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,w))}return Z.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return Ae.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):Z.resolve(Js());let m=ou,p=u;return f.next(y=>Z.forEach(y,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next(I=>{p=p.insert(E,I)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,ze())).next(E=>({batchId:m,changes:nb(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ql();return this.indexManager.getCollectionParents(e,u).next(m=>Z.forEach(m,p=>{const y=function(w,I){return new Zh(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((w,I)=>{f=f.insert(w,I)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,sn.newInvalidDocument(E)))});let m=Ql();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&nu(E.mutation,y,ni.empty(),Vt.now()),ef(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Z.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:YN(o.bundledQuery),readTime:Ni(o.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.overlays=new ct(Ae.comparator),this.Rr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Js();return Z.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),Z.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(e,n,s){const o=Js(),u=n.length+1,f=new Ae(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Js(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Js(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return Z.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new SN(n,s));let u=this.Rr.get(n);u===void 0&&(u=ze(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(){this.Vr=new Ut(Ft.mr),this.gr=new Ut(Ft.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Ft(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Ft(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new Ae(new pt([])),s=new Ft(n,e),o=new Ft(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ae(new pt([])),s=new Ft(n,e),o=new Ft(n,e+1);let u=ze();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Ft(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ft{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ae.comparator(e.key,n.key)||He(e.Cr,n.Cr)}static pr(e,n){return He(e.Cr,n.Cr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ut(Ft.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new bN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Ft(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,n){return Z.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Op:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ft(n,0),o=new Ft(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(He);return n.forEach(o=>{const u=new Ft(o,0),f=new Ft(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ae.isDocumentKey(u)||(u=u.child(""));const f=new Ft(new Ae(u),0);let m=new Ut(He);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),Z.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ze(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(n.mutations,o=>{const u=new Ft(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Ft(n,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.kr=e,this.docs=function(){return new ct(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let s=_r();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=_r();const f=n.path,m=new Ae(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||VI(PI(E),s)<=0||(o.has(E.key)||ef(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ce()}qr(e,n){return Z.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new uD(this)}getSize(e){return Z.resolve(this.size)}}class uD extends tD{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Z.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.persistence=e,this.Qr=new da(n=>Pp(n),Vp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Hp,this.targetCount=0,this.Ur=Ao.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),Z.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.zn(n),Z.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return Z.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),Z.resolve()}removeMatchingKeys(e,n,s){this.Kr.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.br(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return Z.resolve(s)}containsKey(e,n){return Z.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Qh(0),this.zr=!1,this.zr=!0,this.jr=new aD,this.referenceDelegate=e(this),this.Hr=new cD(this),this.indexManager=new $N,this.remoteDocumentCache=function(o){return new lD(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new KN(n),this.Yr=new rD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new oD(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const o=new hD(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class hD extends LI{constructor(e){super(),this.currentSequenceNumber=e}}class qp{constructor(e){this.persistence=e,this.ti=new Hp,this.ni=null}static ri(e){return new qp(e)}get ii(){if(this.ni)return this.ni;throw Ce()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),Z.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Z.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=Ae.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Ie.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Z.or([()=>Z.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Lh{constructor(e,n){this.persistence=e,this.oi=new da(s=>BI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=eD(this,n)}static ri(e,n){return new Lh(e,n)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return Z.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?Z.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ie.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ch(e.data.value)),n}ar(e,n,s){return Z.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=ze(),o=ze();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new jp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Hw()?8:xI(an())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new fD;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(lo()<=xe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(lo()<=xe.DEBUG&&me("QueryEngine","Query:",uo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(lo()<=xe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(n))):Z.resolve())}rs(e,n){if(N0(n))return Z.resolve(null);let s=Ii(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=$m(n,null,"F"),s=Ii(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=ze(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(e,$m(n,null,"F")):this.hs(e,y,n,p)}))})))}ss(e,n,s,o){return N0(n)||o.isEqual(Ie.min())?Z.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?Z.resolve(null):(lo()<=xe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),uo(n)),this.hs(e,f,n,MI(o,ou)).next(m=>m))})}cs(e,n){let s=new Ut(eb(e));return n.forEach((o,u)=>{ef(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return lo()<=xe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",uo(n)),this.ns.getDocumentsMatchingQuery(e,n,ds.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="LocalStore",mD=3e8;class pD{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new ct(He),this.Is=new da(u=>Pp(u),Vp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function gD(i,e,n,s){return new pD(i,e,n,s)}async function Ab(i,e){const n=De(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=ze();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function yD(i,e){const n=De(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const w=y.batch,I=w.keys();let M=Z.resolve();return I.forEach(H=>{M=M.next(()=>E.getEntry(p,H)).next(G=>{const j=y.docVersions.get(H);Ze(j!==null),G.version.compareTo(j)<0&&(w.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),E.addEntry(G)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ze();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function wb(i){const e=De(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function _D(i,e){const n=De(i),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,w)=>{const I=o.get(w);if(!I)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,w)));let M=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?M=M.withResumeToken(Zt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(w,M),function(G,j,ne){return G.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=mD?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0}(I,M,E)&&m.push(n.Hr.updateTargetData(u,M))});let p=_r(),y=ze();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(vD(u,f,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(Ie.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(w=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return Z.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=o,u))}function vD(i,e,n){let s=ze(),o=ze();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=_r();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):me(Fp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function ED(i,e){const n=De(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Op),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function TD(i,e){const n=De(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,Z.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new os(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Jm(i,e,n){const s=De(i),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Vo(f))throw f;me(Fp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function q0(i,e,n){const s=De(i);let o=Ie.min(),u=ze();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const w=De(p),I=w.Is.get(E);return I!==void 0?Z.resolve(w.Ts.get(I)):w.Hr.getTargetData(y,E)}(s,f,Ii(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Ie.min(),n?u:ze())).next(m=>(bD(s,aN(e),m),{documents:m,gs:u})))}function bD(i,e,n){let s=i.Es.get(e)||Ie.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class j0{constructor(){this.activeTargetIds=fN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SD{constructor(){this.ho=new j0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new j0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="ConnectivityMonitor";class G0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){me(F0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){me(F0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh=null;function ep(){return eh===null?eh=function(){return 268435456+Math.round(2147483648*Math.random())}():eh++,"0x"+eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="RestConnection",wD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Oh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=ep(),m=this.bo(e,n.toUriEncodedString());me(Rm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(y=>(me(Rm,`Received RPC '${e}' ${f}: `,y),y),y=>{throw Eo(Rm,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=wD[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class ID extends RD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=ep();return new Promise((f,m)=>{const p=new DT;p.setWithCredentials(!0),p.listenOnce(OT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case uh.NO_ERROR:const E=p.getResponseJson();me(nn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case uh.TIMEOUT:me(nn,`RPC '${e}' ${u} timed out`),m(new Se(re.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const w=p.getStatus();if(me(nn,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const M=I==null?void 0:I.error;if(M&&M.status&&M.message){const H=function(j){const ne=j.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(ne)>=0?ne:re.UNKNOWN}(M.status);m(new Se(H,M.message))}else m(new Se(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Se(re.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{me(nn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);me(nn,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}Wo(e,n,s){const o=ep(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=PT(),m=MT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");me(nn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);let I=!1,M=!1;const H=new CD({Fo:j=>{M?me(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(I||(me(nn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),I=!0),me(nn,`RPC '${e}' stream ${o} sending:`,j),w.send(j))},Mo:()=>w.close()}),G=(j,ne,Q)=>{j.listen(ne,ee=>{try{Q(ee)}catch(W){setTimeout(()=>{throw W},0)}})};return G(w,$l.EventType.OPEN,()=>{M||(me(nn,`RPC '${e}' stream ${o} transport opened.`),H.Qo())}),G(w,$l.EventType.CLOSE,()=>{M||(M=!0,me(nn,`RPC '${e}' stream ${o} transport closed`),H.Ko())}),G(w,$l.EventType.ERROR,j=>{M||(M=!0,Eo(nn,`RPC '${e}' stream ${o} transport errored:`,j),H.Ko(new Se(re.UNAVAILABLE,"The operation could not be completed")))}),G(w,$l.EventType.MESSAGE,j=>{var ne;if(!M){const Q=j.data[0];Ze(!!Q);const ee=Q,W=(ee==null?void 0:ee.error)||((ne=ee[0])===null||ne===void 0?void 0:ne.error);if(W){me(nn,`RPC '${e}' stream ${o} received error:`,W);const $=W.status;let ie=function(A){const N=Rt[A];if(N!==void 0)return fb(N)}($),R=W.message;ie===void 0&&(ie=re.INTERNAL,R="Unknown error status: "+$+" with message "+W.message),M=!0,H.Ko(new Se(ie,R)),w.close()}else me(nn,`RPC '${e}' stream ${o} received:`,Q),H.Uo(Q)}}),G(m,kT.STAT_EVENT,j=>{j.stat===jm.PROXY?me(nn,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===jm.NOPROXY&&me(nn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{H.$o()},0),H}}function Cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(i){return new kN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="PersistentStream";class Cb{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Rb(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new Se(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return me(K0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(me(K0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ND extends Cb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=VN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ie.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ie.min():f.readTime?Ni(f.readTime):Ie.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Zm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Ym(p)?{documents:xN(u,p)}:{query:zN(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=pb(u,f.resumeToken);const y=Qm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ie.min())>0){m.readTime=Uh(u,f.snapshotVersion.toTimestamp());const y=Qm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=HN(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Zm(this.serializer),n.removeTarget=e,this.I_(n)}}class DD extends Cb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=LN(e.writeResults,e.commitTime),s=Ni(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Zm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>UN(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{}class kD extends OD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Se(re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Xm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(re.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Xm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Se(re.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class MD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(yr(n),this.N_=!1):me("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="RemoteStore";class PD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{pa(this)&&(me(ua,"Restarting streams for network reachability change."),await async function(p){const y=De(p);y.W_.add(4),await wu(y),y.j_.set("Unknown"),y.W_.delete(4),await af(y)}(this))})}),this.j_=new MD(s,o)}}async function af(i){if(pa(i))for(const e of i.G_)await e(!0)}async function wu(i){for(const e of i.G_)await e(!1)}function Ib(i,e){const n=De(i);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),$p(n)?Yp(n):Uo(n).c_()&&Kp(n,e))}function Gp(i,e){const n=De(i),s=Uo(n);n.U_.delete(e),s.c_()&&Nb(n,e),n.U_.size===0&&(s.c_()?s.P_():pa(n)&&n.j_.set("Unknown"))}function Kp(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uo(i).y_(e)}function Nb(i,e){i.H_.Ne(e),Uo(i).w_(e)}function Yp(i){i.H_=new IN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Uo(i).start(),i.j_.B_()}function $p(i){return pa(i)&&!Uo(i).u_()&&i.U_.size>0}function pa(i){return De(i).W_.size===0}function Db(i){i.H_=void 0}async function VD(i){i.j_.set("Online")}async function UD(i){i.U_.forEach((e,n)=>{Kp(i,e)})}async function LD(i,e){Db(i),$p(i)?(i.j_.q_(e),Yp(i)):i.j_.set("Unknown")}async function xD(i,e,n){if(i.j_.set("Online"),e instanceof mb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){me(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await xh(i,s)}else if(e instanceof dh?i.H_.We(e):e instanceof db?i.H_.Ze(e):i.H_.je(e),!n.isEqual(Ie.min()))try{const s=await wb(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(y);E&&u.U_.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(Zt.EMPTY_BYTE_STRING,E.snapshotVersion)),Nb(u,p);const w=new os(E.target,p,y,E.sequenceNumber);Kp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){me(ua,"Failed to raise snapshot:",s),await xh(i,s)}}async function xh(i,e,n){if(!Vo(e))throw e;i.W_.add(1),await wu(i),i.j_.set("Offline"),n||(n=()=>wb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{me(ua,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await af(i)})}function Ob(i,e){return e().catch(n=>xh(i,n,e))}async function of(i){const e=De(i),n=ys(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Op;for(;zD(e);)try{const o=await ED(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,BD(e,o)}catch(o){await xh(e,o)}kb(e)&&Mb(e)}function zD(i){return pa(i)&&i.K_.length<10}function BD(i,e){i.K_.push(e);const n=ys(i);n.c_()&&n.S_&&n.b_(e.mutations)}function kb(i){return pa(i)&&!ys(i).u_()&&i.K_.length>0}function Mb(i){ys(i).start()}async function HD(i){ys(i).C_()}async function qD(i){const e=ys(i);for(const n of i.K_)e.b_(n.mutations)}async function jD(i,e,n){const s=i.K_.shift(),o=xp.from(s,e,n);await Ob(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await of(i)}async function FD(i,e){e&&ys(i).S_&&await async function(s,o){if(function(f){return wN(f)&&f!==re.ABORTED}(o.code)){const u=s.K_.shift();ys(s).h_(),await Ob(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await of(s)}}(i,e),kb(i)&&Mb(i)}async function Y0(i,e){const n=De(i);n.asyncQueue.verifyOperationInProgress(),me(ua,"RemoteStore received new credentials");const s=pa(n);n.W_.add(3),await wu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await af(n)}async function GD(i,e){const n=De(i);e?(n.W_.delete(2),await af(n)):e||(n.W_.add(2),await wu(n),n.j_.set("Unknown"))}function Uo(i){return i.J_||(i.J_=function(n,s,o){const u=De(n);return u.M_(),new ND(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:VD.bind(null,i),No:UD.bind(null,i),Lo:LD.bind(null,i),p_:xD.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),$p(i)?Yp(i):i.j_.set("Unknown")):(await i.J_.stop(),Db(i))})),i.J_}function ys(i){return i.Y_||(i.Y_=function(n,s,o){const u=De(n);return u.M_(),new DD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:HD.bind(null,i),Lo:FD.bind(null,i),D_:qD.bind(null,i),v_:jD.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await of(i)):(await i.Y_.stop(),i.K_.length>0&&(me(ua,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Qp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xp(i,e){if(yr("AsyncQueue",`${e}: ${i}`),Vo(i))return new Se(re.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{static emptySet(e){return new yo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ae.comparator(n.key,s.key):(n,s)=>Ae.comparator(n.key,s.key),this.keyedMap=Ql(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new yo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.Z_=new ct(Ae.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ce():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class wo{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new wo(e,n,yo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class YD{constructor(){this.queries=Q0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=De(n),u=o.queries;o.queries=Q0(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new Se(re.ABORTED,"Firestore shutting down"))}}function Q0(){return new da(i=>JT(i),Jh)}async function $D(i,e){const n=De(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new KD,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Xp(f,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Wp(n)}async function QD(i,e){const n=De(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function XD(i,e){const n=De(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Wp(n)}function WD(i,e,n){const s=De(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Wp(i){i.ia.forEach(e=>{e.next()})}var tp,X0;(X0=tp||(tp={}))._a="default",X0.Cache="cache";class ZD{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new wo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.key=e}}class Vb{constructor(e){this.key=e}}class JD{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ze(),this.mutatedKeys=ze(),this.ya=eb(e),this.wa=new yo(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new $0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const I=o.get(E),M=ef(this.query,w)?w:null,H=!!I&&this.mutatedKeys.has(I.key),G=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let j=!1;I&&M?I.data.isEqual(M.data)?H!==G&&(s.track({type:3,doc:M}),j=!0):this.va(I,M)||(s.track({type:2,doc:M}),j=!0,(p&&this.ya(M,p)>0||y&&this.ya(M,y)<0)&&(m=!0)):!I&&M?(s.track({type:0,doc:M}),j=!0):I&&!M&&(s.track({type:1,doc:I}),j=!0,(p||y)&&(m=!0)),j&&(M?(f=f.add(M),u=G?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,w)=>function(M,H){const G=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return G(M)-G(H)}(E.type,w.type)||this.ya(E.doc,w.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new wo(this.query,e.wa,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new $0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ze(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new Vb(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new Pb(s))}),n}Oa(e){this.fa=e.gs,this.pa=ze();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return wo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Zp="SyncEngine";class eO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class tO{constructor(e){this.key=e,this.Ba=!1}}class nO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new da(m=>JT(m),Jh),this.qa=new Map,this.Qa=new Set,this.$a=new ct(Ae.comparator),this.Ka=new Map,this.Ua=new Hp,this.Wa={},this.Ga=new Map,this.za=Ao.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function iO(i,e,n=!0){const s=Hb(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Ub(s,e,n,!0),o}async function rO(i,e){const n=Hb(i);await Ub(n,e,!0,!1)}async function Ub(i,e,n,s){const o=await TD(i.localStore,Ii(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await sO(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&Ib(i.remoteStore,o),m}async function sO(i,e,n,s,o){i.Ha=(w,I,M)=>async function(G,j,ne,Q){let ee=j.view.ba(ne);ee.ls&&(ee=await q0(G.localStore,j.query,!1).then(({documents:R})=>j.view.ba(R,ee)));const W=Q&&Q.targetChanges.get(j.targetId),$=Q&&Q.targetMismatches.get(j.targetId)!=null,ie=j.view.applyChanges(ee,G.isPrimaryClient,W,$);return Z0(G,j.targetId,ie.Ma),ie.snapshot}(i,w,I,M);const u=await q0(i.localStore,e,!0),f=new JD(e,u.gs),m=f.ba(u.documents),p=Au.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=f.applyChanges(m,i.isPrimaryClient,p);Z0(i,n,y.Ma);const E=new eO(e,n,f);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),y.snapshot}async function aO(i,e,n){const s=De(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Jh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Jm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Gp(s.remoteStore,o.targetId),np(s,o.targetId)}).catch(Po)):(np(s,o.targetId),await Jm(s.localStore,o.targetId,!0))}async function oO(i,e){const n=De(i),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Gp(n.remoteStore,s.targetId))}async function lO(i,e,n){const s=pO(i);try{const o=await function(f,m){const p=De(f),y=Vt.now(),E=m.reduce((M,H)=>M.add(H.key),ze());let w,I;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let H=_r(),G=ze();return p.ds.getEntries(M,E).next(j=>{H=j,H.forEach((ne,Q)=>{Q.isValidDocument()||(G=G.add(ne))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,H)).next(j=>{w=j;const ne=[];for(const Q of m){const ee=EN(Q,w.get(Q.key).overlayedDocument);ee!=null&&ne.push(new ma(Q.key,ee,KT(ee.value.mapValue),mr.exists(!0)))}return p.mutationQueue.addMutationBatch(M,y,ne,m)}).next(j=>{I=j;const ne=j.applyToLocalDocumentSet(w,G);return p.documentOverlayCache.saveOverlays(M,j.batchId,ne)})}).then(()=>({batchId:I.batchId,changes:nb(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new ct(He)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,n),await Ru(s,o.changes),await of(s.remoteStore)}catch(o){const u=Xp(o,"Failed to persist write");n.reject(u)}}async function Lb(i,e){const n=De(i);try{const s=await _D(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ze(f.Ba):o.removedDocuments.size>0&&(Ze(f.Ba),f.Ba=!1))}),await Ru(n,s,e)}catch(s){await Po(s)}}function W0(i,e,n){const s=De(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=De(f);p.onlineState=m;let y=!1;p.queries.forEach((E,w)=>{for(const I of w.ta)I.sa(m)&&(y=!0)}),y&&Wp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function uO(i,e,n){const s=De(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new ct(Ae.comparator);f=f.insert(u,sn.newNoDocument(u,Ie.min()));const m=ze().add(u),p=new rf(Ie.min(),new Map,new ct(He),f,m);await Lb(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),Jp(s)}else await Jm(s.localStore,e,!1).then(()=>np(s,e,n)).catch(Po)}async function cO(i,e){const n=De(i),s=e.batch.batchId;try{const o=await yD(n.localStore,e);zb(n,s,null),xb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ru(n,o)}catch(o){await Po(o)}}async function hO(i,e,n){const s=De(i);try{const o=await function(f,m){const p=De(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(w=>(Ze(w!==null),E=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);zb(s,e,n),xb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ru(s,o)}catch(o){await Po(o)}}function xb(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function zb(i,e,n){const s=De(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function np(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ua.br(e).forEach(s=>{i.Ua.containsKey(s)||Bb(i,s)})}function Bb(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(Gp(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ka.delete(n),Jp(i))}function Z0(i,e,n){for(const s of n)s instanceof Pb?(i.Ua.addReference(s.key,e),fO(i,s)):s instanceof Vb?(me(Zp,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||Bb(i,s.key)):Ce()}function fO(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(me(Zp,"New document in limbo: "+n),i.Qa.add(s),Jp(i))}function Jp(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new Ae(pt.fromString(e)),s=i.za.next();i.Ka.set(s,new tO(n)),i.$a=i.$a.insert(n,s),Ib(i.remoteStore,new os(Ii(Up(n.path)),s,"TargetPurposeLimboResolution",Qh.ae))}}async function Ru(i,e,n){const s=De(i),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const w=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=jp.Yi(p.targetId,y);u.push(w)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const E=De(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Z.forEach(y,I=>Z.forEach(I.Hi,M=>E.persistence.referenceDelegate.addReference(w,I.targetId,M)).next(()=>Z.forEach(I.Ji,M=>E.persistence.referenceDelegate.removeReference(w,I.targetId,M)))))}catch(w){if(!Vo(w))throw w;me(Fp,"Failed to update sequence numbers: "+w)}for(const w of y){const I=w.targetId;if(!w.fromCache){const M=E.Ts.get(I),H=M.snapshotVersion,G=M.withLastLimboFreeSnapshotVersion(H);E.Ts=E.Ts.insert(I,G)}}}(s.localStore,u))}async function dO(i,e){const n=De(i);if(!n.currentUser.isEqual(e)){me(Zp,"User change. New user:",e.toKey());const s=await Ab(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new Se(re.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ru(n,s.Rs)}}function mO(i,e){const n=De(i),s=n.Ka.get(e);if(s&&s.Ba)return ze().add(s.key);{let o=ze();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function Hb(i){const e=De(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uO.bind(null,e),e.La.p_=XD.bind(null,e.eventManager),e.La.Ja=WD.bind(null,e.eventManager),e}function pO(i){const e=De(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hO.bind(null,e),e}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return gD(this.persistence,new dD,e.initialUser,this.serializer)}Xa(e){return new Sb(qp.ri,this.serializer)}Za(e){return new SD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class gO extends zh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ze(this.persistence.referenceDelegate instanceof Lh);const s=this.persistence.referenceDelegate.garbageCollector;return new ZN(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new Sb(s=>Lh.ri(s,n),this.serializer)}}class ip{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>W0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=dO.bind(null,this.syncEngine),await GD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YD}()}createDatastore(e){const n=sf(e.databaseInfo.databaseId),s=function(u){return new ID(u)}(e.databaseInfo);return function(u,f,m,p){return new kD(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new PD(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>W0(this.syncEngine,n,0),function(){return G0.D()?new G0:new AD}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,E){const w=new nO(o,u,f,m,p,y);return E&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=De(o);me(ua,"RemoteStore shutting down."),u.W_.add(5),await wu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ip.provider={build:()=>new ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="FirestoreClient";class _O{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=UT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{me(_s,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(me(_s,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Xp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Im(i,e){i.asyncQueue.verifyOperationInProgress(),me(_s,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Ab(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function J0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await vO(i);me(_s,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Y0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>Y0(e.remoteStore,o)),i._onlineComponents=e}async function vO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(_s,"Using user provided OfflineComponentProvider");try{await Im(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Eo("Error using user provided cache. Falling back to memory cache: "+n),await Im(i,new zh)}}else me(_s,"Using default OfflineComponentProvider"),await Im(i,new gO(void 0));return i._offlineComponents}async function qb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(_s,"Using user provided OnlineComponentProvider"),await J0(i,i._uninitializedComponentsProvider._online)):(me(_s,"Using default OnlineComponentProvider"),await J0(i,new ip))),i._onlineComponents}function EO(i){return qb(i).then(e=>e.syncEngine)}async function TO(i){const e=await qb(i),n=e.eventManager;return n.onListen=iO.bind(null,e.syncEngine),n.onUnlisten=aO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oO.bind(null,e.syncEngine),n}function bO(i,e,n={}){const s=new hs;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new yO({next:I=>{E.su(),f.enqueueAndForget(()=>QD(u,w));const M=I.docs.has(m);!M&&I.fromCache?y.reject(new Se(re.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&I.fromCache&&p&&p.source==="server"?y.reject(new Se(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),w=new ZD(Up(m.path),E,{includeMetadataChanges:!0,Ta:!0});return $D(u,w)}(await TO(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(i,e,n){if(!n)throw new Se(re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function AO(i,e,n,s){if(e===!0&&s===!0)throw new Se(re.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function tE(i){if(!Ae.isDocumentKey(i))throw new Se(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function eg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ce()}function mu(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Se(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=eg(i);throw new Se(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="firestore.googleapis.com",nE=!0;class iE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Fb,this.ssl=nE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:nE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XN)throw new Se(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Se(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Se(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Se(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tg{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iE(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new wI;switch(s.type){case"firstParty":return new NI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Se(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=eE.get(n);s&&(me("ComponentProvider","Removing Datastore"),eE.delete(n),s.terminate())}(this),Promise.resolve()}}function wO(i,e,n,s={}){var o;const u=(i=mu(i,tg))._getSettings(),f=`${e}:${n}`;if(u.host!==Fb&&u.host!==f&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=rn.MOCK_USER;else{m=zE(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new Se(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new rn(y)}i._authCredentials=new RI(new VT(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ng(this.firestore,e,this._query)}}class Kn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kn(this.firestore,e,this._key)}}class pu extends ng{constructor(e,n,s){super(e,n,Up(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kn(this.firestore,null,new Ae(e))}withConverter(e){return new pu(this.firestore,e,this._path)}}function rp(i,e,...n){if(i=gt(i),arguments.length===1&&(e=UT.newId()),SO("doc","path",e),i instanceof tg){const s=pt.fromString(e,...n);return tE(s),new Kn(i,null,new Ae(s))}{if(!(i instanceof Kn||i instanceof pu))throw new Se(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(pt.fromString(e,...n));return tE(s),new Kn(i.firestore,i instanceof pu?i.converter:null,new Ae(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="AsyncQueue";class sE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Rb(this,"async_queue_retry"),this.Su=()=>{const s=Cm();s&&me(rE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=Cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new hs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Vo(e))throw e;me(rE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw yr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Qp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ce()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class ig extends tg{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new sE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sE(e),this._firestoreClient=void 0,await e}}}function RO(i,e){const n=typeof i=="object"?i:_p(),s=typeof i=="string"?i:Oh,o=Gh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=UE("firestore");u&&wO(o,...u)}return o}function Gb(i){if(i._terminated)throw new Se(re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||CO(i),i._firestoreClient}function CO(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,y,E){return new jI(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,jb(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new _O(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ro(Zt.fromBase64String(e))}catch(n){throw new Se(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ro(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=/^__.*__$/;class NO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}function Kb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class lg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new lg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Bh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Kb(this.Lu)&&IO.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class DO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||sf(e)}ju(e,n,s,o=!1){return new lg({Lu:e,methodName:n,zu:s,path:Wt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function OO(i){const e=i._freezeSettings(),n=sf(i._databaseId);return new DO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function kO(i,e,n,s,o,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,e,n,o);Xb("Data must be an object, but it was:",f,s);const m=$b(s,f);let p,y;if(u.merge)p=new ni(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const I=MO(e,w,n);if(!f.contains(I))throw new Se(re.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);VO(E,I)||E.push(I)}p=new ni(E),y=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=f.fieldTransforms;return new NO(new Gn(m),p,y)}class ug extends sg{_toFieldTransform(e){return new gN(e.path,new hu)}isEqual(e){return e instanceof ug}}function Yb(i,e){if(Qb(i=gt(i)))return Xb("Unsupported field value:",e,i),$b(i,e);if(i instanceof sg)return function(s,o){if(!Kb(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Yb(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=gt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return dN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Vt.fromDate(s);return{timestampValue:Uh(o.serializer,u)}}if(s instanceof Vt){const u=new Vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uh(o.serializer,u)}}if(s instanceof ag)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ro)return{bytesValue:pb(o.serializer,s._byteString)};if(s instanceof Kn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Bp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof og)return function(f,m){return{mapValue:{fields:{[FT]:{stringValue:GT},[kh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Lp(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${eg(s)}`)}(i,e)}function $b(i,e){const n={};return xT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fa(i,(s,o)=>{const u=Yb(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Qb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Vt||i instanceof ag||i instanceof Ro||i instanceof Kn||i instanceof sg||i instanceof og)}function Xb(i,e,n){if(!Qb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=eg(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function MO(i,e,n){if((e=gt(e))instanceof rg)return e._internalPath;if(typeof e=="string")return Wb(i,e);throw Bh("Field path arguments must be of type string or ",i,!1,void 0,n)}const PO=new RegExp("[~\\*/\\[\\]]");function Wb(i,e,n){if(e.search(PO)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new rg(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Bh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new Se(re.INVALID_ARGUMENT,m+i+p)}function VO(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UO extends Zb{data(){return super.data()}}function Jb(i,e){return typeof e=="string"?Wb(i,e):e instanceof rg?e._internalPath:e._delegate._internalPath}class LO{convertValue(e,n="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return fa(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[kh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>bt(f.doubleValue));return new og(u)}convertGeoPoint(e){return new ag(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Wh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const n=ms(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=pt.fromString(e);Ze(Tb(s));const o=new uu(s.get(1),s.get(3)),u=new Ae(s.popFirst(5));return o.isEqual(n)||yr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eS extends Zb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new BO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Jb("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class BO extends eS{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(i){i=mu(i,Kn);const e=mu(i.firestore,ig);return bO(Gb(e),i._key).then(n=>FO(e,i,n))}class qO extends LO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ro(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kn(this.firestore,null,n)}}function sp(i,e,n){i=mu(i,Kn);const s=mu(i.firestore,ig),o=xO(i.converter,e,n);return jO(s,[kO(OO(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,mr.none())])}function jO(i,e){return function(s,o){const u=new hs;return s.asyncQueue.enqueueAndForget(async()=>lO(await EO(s),o,u)),u.promise}(Gb(i),e)}function FO(i,e,n){const s=n.docs.get(e._key),o=new qO(i);return new eS(i,o,e._key,s,new zO(n.hasPendingWrites,n.fromCache),e.converter)}function GO(){return new ug("serverTimestamp")}(function(e,n=!0){(function(o){Mo=o})(ha),sa(new fs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ig(new CI(s.getProvider("auth-internal")),new DI(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Se(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ri(d0,m0,e),Ri(d0,m0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="firebasestorage.googleapis.com",nS="storageBucket",KO=2*60*1e3,YO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t extends ki{constructor(e,n,s=0){super(Nm(e),`Firebase Storage: ${n} (${Nm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Nm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yt||(yt={}));function Nm(i){return"storage/"+i}function cg(){const i="An unknown error occurred, please check the error payload for server response.";return new _t(yt.UNKNOWN,i)}function $O(i){return new _t(yt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function QO(i){return new _t(yt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XO(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _t(yt.UNAUTHENTICATED,i)}function WO(){return new _t(yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ZO(i){return new _t(yt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function JO(){return new _t(yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ek(){return new _t(yt.CANCELED,"User canceled the upload/download.")}function tk(i){return new _t(yt.INVALID_URL,"Invalid URL '"+i+"'.")}function nk(i){return new _t(yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function ik(){return new _t(yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+nS+"' property when initializing the app?")}function rk(){return new _t(yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function sk(){return new _t(yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ak(i){return new _t(yt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ap(i){return new _t(yt.INVALID_ARGUMENT,i)}function iS(){return new _t(yt.APP_DELETED,"The Firebase app was deleted.")}function ok(i){return new _t(yt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function iu(i,e){return new _t(yt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Fl(i){throw new _t(yt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Cn.makeFromUrl(e,n)}catch{return new Cn(e,"")}if(s.path==="")return s;throw nk(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function y(W){W.path_=decodeURIComponent(W.path)}const E="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",M=new RegExp(`^https?://${w}/${E}/b/${o}/o${I}`,"i"),H={bucket:1,path:3},G=n===tS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",ne=new RegExp(`^https?://${G}/${o}/${j}`,"i"),ee=[{regex:m,indices:p,postModify:u},{regex:M,indices:H,postModify:y},{regex:ne,indices:{bucket:1,path:2},postModify:y}];for(let W=0;W<ee.length;W++){const $=ee[W],ie=$.regex.exec(e);if(ie){const R=ie[$.indices.bucket];let S=ie[$.indices.path];S||(S=""),s=new Cn(R,S),$.postModify(s);break}}if(s==null)throw tk(e);return s}}class lk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(i,e,n){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let y=!1;function E(...j){y||(y=!0,e.apply(null,j))}function w(j){o=setTimeout(()=>{o=null,i(M,p())},j)}function I(){u&&clearTimeout(u)}function M(j,...ne){if(y){I();return}if(j){I(),E.call(null,j,...ne);return}if(p()||f){I(),E.call(null,j,...ne);return}s<64&&(s*=2);let ee;m===1?(m=2,ee=0):ee=(s+Math.random())*1e3,w(ee)}let H=!1;function G(j){H||(H=!0,I(),!y&&(o!==null?(j||(m=2),clearTimeout(o),w(0)):j||(m=1)))}return w(0),u=setTimeout(()=>{f=!0,G(!0)},n),G}function ck(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(i){return i!==void 0}function fk(i){return typeof i=="object"&&!Array.isArray(i)}function hg(i){return typeof i=="string"||i instanceof String}function aE(i){return fg()&&i instanceof Blob}function fg(){return typeof Blob<"u"}function oE(i,e,n,s){if(s<e)throw ap(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw ap(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function rS(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var ta;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ta||(ta={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n,s,o,u,f,m,p,y,E,w,I=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=w,this.retry=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,H)=>{this.resolve_=M,this.reject_=H,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new th(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===ta.NO_ERROR,p=u.getStatus();if(!m||dk(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===ta.ABORT;s(!1,new th(!1,null,E));return}const y=this.successCodes_.indexOf(p)!==-1;s(!0,new th(y,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());hk(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=cg();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?iS():ek();f(p)}else{const p=JO();f(p)}};this.canceled_?n(!1,new th(!1,null,!0)):this.backoffId_=uk(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ck(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class th{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function pk(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function gk(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yk(i,e){e&&(i["X-Firebase-GMPID"]=e)}function _k(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function vk(i,e,n,s,o,u,f=!0){const m=rS(i.urlParams),p=i.url+m,y=Object.assign({},i.headers);return yk(y,e),pk(y,n),gk(y,u),_k(y,s),new mk(p,i.method,y,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Tk(...i){const e=Ek();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(fg())return new Blob(i);throw new _t(yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function bk(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(i){if(typeof atob>"u")throw ak("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dm{constructor(e,n){this.data=e,this.contentType=n||null}}function Ak(i,e){switch(i){case wi.RAW:return new Dm(sS(e));case wi.BASE64:case wi.BASE64URL:return new Dm(aS(i,e));case wi.DATA_URL:return new Dm(Rk(e),Ck(e))}throw cg()}function sS(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,f=i.charCodeAt(++n);s=65536|(u&1023)<<10|f&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function wk(i){let e;try{e=decodeURIComponent(i)}catch{throw iu(wi.DATA_URL,"Malformed data URL.")}return sS(e)}function aS(i,e){switch(i){case wi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw iu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case wi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw iu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Sk(e)}catch(o){throw o.message.includes("polyfill")?o:iu(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class oS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw iu(wi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=Ik(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function Rk(i){const e=new oS(i);return e.base64?aS(wi.BASE64,e.rest):wk(e.rest)}function Ck(i){return new oS(i).contentType}function Ik(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n){let s=0,o="";aE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(aE(this.data_)){const s=this.data_,o=bk(s,e,n);return o===null?null:new as(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new as(s,!0)}}static getBlob(...e){if(fg()){const n=e.map(s=>s instanceof as?s.data_:s);return new as(Tk.apply(null,n))}else{const n=e.map(f=>hg(f)?Ak(wi.RAW,f).data:f.data_);let s=0;n.forEach(f=>{s+=f.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(f=>{for(let m=0;m<f.length;m++)o[u++]=f[m]}),new as(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(i){let e;try{e=JSON.parse(i)}catch{return null}return fk(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function Dk(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function uS(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(i,e){return e}class fn{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||Ok}}let nh=null;function kk(i){return!hg(i)||i.length<2?i:uS(i)}function cS(){if(nh)return nh;const i=[];i.push(new fn("bucket")),i.push(new fn("generation")),i.push(new fn("metageneration")),i.push(new fn("name","fullPath",!0));function e(u,f){return kk(f)}const n=new fn("name");n.xform=e,i.push(n);function s(u,f){return f!==void 0?Number(f):f}const o=new fn("size");return o.xform=s,i.push(o),i.push(new fn("timeCreated")),i.push(new fn("updated")),i.push(new fn("md5Hash",null,!0)),i.push(new fn("cacheControl",null,!0)),i.push(new fn("contentDisposition",null,!0)),i.push(new fn("contentEncoding",null,!0)),i.push(new fn("contentLanguage",null,!0)),i.push(new fn("contentType",null,!0)),i.push(new fn("metadata","customMetadata",!0)),nh=i,nh}function Mk(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new Cn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function Pk(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];s[f.local]=f.xform(s,e[f.server])}return Mk(s,i),s}function hS(i,e,n){const s=lS(e);return s===null?null:Pk(i,s,n)}function Vk(i,e,n,s){const o=lS(e);if(o===null||!hg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(y=>{const E=i.bucket,w=i.fullPath,I="/b/"+f(E)+"/o/"+f(w),M=lf(I,n,s),H=rS({alt:"media",token:y});return M+H})[0]}function Uk(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class dg{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(i){if(!i)throw cg()}function Lk(i,e){function n(s,o){const u=hS(i,o,e);return fS(u!==null),u}return n}function xk(i,e){function n(s,o){const u=hS(i,o,e);return fS(u!==null),Vk(u,o,i.host,i._protocol)}return n}function dS(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=WO():o=XO():n.getStatus()===402?o=QO(i.bucket):n.getStatus()===403?o=ZO(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function mS(i){const e=dS(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=$O(i.path)),u.serverResponse=o.serverResponse,u}return n}function zk(i,e,n){const s=e.fullServerUrl(),o=lf(s,i.host,i._protocol),u="GET",f=i.maxOperationRetryTime,m=new dg(o,u,xk(i,n),f);return m.errorHandler=mS(e),m}function Bk(i,e){const n=e.fullServerUrl(),s=lf(n,i.host,i._protocol),o="DELETE",u=i.maxOperationRetryTime;function f(p,y){}const m=new dg(s,o,f,u);return m.successCodes=[200,204],m.errorHandler=mS(e),m}function Hk(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function qk(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=Hk(null,e)),s}function jk(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function m(){let ee="";for(let W=0;W<2;W++)ee=ee+Math.random().toString().slice(2);return ee}const p=m();f["Content-Type"]="multipart/related; boundary="+p;const y=qk(e,s,o),E=Uk(y,n),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,I=`\r
--`+p+"--",M=as.getBlob(w,s,I);if(M===null)throw rk();const H={name:y.fullPath},G=lf(u,i.host,i._protocol),j="POST",ne=i.maxUploadRetryTime,Q=new dg(G,j,Lk(i,n),ne);return Q.urlParams=H,Q.headers=f,Q.body=M.uploadData(),Q.errorHandler=dS(e),Q}class Fk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ta.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ta.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ta.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o){if(this.sent_)throw Fl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Gk extends Fk{initXhr(){this.xhr_.responseType="text"}}function mg(){return new Gk}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this._service=e,n instanceof Cn?this._location=n:this._location=Cn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ca(e,n)}get root(){const e=new Cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uS(this._location.path)}get storage(){return this._service}get parent(){const e=Nk(this._location.path);if(e===null)return null;const n=new Cn(this._location.bucket,e);return new ca(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ok(e)}}function Kk(i,e,n){i._throwIfRoot("uploadBytes");const s=jk(i.storage,i._location,cS(),new as(e,!0),n);return i.storage.makeRequestWithTokens(s,mg).then(o=>({metadata:o,ref:i}))}function Yk(i){i._throwIfRoot("getDownloadURL");const e=zk(i.storage,i._location,cS());return i.storage.makeRequestWithTokens(e,mg).then(n=>{if(n===null)throw sk();return n})}function $k(i){i._throwIfRoot("deleteObject");const e=Bk(i.storage,i._location);return i.storage.makeRequestWithTokens(e,mg)}function Qk(i,e){const n=Dk(i._location.path,e),s=new Cn(i._location.bucket,n);return new ca(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(i){return/^[A-Za-z]+:\/\//.test(i)}function Wk(i,e){return new ca(i,e)}function pS(i,e){if(i instanceof pg){const n=i;if(n._bucket==null)throw ik();const s=new ca(n,n._bucket);return e!=null?pS(s,e):s}else return e!==void 0?Qk(i,e):i}function Zk(i,e){if(e&&Xk(e)){if(i instanceof pg)return Wk(i,e);throw ap("To use ref(service, url), the first argument must be a Storage instance.")}else return pS(i,e)}function lE(i,e){const n=e==null?void 0:e[nS];return n==null?null:Cn.makeFromBucketSpec(n,i)}function Jk(i,e,n,s={}){i.host=`${e}:${n}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:zE(o,i.app.options.projectId))}class pg{constructor(e,n,s,o,u){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=tS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KO,this._maxUploadRetryTime=YO,this._requests=new Set,o!=null?this._bucket=Cn.makeFromBucketSpec(o,this._host):this._bucket=lE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cn.makeFromBucketSpec(this._url,e):this._bucket=lE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){oE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){oE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ca(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new lk(iS());{const f=vk(e,this._appId,s,o,n,this._firebaseVersion,u);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const uE="@firebase/storage",cE="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="storage";function e2(i,e,n){return i=gt(i),Kk(i,e,n)}function t2(i){return i=gt(i),Yk(i)}function n2(i){return i=gt(i),$k(i)}function hE(i,e){return i=gt(i),Zk(i,e)}function i2(i=_p(),e){i=gt(i);const s=Gh(i,gS).getImmediate({identifier:e}),o=UE("storage");return o&&r2(s,...o),s}function r2(i,e,n,s={}){Jk(i,e,n,s)}function s2(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new pg(n,s,o,e,ha)}function a2(){sa(new fs(gS,s2,"PUBLIC").setMultipleInstances(!0)),Ri(uE,cE,""),Ri(uE,cE,"esm2017")}a2();const o2={apiKey:"AIzaSyCxxQl2qNo2gw6dTcy-2AX1Ndx2cmP4HGE",authDomain:"time-2-trade-app.firebaseapp.com",projectId:"time-2-trade-app",storageBucket:"time-2-trade-app.firebasestorage.app",messagingSenderId:"954600418233",appId:"1:954600418233:web:b633f49dc4e51eb09a6468",measurementId:"G-LW2262GH6M"},gg=qE(o2),ti=SI(gg),op=RO(gg),fE=i2(gg);var Om={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function l2(){if(dE)return Gl;dE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Gl.Fragment=e,Gl.jsx=n,Gl.jsxs=n,Gl}var mE;function u2(){return mE||(mE=1,Om.exports=l2()),Om.exports}var yg=u2();const z=yg.jsx,fe=yg.jsxs,yS=yg.Fragment,_S=pe.createContext(),c2=({children:i})=>{const[e,n]=pe.useState(null),[s,o]=pe.useState(!0);return pe.useEffect(()=>{const u=hC(ti,f=>{n(f),o(!1)});return()=>u()},[]),z(_S.Provider,{value:{user:e},children:!s&&i})},_g=()=>pe.useContext(_S),pE=[{name:"NY AM",startNY:"07:00",endNY:"11:00",color:"#A8D8B9"},{name:"NY PM",startNY:"13:30",endNY:"16:00",color:"#A7C7E7"},{name:"Market Closed",startNY:"17:00",endNY:"18:00",color:"#F7C2A3"},{name:"Asia",startNY:"20:00",endNY:"00:00",color:"#F8C8D1"},{name:"London",startNY:"02:00",endNY:"05:00",color:"#D1B2E1"},{name:"",startNY:"",endNY:"",color:"#F9E89D"},{name:"",startNY:"",endNY:"",color:"#F6A1A1"},{name:"",startNY:"",endNY:"",color:"#D3D3D3"}];function vS(){const{user:i}=_g(),[e,n]=pe.useState(375),[s,o]=pe.useState([...pE]),[u,f]=pe.useState("America/New_York"),[m,p]=pe.useState("#F9F9F9"),[y,E]=pe.useState(!1),[w,I]=pe.useState(!0),[M,H]=pe.useState(!0),[G,j]=pe.useState(!0),[ne,Q]=pe.useState(!0),[ee,W]=pe.useState(!0);pe.useEffect(()=>{const ae=localStorage.getItem("clockSize"),se=localStorage.getItem("killzones"),Te=localStorage.getItem("selectedTimezone"),O=localStorage.getItem("backgroundColor"),J=localStorage.getItem("backgroundBasedOnKillzone"),he=localStorage.getItem("showHandClock"),ce=localStorage.getItem("showDigitalClock"),ue=localStorage.getItem("showKillzoneLabel"),ve=localStorage.getItem("showTimeToEnd"),be=localStorage.getItem("showTimeToStart");ae&&n(parseInt(ae)),se&&o(JSON.parse(se)),Te&&f(Te),O&&p(O),J!==null&&E(J==="true"),he!==null&&I(he==="true"),ce!==null&&H(ce==="true"),ue!==null&&j(ue==="true"),ve!==null&&Q(ve==="true"),be!==null&&W(be==="true")},[]),pe.useEffect(()=>{async function ae(){if(!i)return;const se=rp(op,"users",i.uid),Te=await HO(se);if(Te.exists()){const O=Te.data();O.settings&&(O.settings.clockSize&&n(O.settings.clockSize),O.settings.killzones&&o(O.settings.killzones),O.settings.selectedTimezone&&f(O.settings.selectedTimezone),O.settings.backgroundColor&&p(O.settings.backgroundColor),O.settings.backgroundBasedOnKillzone!==void 0&&E(O.settings.backgroundBasedOnKillzone),O.settings.showHandClock!==void 0&&I(O.settings.showHandClock),O.settings.showDigitalClock!==void 0&&H(O.settings.showDigitalClock),O.settings.showKillzoneLabel!==void 0&&j(O.settings.showKillzoneLabel),O.settings.showTimeToEnd!==void 0&&Q(O.settings.showTimeToEnd),O.settings.showTimeToStart!==void 0&&W(O.settings.showTimeToStart))}else await sp(se,{email:i.email,createdAt:GO(),settings:{clockSize:e,killzones:s,selectedTimezone:u,backgroundColor:m,backgroundBasedOnKillzone:y,showHandClock:w,showDigitalClock:M,showKillzoneLabel:G,showTimeToEnd:ne,showTimeToStart:ee}})}ae()},[i]);async function $(ae){if(!i)return;const se=rp(op,"users",i.uid);await sp(se,{settings:{...ae}},{merge:!0})}const ie=ae=>{n(ae),localStorage.setItem("clockSize",ae),i&&$({clockSize:ae})},R=ae=>{o([...ae]),localStorage.setItem("killzones",JSON.stringify(ae)),i&&$({killzones:ae})},S=ae=>{p(ae),localStorage.setItem("backgroundColor",ae),i&&$({backgroundColor:ae})},A=()=>{E(ae=>{const se=!ae;return localStorage.setItem("backgroundBasedOnKillzone",se),i&&$({backgroundBasedOnKillzone:se}),se})},N=(ae,se,Te)=>!(ae&&!se&&!Te);return{clockSize:e,killzones:s,selectedTimezone:u,updateClockSize:ie,updateKillzones:R,setSelectedTimezone:f,backgroundColor:m,updateBackgroundColor:S,backgroundBasedOnKillzone:y,toggleBackgroundBasedOnKillzone:A,showHandClock:w,showDigitalClock:M,showKillzoneLabel:G,toggleShowHandClock:()=>w?N(w,M,G)?(I(!1),localStorage.setItem("showHandClock",!1),i&&$({showHandClock:!1}),!0):!1:(I(!0),localStorage.setItem("showHandClock",!0),i&&$({showHandClock:!0}),!0),toggleShowDigitalClock:()=>M?N(M,w,G)?(H(!1),localStorage.setItem("showDigitalClock",!1),i&&$({showDigitalClock:!1}),!0):!1:(H(!0),localStorage.setItem("showDigitalClock",!0),i&&$({showDigitalClock:!0}),!0),toggleShowKillzoneLabel:()=>G?N(G,w,M)?(j(!1),localStorage.setItem("showKillzoneLabel",!1),i&&$({showKillzoneLabel:!1}),!0):!1:(j(!0),localStorage.setItem("showKillzoneLabel",!0),i&&$({showKillzoneLabel:!0}),!0),showTimeToEnd:ne,showTimeToStart:ee,toggleShowTimeToEnd:()=>{Q(ae=>{const se=!ae;return localStorage.setItem("showTimeToEnd",se),i&&$({showTimeToEnd:se}),se})},toggleShowTimeToStart:()=>{W(ae=>{const se=!ae;return localStorage.setItem("showTimeToStart",se),i&&$({showTimeToStart:se}),se})},resetSettings:()=>{localStorage.clear(),n(375),o([...pE]),f("America/New_York"),p("#F9F9F9"),E(!1),I(!0),H(!0),j(!0),Q(!0),W(!0)}}}const h2=(i,e)=>{const n=()=>{const E=new Date;return new Date(E.toLocaleString("en-US",{timeZone:i}))},[s,o]=pe.useState(n()),u=()=>{const E=s;let w=[],I=[];e.forEach(ne=>{if(!ne.startNY||!ne.endNY)return;const[Q,ee]=ne.startNY.split(":").map(Number),[W,$]=ne.endNY.split(":").map(Number);let ie=new Date(E);ie.setHours(Q,ee,0,0);let R=new Date(E);R.setHours(W,$,0,0),R<=ie&&R.setDate(R.getDate()+1),E>=ie&&E<R?w.push({killzone:ne,startDate:ie,endDate:R}):(E>=ie&&ie.setDate(ie.getDate()+1),I.push({killzone:ne,startDate:ie}))}),w.sort((ne,Q)=>E-ne.startDate-(E-Q.startDate)),I.sort((ne,Q)=>ne.startDate-Q.startDate);const M=w.length>0?w[0].killzone:null,H=w.length>0?Math.floor((w[0].endDate-E)/1e3):null,G=I.length>0?I[0].killzone:null,j=I.length>0?Math.floor((I[0].startDate-E)/1e3):null;return{activeKillzone:M,timeToEnd:H,nextKillzone:G,timeToStart:j}},{activeKillzone:f,timeToEnd:m,nextKillzone:p,timeToStart:y}=pe.useMemo(()=>u(),[s,e]);return pe.useEffect(()=>{const E=setInterval(()=>{o(n())},1e3);return()=>clearInterval(E)},[i]),{currentTime:s,activeKillzone:f,timeToEnd:m,nextKillzone:p,timeToStart:y}},ES=i=>{switch(i){case 300:return{lineWidth:80,hoverLineWidth:87};case 150:return{lineWidth:12,hoverLineWidth:14};case 250:return{lineWidth:18,hoverLineWidth:21};case 375:return{lineWidth:30,hoverLineWidth:34};case 500:return{lineWidth:45,hoverLineWidth:50};case 1200:return{lineWidth:100,hoverLineWidth:120};default:return{lineWidth:30,hoverLineWidth:34}}},f2=(i,e)=>{const n=e/2,s=e/2,o=Math.min(e,e)/2-5;i.beginPath(),i.arc(n,s,o,0,Math.PI*2),i.fillStyle="#fff",i.fill(),TS(i,n,s,o)},TS=(i,e,n,s,o)=>{i.font=`${s*.085}px Roboto`,i.textAlign="center",i.textBaseline="middle",i.fillStyle=o;for(let u=1;u<=12;u++){const f=(u*30-90)*(Math.PI/180),m=e+Math.cos(f)*(s*.31),p=n+Math.sin(f)*(s*.31);i.fillText(u.toString(),m,p)}},d2=(i,e,n,s,o,u)=>{const f=e/2,m=e/2,p=Math.min(e,e)/2-5;i.clearRect(Math.floor(f-p),Math.floor(m-p),Math.ceil(p*2),Math.ceil(p*2));const y=12*60;n.forEach(Q=>{if(!Q.startNY||!Q.endNY)return;const[ee,W]=Q.startNY.split(":").map(Number),[$,ie]=Q.endNY.split(":").map(Number);let R=(ee%12*60+W)/y*Math.PI*2,S=($%12*60+ie)/y*Math.PI*2;(ee>$||ee===$&&W>ie)&&(S+=Math.PI*2);const A=ee<12?p*.52:p*.75,{lineWidth:N,hoverLineWidth:k}=ES(e),U=Q===o?k:N;i.beginPath(),i.arc(f,m,A,R-Math.PI/2,S-Math.PI/2),i.lineWidth=U,i.strokeStyle=Q.color,i.lineCap="butt",i.stroke()});const E=s.getHours(),w=s.getMinutes(),I=s.getSeconds(),M=(Q,ee,W,$)=>{i.beginPath(),i.moveTo(f,m),i.lineTo(f+Math.cos(Q-Math.PI/2)*ee,m+Math.sin(Q-Math.PI/2)*ee),i.strokeStyle=$,i.lineWidth=W,i.lineCap="round",i.stroke()},H=(E%12*30+w*.5)*Math.PI/180,G=E>=12?p*.74:p*.5;M(H,G,6,u);const j=w*6*Math.PI/180;M(j,p*.9,3,u);const ne=I*6*Math.PI/180;M(ne,p*1,1,u)},vg=i=>{const e=i.replace("#",""),n=parseInt(e.substring(0,2),16),s=parseInt(e.substring(2,4),16),o=parseInt(e.substring(4,6),16);return(.299*n+.587*s+.114*o)/255<.5},gE=i=>{const e=Math.floor(i/3600).toString().padStart(2,"0"),n=Math.floor(i%3600/60).toString().padStart(2,"0"),s=Math.floor(i%60).toString().padStart(2,"0");return`${e}h:${n}m:${s}s`};function m2({size:i,time:e,killzones:n,handColor:s}){const o=pe.useRef(null),[u,f]=pe.useState(null),[m,p]=pe.useState(null),y=pe.useRef(document.createElement("canvas"));pe.useEffect(()=>{const I=window.devicePixelRatio||1,M=y.current.getContext("2d");y.current.width=Math.round(i*I),y.current.height=Math.round(i*I),M.scale(I,I),f2(M,i)},[i]),pe.useEffect(()=>{const I=o.current,M=I.getContext("2d"),H=window.devicePixelRatio||1;I.width=Math.round(i*H),I.height=Math.round(i*H),I.style.width=`${i}px`,I.style.height=`${i}px`,M.scale(H,H);let G;const j=()=>{M.clearRect(0,0,i,i),M.drawImage(y.current,0,0,i,i),d2(M,i,n,e,m,s),TS(M,i/2,i/2,i/2-5,s),G=requestAnimationFrame(j)};return G=requestAnimationFrame(j),()=>cancelAnimationFrame(G)},[i,n,e,m,s]);const E=(I,M,H)=>{const G=I.getBoundingClientRect(),j=G.width/2,ne=G.height/2,Q=Math.min(G.width,G.height)/2-5,ee=M-j,W=H-ne,$=Math.sqrt(ee*ee+W*W),R=(Math.atan2(W,ee)+Math.PI/2+2*Math.PI)%(2*Math.PI),{hoverLineWidth:S}=ES(i),A=Q*.52,N=Q*.75;if($>=A-S/2&&$<=A+S/2)for(const k of n){const[U,D]=k.startNY.split(":").map(Number),[Je,Qe]=k.endNY.split(":").map(Number);if(U<12){const ae=(U%12*60+D)/720*Math.PI*2;let se=(Je%12*60+Qe)/720*Math.PI*2;if(ae>se&&(se+=Math.PI*2),R>=ae&&R<=se)return k}}if($>=N-S/2&&$<=N+S/2)for(const k of n){const[U,D]=k.startNY.split(":").map(Number),[Je,Qe]=k.endNY.split(":").map(Number);if(U>=12){const ae=(U%12*60+D)/720*Math.PI*2;let se=(Je%12*60+Qe)/720*Math.PI*2;if(ae>se&&(se+=Math.PI*2),R>=ae&&R<=se)return k}}return null};return fe("div",{className:"canvas-container",children:[z("canvas",{ref:o,onMouseMove:I=>{const M=o.current,H=M.getBoundingClientRect(),G=I.clientX-H.left,j=I.clientY-H.top,ne=E(M,G,j);p(ne),f(ne?{x:I.clientX,y:I.clientY,...ne}:null)},onMouseLeave:()=>{p(null),f(null)}}),u&&fe("div",{className:"tooltip",style:{left:u.x+10,top:u.y+10,backgroundColor:u.color,color:vg(u.color)?"#fff":"#000"},children:[z("strong",{children:u.name}),fe("div",{children:["Start: ",u.startNY]}),fe("div",{children:["End: ",u.endNY]})]})]})}const p2=ra.memo(({time:i,clockSize:e,textColor:n})=>{if(!i)return null;const o=Math.max(16,e/375*28),u=i.getHours(),f=i.getMinutes().toString().padStart(2,"0"),m=i.getSeconds().toString().padStart(2,"0"),p=u>=12?"PM":"AM",y=u%12||12;return z("div",{className:"digital-clock",style:{fontSize:`${o}px`,color:n},children:`${y}:${f}:${m} ${p}`})});function g2({activeKillzone:i,showTimeToEnd:e,timeToEnd:n,showTimeToStart:s,nextKillzone:o,timeToStart:u,clockSize:f}){const y=Math.max(22,f/375*22),E=Math.max(18,f/375*18),w=(i==null?void 0:i.color)||"#ffffff",I=i&&vg(i.color)?"#fff":"#333";return fe("div",{className:"killzone-label",style:{backgroundColor:w,color:I,padding:"8px 16px",borderRadius:"4px",margin:"10px 40px",textAlign:"center",transition:"background-color 0.3s, color 0.3s"},children:[z("div",{style:{fontWeight:"bold",fontSize:`${y}px`},children:i?`Active Killzone: ${i.name}`:"No Active Killzone"}),i&&e&&n!=null&&fe("div",{style:{fontSize:`${E}px`,fontWeight:"normal",opacity:1},children:["Ends in: ",gE(n)]}),!i&&s&&o&&u!=null&&fe("div",{style:{fontSize:`${E}px`,fontWeight:"normal",opacity:1},children:["Next: ",o.name," in ",gE(u)]})]})}function bS({onClose:i,onSignUp:e}){return z("div",{className:"ls-modal-overlay",children:z("div",{className:"ls-modal-content",children:fe("form",{className:"ls-form",style:{textAlign:"center"},children:[z("h2",{children:"Unlock Pro★ Features for free: $0"}),z("p",{children:"Create a free account to unlock full access to the pro features, including changing timezones and accessing premium settings."}),z("button",{type:"button",className:"ls-button",onClick:e,children:"Create Free Account"}),z("p",{className:"ls-link",children:z("span",{className:"ls-link",onClick:i,children:"Close"})})]})})})}function y2({selectedTimezone:i,setSelectedTimezone:e,textColor:n,onRequestSignUp:s}){const[o,u]=pe.useState([]),{user:f}=_g(),[m,p]=pe.useState(!1);pe.useEffect(()=>{const M=Intl.supportedValuesOf("timeZone").map(H=>{const G=y(H);return{timezone:H,offset:G,sortKey:E(G)}});M.sort((H,G)=>H.sortKey-G.sortKey),u(M)},[]);const y=I=>{const M=new Date;return new Intl.DateTimeFormat("en-US",{timeZone:I,timeZoneName:"shortOffset"}).formatToParts(M).find(ne=>ne.type==="timeZoneName").value.replace(/UTC|GMT/,"").trim()},E=I=>{const[M,H]=I.split(":").map(Number);return M*60+(H||0)};return fe("div",{className:"timezone-selector",children:[z("select",{value:i,onChange:I=>{f?e(I.target.value):p(!0)},style:{color:n},children:o.map(({timezone:I,offset:M})=>z("option",{value:I,children:`(UTC${M}) ${I}`},I))}),m&&z(bS,{onClose:()=>p(!1),onSignUp:()=>{p(!1),s&&s()}})]})}var at="-ms-",ru="-moz-",We="-webkit-",SS="comm",uf="rule",Eg="decl",_2="@import",AS="@keyframes",v2="@layer",wS=Math.abs,Tg=String.fromCharCode,lp=Object.assign;function E2(i,e){return Gt(i,0)^45?(((e<<2^Gt(i,0))<<2^Gt(i,1))<<2^Gt(i,2))<<2^Gt(i,3):0}function RS(i){return i.trim()}function ar(i,e){return(i=e.exec(i))?i[0]:i}function Me(i,e,n){return i.replace(e,n)}function mh(i,e,n){return i.indexOf(e,n)}function Gt(i,e){return i.charCodeAt(e)|0}function Co(i,e,n){return i.slice(e,n)}function Si(i){return i.length}function CS(i){return i.length}function Wl(i,e){return e.push(i),i}function T2(i,e){return i.map(e).join("")}function yE(i,e){return i.filter(function(n){return!ar(n,e)})}var cf=1,Io=1,IS=0,$n=0,Ct=0,Lo="";function hf(i,e,n,s,o,u,f,m){return{value:i,root:e,parent:n,type:s,props:o,children:u,line:cf,column:Io,length:f,return:"",siblings:m}}function rs(i,e){return lp(hf("",null,null,"",null,null,0,i.siblings),i,{length:-i.length},e)}function ao(i){for(;i.root;)i=rs(i.root,{children:[i]});Wl(i,i.siblings)}function b2(){return Ct}function S2(){return Ct=$n>0?Gt(Lo,--$n):0,Io--,Ct===10&&(Io=1,cf--),Ct}function ri(){return Ct=$n<IS?Gt(Lo,$n++):0,Io++,Ct===10&&(Io=1,cf++),Ct}function na(){return Gt(Lo,$n)}function ph(){return $n}function ff(i,e){return Co(Lo,i,e)}function up(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function A2(i){return cf=Io=1,IS=Si(Lo=i),$n=0,[]}function w2(i){return Lo="",i}function km(i){return RS(ff($n-1,cp(i===91?i+2:i===40?i+1:i)))}function R2(i){for(;(Ct=na())&&Ct<33;)ri();return up(i)>2||up(Ct)>3?"":" "}function C2(i,e){for(;--e&&ri()&&!(Ct<48||Ct>102||Ct>57&&Ct<65||Ct>70&&Ct<97););return ff(i,ph()+(e<6&&na()==32&&ri()==32))}function cp(i){for(;ri();)switch(Ct){case i:return $n;case 34:case 39:i!==34&&i!==39&&cp(Ct);break;case 40:i===41&&cp(i);break;case 92:ri();break}return $n}function I2(i,e){for(;ri()&&i+Ct!==57;)if(i+Ct===84&&na()===47)break;return"/*"+ff(e,$n-1)+"*"+Tg(i===47?i:ri())}function N2(i){for(;!up(na());)ri();return ff(i,$n)}function D2(i){return w2(gh("",null,null,null,[""],i=A2(i),0,[0],i))}function gh(i,e,n,s,o,u,f,m,p){for(var y=0,E=0,w=f,I=0,M=0,H=0,G=1,j=1,ne=1,Q=0,ee="",W=o,$=u,ie=s,R=ee;j;)switch(H=Q,Q=ri()){case 40:if(H!=108&&Gt(R,w-1)==58){mh(R+=Me(km(Q),"&","&\f"),"&\f",wS(y?m[y-1]:0))!=-1&&(ne=-1);break}case 34:case 39:case 91:R+=km(Q);break;case 9:case 10:case 13:case 32:R+=R2(H);break;case 92:R+=C2(ph()-1,7);continue;case 47:switch(na()){case 42:case 47:Wl(O2(I2(ri(),ph()),e,n,p),p);break;default:R+="/"}break;case 123*G:m[y++]=Si(R)*ne;case 125*G:case 59:case 0:switch(Q){case 0:case 125:j=0;case 59+E:ne==-1&&(R=Me(R,/\f/g,"")),M>0&&Si(R)-w&&Wl(M>32?vE(R+";",s,n,w-1,p):vE(Me(R," ","")+";",s,n,w-2,p),p);break;case 59:R+=";";default:if(Wl(ie=_E(R,e,n,y,E,o,m,ee,W=[],$=[],w,u),u),Q===123)if(E===0)gh(R,e,ie,ie,W,u,w,m,$);else switch(I===99&&Gt(R,3)===110?100:I){case 100:case 108:case 109:case 115:gh(i,ie,ie,s&&Wl(_E(i,ie,ie,0,0,o,m,ee,o,W=[],w,$),$),o,$,w,m,s?W:$);break;default:gh(R,ie,ie,ie,[""],$,0,m,$)}}y=E=M=0,G=ne=1,ee=R="",w=f;break;case 58:w=1+Si(R),M=H;default:if(G<1){if(Q==123)--G;else if(Q==125&&G++==0&&S2()==125)continue}switch(R+=Tg(Q),Q*G){case 38:ne=E>0?1:(R+="\f",-1);break;case 44:m[y++]=(Si(R)-1)*ne,ne=1;break;case 64:na()===45&&(R+=km(ri())),I=na(),E=w=Si(ee=R+=N2(ph())),Q++;break;case 45:H===45&&Si(R)==2&&(G=0)}}return u}function _E(i,e,n,s,o,u,f,m,p,y,E,w){for(var I=o-1,M=o===0?u:[""],H=CS(M),G=0,j=0,ne=0;G<s;++G)for(var Q=0,ee=Co(i,I+1,I=wS(j=f[G])),W=i;Q<H;++Q)(W=RS(j>0?M[Q]+" "+ee:Me(ee,/&\f/g,M[Q])))&&(p[ne++]=W);return hf(i,e,n,o===0?uf:m,p,y,E,w)}function O2(i,e,n,s){return hf(i,e,n,SS,Tg(b2()),Co(i,2,-2),0,s)}function vE(i,e,n,s,o){return hf(i,e,n,Eg,Co(i,0,s),Co(i,s+1,-1),s,o)}function NS(i,e,n){switch(E2(i,e)){case 5103:return We+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return We+i+i;case 4789:return ru+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return We+i+ru+i+at+i+i;case 5936:switch(Gt(i,e+11)){case 114:return We+i+at+Me(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return We+i+at+Me(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return We+i+at+Me(i,/[svh]\w+-[tblr]{2}/,"lr")+i}case 6828:case 4268:case 2903:return We+i+at+i+i;case 6165:return We+i+at+"flex-"+i+i;case 5187:return We+i+Me(i,/(\w+).+(:[^]+)/,We+"box-$1$2"+at+"flex-$1$2")+i;case 5443:return We+i+at+"flex-item-"+Me(i,/flex-|-self/g,"")+(ar(i,/flex-|baseline/)?"":at+"grid-row-"+Me(i,/flex-|-self/g,""))+i;case 4675:return We+i+at+"flex-line-pack"+Me(i,/align-content|flex-|-self/g,"")+i;case 5548:return We+i+at+Me(i,"shrink","negative")+i;case 5292:return We+i+at+Me(i,"basis","preferred-size")+i;case 6060:return We+"box-"+Me(i,"-grow","")+We+i+at+Me(i,"grow","positive")+i;case 4554:return We+Me(i,/([^-])(transform)/g,"$1"+We+"$2")+i;case 6187:return Me(Me(Me(i,/(zoom-|grab)/,We+"$1"),/(image-set)/,We+"$1"),i,"")+i;case 5495:case 3959:return Me(i,/(image-set\([^]*)/,We+"$1$`$1");case 4968:return Me(Me(i,/(.+:)(flex-)?(.*)/,We+"box-pack:$3"+at+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+We+i+i;case 4200:if(!ar(i,/flex-|baseline/))return at+"grid-column-align"+Co(i,e)+i;break;case 2592:case 3360:return at+Me(i,"template-","")+i;case 4384:case 3616:return n&&n.some(function(s,o){return e=o,ar(s.props,/grid-\w+-end/)})?~mh(i+(n=n[e].value),"span",0)?i:at+Me(i,"-start","")+i+at+"grid-row-span:"+(~mh(n,"span",0)?ar(n,/\d+/):+ar(n,/\d+/)-+ar(i,/\d+/))+";":at+Me(i,"-start","")+i;case 4896:case 4128:return n&&n.some(function(s){return ar(s.props,/grid-\w+-start/)})?i:at+Me(Me(i,"-end","-span"),"span ","")+i;case 4095:case 3583:case 4068:case 2532:return Me(i,/(.+)-inline(.+)/,We+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Si(i)-1-e>6)switch(Gt(i,e+1)){case 109:if(Gt(i,e+4)!==45)break;case 102:return Me(i,/(.+:)(.+)-([^]+)/,"$1"+We+"$2-$3$1"+ru+(Gt(i,e+3)==108?"$3":"$2-$3"))+i;case 115:return~mh(i,"stretch",0)?NS(Me(i,"stretch","fill-available"),e,n)+i:i}break;case 5152:case 5920:return Me(i,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,o,u,f,m,p,y){return at+o+":"+u+y+(f?at+o+"-span:"+(m?p:+p-+u)+y:"")+i});case 4949:if(Gt(i,e+6)===121)return Me(i,":",":"+We)+i;break;case 6444:switch(Gt(i,Gt(i,14)===45?18:11)){case 120:return Me(i,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+We+(Gt(i,14)===45?"inline-":"")+"box$3$1"+We+"$2$3$1"+at+"$2box$3")+i;case 100:return Me(i,":",":"+at)+i}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Me(i,"scroll-","scroll-snap-")+i}return i}function Hh(i,e){for(var n="",s=0;s<i.length;s++)n+=e(i[s],s,i,e)||"";return n}function k2(i,e,n,s){switch(i.type){case v2:if(i.children.length)break;case _2:case Eg:return i.return=i.return||i.value;case SS:return"";case AS:return i.return=i.value+"{"+Hh(i.children,s)+"}";case uf:if(!Si(i.value=i.props.join(",")))return""}return Si(n=Hh(i.children,s))?i.return=i.value+"{"+n+"}":""}function M2(i){var e=CS(i);return function(n,s,o,u){for(var f="",m=0;m<e;m++)f+=i[m](n,s,o,u)||"";return f}}function P2(i){return function(e){e.root||(e=e.return)&&i(e)}}function V2(i,e,n,s){if(i.length>-1&&!i.return)switch(i.type){case Eg:i.return=NS(i.value,i.length,n);return;case AS:return Hh([rs(i,{value:Me(i.value,"@","@"+We)})],s);case uf:if(i.length)return T2(n=i.props,function(o){switch(ar(o,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ao(rs(i,{props:[Me(o,/:(read-\w+)/,":"+ru+"$1")]})),ao(rs(i,{props:[o]})),lp(i,{props:yE(n,s)});break;case"::placeholder":ao(rs(i,{props:[Me(o,/:(plac\w+)/,":"+We+"input-$1")]})),ao(rs(i,{props:[Me(o,/:(plac\w+)/,":"+ru+"$1")]})),ao(rs(i,{props:[Me(o,/:(plac\w+)/,at+"input-$1")]})),ao(rs(i,{props:[o]})),lp(i,{props:yE(n,s)});break}return""})}}var U2={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Rn={},No=typeof process<"u"&&Rn!==void 0&&(Rn.REACT_APP_SC_ATTR||Rn.SC_ATTR)||"data-styled",DS="active",OS="data-styled-version",df="6.1.15",bg=`/*!sc*/
`,qh=typeof window<"u"&&"HTMLElement"in window,L2=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Rn!==void 0&&Rn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Rn.REACT_APP_SC_DISABLE_SPEEDY!==""?Rn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Rn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Rn!==void 0&&Rn.SC_DISABLE_SPEEDY!==void 0&&Rn.SC_DISABLE_SPEEDY!==""&&Rn.SC_DISABLE_SPEEDY!=="false"&&Rn.SC_DISABLE_SPEEDY),mf=Object.freeze([]),Do=Object.freeze({});function x2(i,e,n){return n===void 0&&(n=Do),i.theme!==n.theme&&i.theme||e||n.theme}var kS=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),z2=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,B2=/(^-|-$)/g;function EE(i){return i.replace(z2,"-").replace(B2,"")}var H2=/(a)(d)/gi,ih=52,TE=function(i){return String.fromCharCode(i+(i>25?39:97))};function hp(i){var e,n="";for(e=Math.abs(i);e>ih;e=e/ih|0)n=TE(e%ih)+n;return(TE(e%ih)+n).replace(H2,"$1-$2")}var Mm,MS=5381,fo=function(i,e){for(var n=e.length;n;)i=33*i^e.charCodeAt(--n);return i},PS=function(i){return fo(MS,i)};function q2(i){return hp(PS(i)>>>0)}function j2(i){return i.displayName||i.name||"Component"}function Pm(i){return typeof i=="string"&&!0}var VS=typeof Symbol=="function"&&Symbol.for,US=VS?Symbol.for("react.memo"):60115,F2=VS?Symbol.for("react.forward_ref"):60112,G2={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},K2={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},LS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Y2=((Mm={})[F2]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Mm[US]=LS,Mm);function bE(i){return("type"in(e=i)&&e.type.$$typeof)===US?LS:"$$typeof"in i?Y2[i.$$typeof]:G2;var e}var $2=Object.defineProperty,Q2=Object.getOwnPropertyNames,SE=Object.getOwnPropertySymbols,X2=Object.getOwnPropertyDescriptor,W2=Object.getPrototypeOf,AE=Object.prototype;function xS(i,e,n){if(typeof e!="string"){if(AE){var s=W2(e);s&&s!==AE&&xS(i,s,n)}var o=Q2(e);SE&&(o=o.concat(SE(e)));for(var u=bE(i),f=bE(e),m=0;m<o.length;++m){var p=o[m];if(!(p in K2||n&&n[p]||f&&p in f||u&&p in u)){var y=X2(e,p);try{$2(i,p,y)}catch{}}}}return i}function Oo(i){return typeof i=="function"}function Sg(i){return typeof i=="object"&&"styledComponentId"in i}function ea(i,e){return i&&e?"".concat(i," ").concat(e):i||e||""}function wE(i,e){if(i.length===0)return"";for(var n=i[0],s=1;s<i.length;s++)n+=i[s];return n}function gu(i){return i!==null&&typeof i=="object"&&i.constructor.name===Object.name&&!("props"in i&&i.$$typeof)}function fp(i,e,n){if(n===void 0&&(n=!1),!n&&!gu(i)&&!Array.isArray(i))return e;if(Array.isArray(e))for(var s=0;s<e.length;s++)i[s]=fp(i[s],e[s]);else if(gu(e))for(var s in e)i[s]=fp(i[s],e[s]);return i}function Ag(i,e){Object.defineProperty(i,"toString",{value:e})}function Cu(i){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(i," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Z2=function(){function i(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return i.prototype.indexOfGroup=function(e){for(var n=0,s=0;s<e;s++)n+=this.groupSizes[s];return n},i.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var s=this.groupSizes,o=s.length,u=o;e>=u;)if((u<<=1)<0)throw Cu(16,"".concat(e));this.groupSizes=new Uint32Array(u),this.groupSizes.set(s),this.length=u;for(var f=o;f<u;f++)this.groupSizes[f]=0}for(var m=this.indexOfGroup(e+1),p=(f=0,n.length);f<p;f++)this.tag.insertRule(m,n[f])&&(this.groupSizes[e]++,m++)},i.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],s=this.indexOfGroup(e),o=s+n;this.groupSizes[e]=0;for(var u=s;u<o;u++)this.tag.deleteRule(s)}},i.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var s=this.groupSizes[e],o=this.indexOfGroup(e),u=o+s,f=o;f<u;f++)n+="".concat(this.tag.getRule(f)).concat(bg);return n},i}(),yh=new Map,jh=new Map,_h=1,rh=function(i){if(yh.has(i))return yh.get(i);for(;jh.has(_h);)_h++;var e=_h++;return yh.set(i,e),jh.set(e,i),e},J2=function(i,e){_h=e+1,yh.set(i,e),jh.set(e,i)},eM="style[".concat(No,"][").concat(OS,'="').concat(df,'"]'),tM=new RegExp("^".concat(No,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),nM=function(i,e,n){for(var s,o=n.split(","),u=0,f=o.length;u<f;u++)(s=o[u])&&i.registerName(e,s)},iM=function(i,e){for(var n,s=((n=e.textContent)!==null&&n!==void 0?n:"").split(bg),o=[],u=0,f=s.length;u<f;u++){var m=s[u].trim();if(m){var p=m.match(tM);if(p){var y=0|parseInt(p[1],10),E=p[2];y!==0&&(J2(E,y),nM(i,E,p[3]),i.getTag().insertRules(y,o)),o.length=0}else o.push(m)}}},RE=function(i){for(var e=document.querySelectorAll(eM),n=0,s=e.length;n<s;n++){var o=e[n];o&&o.getAttribute(No)!==DS&&(iM(i,o),o.parentNode&&o.parentNode.removeChild(o))}};function rM(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var zS=function(i){var e=document.head,n=i||e,s=document.createElement("style"),o=function(m){var p=Array.from(m.querySelectorAll("style[".concat(No,"]")));return p[p.length-1]}(n),u=o!==void 0?o.nextSibling:null;s.setAttribute(No,DS),s.setAttribute(OS,df);var f=rM();return f&&s.setAttribute("nonce",f),n.insertBefore(s,u),s},sM=function(){function i(e){this.element=zS(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var s=document.styleSheets,o=0,u=s.length;o<u;o++){var f=s[o];if(f.ownerNode===n)return f}throw Cu(17)}(this.element),this.length=0}return i.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},i.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},i.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},i}(),aM=function(){function i(e){this.element=zS(e),this.nodes=this.element.childNodes,this.length=0}return i.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var s=document.createTextNode(n);return this.element.insertBefore(s,this.nodes[e]||null),this.length++,!0}return!1},i.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},i.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},i}(),oM=function(){function i(e){this.rules=[],this.length=0}return i.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},i.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},i.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},i}(),CE=qh,lM={isServer:!qh,useCSSOMInjection:!L2},BS=function(){function i(e,n,s){e===void 0&&(e=Do),n===void 0&&(n={});var o=this;this.options=_n(_n({},lM),e),this.gs=n,this.names=new Map(s),this.server=!!e.isServer,!this.server&&qh&&CE&&(CE=!1,RE(this)),Ag(this,function(){return function(u){for(var f=u.getTag(),m=f.length,p="",y=function(w){var I=function(ne){return jh.get(ne)}(w);if(I===void 0)return"continue";var M=u.names.get(I),H=f.getGroup(w);if(M===void 0||!M.size||H.length===0)return"continue";var G="".concat(No,".g").concat(w,'[id="').concat(I,'"]'),j="";M!==void 0&&M.forEach(function(ne){ne.length>0&&(j+="".concat(ne,","))}),p+="".concat(H).concat(G,'{content:"').concat(j,'"}').concat(bg)},E=0;E<m;E++)y(E);return p}(o)})}return i.registerId=function(e){return rh(e)},i.prototype.rehydrate=function(){!this.server&&qh&&RE(this)},i.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new i(_n(_n({},this.options),e),this.gs,n&&this.names||void 0)},i.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},i.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var s=n.useCSSOMInjection,o=n.target;return n.isServer?new oM(o):s?new sM(o):new aM(o)}(this.options),new Z2(e)));var e},i.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},i.prototype.registerName=function(e,n){if(rh(e),this.names.has(e))this.names.get(e).add(n);else{var s=new Set;s.add(n),this.names.set(e,s)}},i.prototype.insertRules=function(e,n,s){this.registerName(e,n),this.getTag().insertRules(rh(e),s)},i.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},i.prototype.clearRules=function(e){this.getTag().clearGroup(rh(e)),this.clearNames(e)},i.prototype.clearTag=function(){this.tag=void 0},i}(),uM=/&/g,cM=/^\s*\/\/.*$/gm;function HS(i,e){return i.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(s){return"".concat(e," ").concat(s)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=HS(n.children,e)),n})}function hM(i){var e,n,s,o=Do,u=o.options,f=u===void 0?Do:u,m=o.plugins,p=m===void 0?mf:m,y=function(I,M,H){return H.startsWith(n)&&H.endsWith(n)&&H.replaceAll(n,"").length>0?".".concat(e):I},E=p.slice();E.push(function(I){I.type===uf&&I.value.includes("&")&&(I.props[0]=I.props[0].replace(uM,n).replace(s,y))}),f.prefix&&E.push(V2),E.push(k2);var w=function(I,M,H,G){M===void 0&&(M=""),H===void 0&&(H=""),G===void 0&&(G="&"),e=G,n=M,s=new RegExp("\\".concat(n,"\\b"),"g");var j=I.replace(cM,""),ne=D2(H||M?"".concat(H," ").concat(M," { ").concat(j," }"):j);f.namespace&&(ne=HS(ne,f.namespace));var Q=[];return Hh(ne,M2(E.concat(P2(function(ee){return Q.push(ee)})))),Q};return w.hash=p.length?p.reduce(function(I,M){return M.name||Cu(15),fo(I,M.name)},MS).toString():"",w}var fM=new BS,dp=hM(),qS=ra.createContext({shouldForwardProp:void 0,styleSheet:fM,stylis:dp});qS.Consumer;ra.createContext(void 0);function IE(){return pe.useContext(qS)}var dM=function(){function i(e,n){var s=this;this.inject=function(o,u){u===void 0&&(u=dp);var f=s.name+u.hash;o.hasNameForId(s.id,f)||o.insertRules(s.id,f,u(s.rules,f,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Ag(this,function(){throw Cu(12,String(s.name))})}return i.prototype.getName=function(e){return e===void 0&&(e=dp),this.name+e.hash},i}(),mM=function(i){return i>="A"&&i<="Z"};function NE(i){for(var e="",n=0;n<i.length;n++){var s=i[n];if(n===1&&s==="-"&&i[0]==="-")return i;mM(s)?e+="-"+s.toLowerCase():e+=s}return e.startsWith("ms-")?"-"+e:e}var jS=function(i){return i==null||i===!1||i===""},FS=function(i){var e,n,s=[];for(var o in i){var u=i[o];i.hasOwnProperty(o)&&!jS(u)&&(Array.isArray(u)&&u.isCss||Oo(u)?s.push("".concat(NE(o),":"),u,";"):gu(u)?s.push.apply(s,bh(bh(["".concat(o," {")],FS(u),!1),["}"],!1)):s.push("".concat(NE(o),": ").concat((e=o,(n=u)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in U2||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return s};function ia(i,e,n,s){if(jS(i))return[];if(Sg(i))return[".".concat(i.styledComponentId)];if(Oo(i)){if(!Oo(u=i)||u.prototype&&u.prototype.isReactComponent||!e)return[i];var o=i(e);return ia(o,e,n,s)}var u;return i instanceof dM?n?(i.inject(n,s),[i.getName(s)]):[i]:gu(i)?FS(i):Array.isArray(i)?Array.prototype.concat.apply(mf,i.map(function(f){return ia(f,e,n,s)})):[i.toString()]}function pM(i){for(var e=0;e<i.length;e+=1){var n=i[e];if(Oo(n)&&!Sg(n))return!1}return!0}var gM=PS(df),yM=function(){function i(e,n,s){this.rules=e,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&pM(e),this.componentId=n,this.baseHash=fo(gM,n),this.baseStyle=s,BS.registerId(n)}return i.prototype.generateAndInjectStyles=function(e,n,s){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=ea(o,this.staticRulesId);else{var u=wE(ia(this.rules,e,n,s)),f=hp(fo(this.baseHash,u)>>>0);if(!n.hasNameForId(this.componentId,f)){var m=s(u,".".concat(f),void 0,this.componentId);n.insertRules(this.componentId,f,m)}o=ea(o,f),this.staticRulesId=f}else{for(var p=fo(this.baseHash,s.hash),y="",E=0;E<this.rules.length;E++){var w=this.rules[E];if(typeof w=="string")y+=w;else if(w){var I=wE(ia(w,e,n,s));p=fo(p,I+E),y+=I}}if(y){var M=hp(p>>>0);n.hasNameForId(this.componentId,M)||n.insertRules(this.componentId,M,s(y,".".concat(M),void 0,this.componentId)),o=ea(o,M)}}return o},i}(),GS=ra.createContext(void 0);GS.Consumer;var Vm={};function _M(i,e,n){var s=Sg(i),o=i,u=!Pm(i),f=e.attrs,m=f===void 0?mf:f,p=e.componentId,y=p===void 0?function(W,$){var ie=typeof W!="string"?"sc":EE(W);Vm[ie]=(Vm[ie]||0)+1;var R="".concat(ie,"-").concat(q2(df+ie+Vm[ie]));return $?"".concat($,"-").concat(R):R}(e.displayName,e.parentComponentId):p,E=e.displayName,w=E===void 0?function(W){return Pm(W)?"styled.".concat(W):"Styled(".concat(j2(W),")")}(i):E,I=e.displayName&&e.componentId?"".concat(EE(e.displayName),"-").concat(e.componentId):e.componentId||y,M=s&&o.attrs?o.attrs.concat(m).filter(Boolean):m,H=e.shouldForwardProp;if(s&&o.shouldForwardProp){var G=o.shouldForwardProp;if(e.shouldForwardProp){var j=e.shouldForwardProp;H=function(W,$){return G(W,$)&&j(W,$)}}else H=G}var ne=new yM(n,I,s?o.componentStyle:void 0);function Q(W,$){return function(ie,R,S){var A=ie.attrs,N=ie.componentStyle,k=ie.defaultProps,U=ie.foldedComponentIds,D=ie.styledComponentId,Je=ie.target,Qe=ra.useContext(GS),le=IE(),ae=ie.shouldForwardProp||le.shouldForwardProp,se=x2(R,Qe,k)||Do,Te=function(ve,be,et){for(var ke,de=_n(_n({},be),{className:void 0,theme:et}),_e=0;_e<ve.length;_e+=1){var Ue=Oo(ke=ve[_e])?ke(de):ke;for(var vt in Ue)de[vt]=vt==="className"?ea(de[vt],Ue[vt]):vt==="style"?_n(_n({},de[vt]),Ue[vt]):Ue[vt]}return be.className&&(de.className=ea(de.className,be.className)),de}(A,R,se),O=Te.as||Je,J={};for(var he in Te)Te[he]===void 0||he[0]==="$"||he==="as"||he==="theme"&&Te.theme===se||(he==="forwardedAs"?J.as=Te.forwardedAs:ae&&!ae(he,O)||(J[he]=Te[he]));var ce=function(ve,be){var et=IE(),ke=ve.generateAndInjectStyles(be,et.styleSheet,et.stylis);return ke}(N,Te),ue=ea(U,D);return ce&&(ue+=" "+ce),Te.className&&(ue+=" "+Te.className),J[Pm(O)&&!kS.has(O)?"class":"className"]=ue,S&&(J.ref=S),pe.createElement(O,J)}(ee,W,$)}Q.displayName=w;var ee=ra.forwardRef(Q);return ee.attrs=M,ee.componentStyle=ne,ee.displayName=w,ee.shouldForwardProp=H,ee.foldedComponentIds=s?ea(o.foldedComponentIds,o.styledComponentId):"",ee.styledComponentId=I,ee.target=s?o.target:i,Object.defineProperty(ee,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(W){this._foldedDefaultProps=s?function($){for(var ie=[],R=1;R<arguments.length;R++)ie[R-1]=arguments[R];for(var S=0,A=ie;S<A.length;S++)fp($,A[S],!0);return $}({},o.defaultProps,W):W}}),Ag(ee,function(){return".".concat(ee.styledComponentId)}),u&&xS(ee,i,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),ee}function DE(i,e){for(var n=[i[0]],s=0,o=e.length;s<o;s+=1)n.push(e[s],i[s+1]);return n}var OE=function(i){return Object.assign(i,{isCss:!0})};function vM(i){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Oo(i)||gu(i))return OE(ia(DE(mf,bh([i],e,!0))));var s=i;return e.length===0&&s.length===1&&typeof s[0]=="string"?ia(s):OE(ia(DE(s,e)))}function mp(i,e,n){if(n===void 0&&(n=Do),!e)throw Cu(1,e);var s=function(o){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];return i(e,n,vM.apply(void 0,bh([o],u,!1)))};return s.attrs=function(o){return mp(i,e,_n(_n({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},s.withConfig=function(o){return mp(i,e,_n(_n({},n),o))},s}var KS=function(i){return mp(_M,i)},YS=KS;kS.forEach(function(i){YS[i]=KS(i)});const oo=({checked:i,onChange:e})=>z(EM,{children:z("div",{className:"cl-toggle-switch",children:fe("label",{className:"cl-switch",children:[z("input",{type:"checkbox",checked:i,onChange:e}),z("span",{})]})})}),EM=YS.div`
  .cl-toggle-switch {
    position: relative;
  }
  .cl-switch {
    position: relative;
    display: inline-block;
  }
  /* Input */
  .cl-switch > input {
    appearance: none;
    -moz-appearance: none;
    -webkit-appearance: none;
    z-index: -1;
    position: absolute;
    right: 6px;
    top: -8px;
    display: block;
    margin: 0;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    background-color: rgba(0, 0, 0, 0.38);
    outline: none;
    opacity: 0;
    transform: scale(1);
    pointer-events: none;
    transition: opacity 0.3s 0.1s, transform 0.2s 0.1s;
  }
  /* Track */
  .cl-switch > span::before {
    content: "";
    float: right;
    display: inline-block;
    margin: 5px 0 5px 10px;
    border-radius: 7px;
    width: 36px;
    height: 14px;
    background-color: rgba(0, 0, 0, 0.38);
    vertical-align: top;
    transition: background-color 0.2s, opacity 0.2s;
  }
  /* Thumb */
  .cl-switch > span::after {
    content: "";
    position: absolute;
    top: 2px;
    right: 16px;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    background-color: #fff;
    box-shadow: 0 3px 1px -2px rgba(0,0,0,0.2),
                0 2px 2px 0 rgba(0,0,0,0.14),
                0 1px 5px 0 rgba(0,0,0,0.12);
    transition: background-color 0.2s, transform 0.2s;
  }
  /* Checked */
  .cl-switch > input:checked {
    right: -10px;
    background-color: #85b8b7;
  }
  .cl-switch > input:checked + span::before {
    background-color: #85b8b7;
  }
  .cl-switch > input:checked + span::after {
    background-color: #018786;
    transform: translateX(16px);
  }
  /* Hover, Focus */
  .cl-switch:hover > input {
    opacity: 0.04;
  }
  .cl-switch > input:focus {
    opacity: 0.12;
  }
  .cl-switch:hover > input:focus {
    opacity: 0.16;
  }
  /* Active */
  .cl-switch > input:active {
    opacity: 1;
    transform: scale(0);
    transition: transform 0s, opacity 0s;
  }
  .cl-switch > input:active + span::before {
    background-color: #8f8f8f;
  }
  .cl-switch > input:checked:active + span::before {
    background-color: #85b8b7;
  }
  /* Disabled */
  .cl-switch > input:disabled {
    opacity: 0;
  }
  .cl-switch > input:disabled + span::before {
    background-color: #ddd;
  }
  .cl-switch > input:checked:disabled + span::before {
    background-color: #bfdbda;
  }
  .cl-switch > input:checked:disabled + span::after {
    background-color: #61b5b4;
  }
`;function Ai(i){switch(i){case"auth/wrong-password":return"Incorrect password. Please try again or reset it.";case"auth/user-not-found":return"No account found with that email. Please sign up first.";case"auth/email-already-in-use":return"That email is already registered. You have been logged in.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/user-disabled":return"Your account is currently disabled. Please contact support.";case"auth/too-many-requests":return"Too many attempts. Please wait a moment and try again.";case"auth/network-request-failed":return"Network error. Please check your connection.";default:return"An unexpected error occurred. Please try again or use another method."}}function _o(i){switch(i){case"login":return"Welcome back! You have successfully logged in.";case"signup":return"Your account was created! A verification email was sent to you.";case"verify-email":return"We’ve sent a verification email. Please check your inbox.";case"password-reset":return"We’ve sent a password reset link to your email.";case"profile-updated":return"Profile updated successfully!";case"change-password":return"A password reset email has been sent. Please check your inbox.";default:return"Success!"}}function TM({onClose:i}){const[e,n]=pe.useState(""),[s,o]=pe.useState(""),[u,f]=pe.useState("");return z("div",{className:"ls-modal-overlay",onClick:()=>{i()},children:z("div",{className:"ls-modal-content",onClick:E=>{E.stopPropagation()},children:fe("form",{className:"ls-form",onSubmit:async E=>{E.preventDefault(),o(""),f("");try{if((await aC(ti,e)).length===0){f("No account exists with that email.");return}await gT(ti,e),o(_o("password-reset"))}catch(w){f(Ai(w.code))}},children:[z("h2",{children:"Forgot Password"}),u&&z("p",{className:"ls-error",children:u}),s&&z("p",{className:"ls-success",children:s}),fe("div",{children:[z("label",{className:"ls-label",children:"Email"}),z("input",{className:"ls-input",type:"email",placeholder:"Enter your Email",value:e,onChange:E=>n(E.target.value),required:!0})]}),z("button",{type:"submit",className:"ls-button",children:"Reset Password"}),z("p",{className:"ls-link",children:z("span",{className:"ls-link",onClick:i,children:"Close"})})]})})})}function bM({onClose:i}){return z("div",{className:"ls-modal-overlay",onClick:i,children:fe("div",{className:"ls-modal-content",onClick:e=>e.stopPropagation(),children:[z("p",{children:"Please follow the steps we send via email to activate your account."}),z("button",{className:"primary-button",onClick:i,children:"OK"})]})})}function SM({onClose:i}){const[e,n]=pe.useState(!0),[s,o]=pe.useState(""),[u,f]=pe.useState(""),[m,p]=pe.useState(""),[y,E]=pe.useState(""),[w,I]=pe.useState(!1),[M,H]=pe.useState(!1),G=()=>i(),j=W=>W.stopPropagation(),ne=()=>{n(!e),p(""),E("")},Q=async W=>{p(""),E("");let $;try{W==="google"?$=new lr:W==="facebook"?$=new or:W==="twitter"&&($=new ur),await kC(ti,$),E(_o("login")),setTimeout(()=>i(),1e3)}catch(ie){p(Ai(ie.code))}},ee=async W=>{W.preventDefault(),p(""),E("");try{if(e){if(!(await t0(ti,s,u)).user.emailVerified){p("Please verify your email address before logging in."),await yT(ti);return}E(_o("login")),setTimeout(()=>i(),1e3)}else{const $=await e0(ti,s,u);await n0($.user),E(_o("signup")),H(!0)}}catch($){const ie=$.code;if(e&&ie==="auth/user-not-found")try{const R=await e0(ti,s,u);await n0(R.user),E("No account was found, so we created one for you."),H(!0)}catch(R){p(Ai(R.code))}else if(!e&&ie==="auth/email-already-in-use")try{await t0(ti,s,u),E("That email is already registered. You have been logged in."),setTimeout(()=>i(),1500)}catch(R){p(Ai(R.code))}else p(Ai(ie))}};return w?z(TM,{onClose:()=>I(!1)}):fe(yS,{children:[z("div",{className:"ls-modal-overlay",onClick:G,children:fe("div",{className:"ls-modal-content",onClick:j,children:[z("div",{className:"container",children:z("form",{onSubmit:ee,children:fe("div",{className:"row",children:[z("h2",{style:{textAlign:"center"},children:e?"Login to access all Pro★ Features":"Create a free account to access all Pro★ Features"}),z("div",{className:"vl",children:z("span",{className:"vl-innertext",children:"or"})}),z("div",{className:"col",children:fe("div",{className:"social-buttons",children:[fe("a",{href:"#",className:"fb btn",onClick:()=>Q("facebook"),children:[z("i",{className:"fa fa-facebook fa-fw"})," Login with Facebook"]}),fe("a",{href:"#",className:"twitter btn",onClick:()=>Q("twitter"),children:[z("i",{className:"fa fa-times fa-fw"})," Login with X"]}),fe("a",{href:"#",className:"google btn",onClick:()=>Q("google"),children:[z("i",{className:"fa fa-google fa-fw"})," Login with Google+"]})]})}),fe("div",{className:"col",children:[z("div",{className:"hide-md-lg",children:z("p",{children:"Or sign in manually:"})}),z("input",{type:"email",name:"email",placeholder:"Email",required:!0,value:s,onChange:W=>o(W.target.value)}),z("input",{type:"password",name:"password",placeholder:"Password",required:!0,value:u,onChange:W=>f(W.target.value)}),z("input",{type:"submit",value:e?"Login":"Create free account"})]})]})})}),m&&z("p",{className:"ls-error",children:m}),y&&z("p",{className:"ls-success",children:y}),z("div",{className:"bottom-container",children:fe("div",{className:"row",children:[z("div",{className:"col",children:z("a",{href:"#",style:{color:"white"},className:"btn",onClick:ne,children:e?"Sign up":"Login"})}),z("div",{className:"col",children:z("a",{href:"#",style:{color:"white"},className:"btn",onClick:()=>I(!0),children:"Forgot password?"})})]})})]})}),M&&z(bM,{onClose:()=>{H(!1),i()}})]})}function AM({message:i,onConfirm:e,onCancel:n}){return z("div",{className:"ls-modal-overlay",onClick:n,children:fe("div",{className:"ls-modal-content",onClick:s=>s.stopPropagation(),children:[z("h2",{style:{textAlign:"center"},children:"Please Confirm"}),z("p",{style:{textAlign:"center"},children:i}),fe("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"20px"},children:[z("button",{className:"primary-button",onClick:e,children:"Confirm"}),z("button",{className:"secondary-button",onClick:n,children:"Cancel"})]})]})})}function wM({onClose:i,user:e,resetSettings:n}){const[s,o]=pe.useState(e.displayName||""),[u,f]=pe.useState(e.photoURL||""),[m,p]=pe.useState(""),[y,E]=pe.useState(""),[w,I]=pe.useState(!1),[M,H]=pe.useState(!1),G=pe.useRef(null),j=()=>i(),ne=S=>S.stopPropagation();pe.useEffect(()=>{o(e.displayName||""),f(e.photoURL||"")},[e]);const Q=async()=>{p(""),E("");try{await lC(e,{displayName:s,photoURL:u}),await sp(rp(op,"users",e.uid),{displayName:s,photoURL:u,updatedAt:new Date},{merge:!0}),p(_o("profile-updated")),setTimeout(()=>i(),1e3)}catch(S){E(Ai(S.code)||S.message)}},ee=async()=>{if(window.confirm("Are you sure you want to delete your account? This action cannot be undone."))try{await fC(e),i()}catch(S){E(Ai(S.code)||S.message)}},W=async S=>{E(""),p("");const A=S.target.files[0];if(A)try{const N=hE(fE,`profilePictures/${e.uid}`);await e2(N,A);const k=await t2(N);f(k),p("Photo uploaded. Click Save to apply.")}catch(N){E(Ai(N.code)||N.message)}},$=async()=>{E(""),p("");try{const S=hE(fE,`profilePictures/${e.uid}`);await n2(S),f(""),p("Photo deleted. Click Save to apply.")}catch(S){S.code==="storage/object-not-found"?(f(""),p("Image deleted. Click Save to apply.")):E(Ai(S.code)||S.message)}},ie=()=>{H(!0)},R=async()=>{H(!1);try{await gT(ti,e.email),p(_o("change-password"))}catch(S){E(Ai(S.code))}};return fe("div",{className:"ls-modal-overlay",onClick:j,children:[z("div",{className:"account-modal-content account-modal",onClick:ne,children:fe("form",{className:"ls-form",children:[z("h2",{children:"Account Information"}),fe("div",{className:"ls-gap",children:[z("div",{style:{marginBottom:"10px"},children:u?z("img",{src:u,alt:"Profile",style:{width:"80px",height:"80px",borderRadius:"50%",objectFit:"cover"}}):z("span",{className:"material-symbols-outlined",style:{fontSize:"60px"},children:"account_circle"})}),z("span",{className:"ls-link",onClick:()=>G.current.click(),children:u?"Replace":"Add image"}),z("input",{ref:G,type:"file",accept:"image/*",onChange:W,style:{display:"none"}}),u&&fe(yS,{children:[" | ",z("span",{className:"ls-link",onClick:$,children:"Delete"})]})]}),fe("div",{className:"ls-gap",children:[z("label",{className:"ls-label",children:"Email:"}),z("span",{children:e.email})]}),fe("div",{className:"ls-gap",children:[z("label",{className:"ls-label",children:"Name:"}),z("input",{className:"ls-input",type:"text",value:s,onChange:S=>o(S.target.value)})]}),z("div",{className:"ls-gap",children:z("span",{className:"ls-link",onClick:ie,children:"Change Password"})}),fe("div",{className:"ls-gap",children:[z("button",{type:"button",className:"secondary-button",onClick:i,children:"Cancel"}),z("button",{type:"button",className:"primary-button",onClick:Q,style:{marginLeft:"10px"},children:"Save"})]}),y&&z("p",{className:"ls-error",children:y}),m&&z("p",{className:"ls-success",children:m}),fe("div",{className:"ls-gap",children:[z("span",{className:"ls-link",onClick:()=>I(!w),children:w?"Hide":"More Account Settings"}),w&&z("div",{className:"ls-gap",children:z("button",{type:"button",className:"secondary-button",style:{borderColor:"red",color:"red",width:"250px"},onClick:ee,children:"Delete Account"})})]})]})}),M&&z(AM,{message:`Send a password reset email to ${e.email}?`,onConfirm:R,onCancel:()=>H(!1)})]})}function RM({open:i,onClose:e,clockSize:n,killzones:s,onSizeChange:o,onKillzonesChange:u,backgroundColor:f,updateBackgroundColor:m,backgroundBasedOnKillzone:p,toggleBackgroundBasedOnKillzone:y,showHandClock:E,showDigitalClock:w,showKillzoneLabel:I,toggleShowHandClock:M,toggleShowDigitalClock:H,toggleShowKillzoneLabel:G,showTimeToEnd:j,showTimeToStart:ne,toggleShowTimeToEnd:Q,toggleShowTimeToStart:ee}){const{user:W}=_g(),{resetSettings:$}=vS(),[ie,R]=pe.useState(null),[S,A]=pe.useState(null),[N,k]=pe.useState(""),[U,D]=pe.useState(null),[Je,Qe]=pe.useState(!1),[le,ae]=pe.useState(!1),[se,Te]=pe.useState(!1),[O,J]=pe.useState(!1),he=pe.useRef();pe.useEffect(()=>{ie!=="settings"&&A(null)},[ie]),pe.useEffect(()=>{const de=_e=>{_e.key==="Escape"&&e()};return window.addEventListener("keydown",de),()=>window.removeEventListener("keydown",de)},[e]),pe.useEffect(()=>{const de=_e=>{he.current&&!he.current.contains(_e.target)&&J(!1)};return document.addEventListener("mousedown",de),()=>document.removeEventListener("mousedown",de)},[he]);const ce=de=>{let Ue=de.clientX+10;window.innerWidth-de.clientX<270&&(Ue=de.clientX-250-10),Ue<0?Ue=10:Ue+250>window.innerWidth&&(Ue=window.innerWidth-250-10),D({text:de.target.dataset.tooltip,x:Ue,y:de.clientY})},ue=(de,_e,Ue)=>{if(!W){Te(!0);return}const vt=[...s];vt[de][_e]=Ue,u(vt)},ve=de=>{de()?k(""):(k("At least one of the main clock elements must be enabled."),setTimeout(()=>k(""),4e3))},be=()=>{if(!W){Te(!0);return}Q()},et=()=>{if(!W){Te(!0);return}ee()},ke=async()=>{try{await yT(ti),$(),e()}catch(de){console.error(de)}};return fe("div",{className:`sidebar ${i?"open":""}`,onClick:e,children:[fe("div",{className:"sidebar-content",onClick:de=>de.stopPropagation(),children:[U&&z("div",{className:"sidebar-tooltip",style:{left:U.x,top:U.y-60},dangerouslySetInnerHTML:{__html:U.text}}),z("span",{className:"sidebar-close close",onClick:e,children:"×"}),z("div",{className:"sidebar-user-section",ref:he,children:W?fe("div",{className:"user-menu-container",children:[fe("div",{className:"user-menu-toggle",onClick:()=>J(!O),children:[W.photoURL?z("img",{src:W.photoURL,alt:"Profile",className:"user-menu-avatar"}):z("span",{className:"material-symbols-outlined user-menu-avatar",children:"account_circle"}),z("span",{className:"user-menu-name",children:W.displayName||W.email}),z("span",{className:"material-symbols-outlined user-menu-arrow",children:"arrow_drop_down"})]}),O&&fe("div",{className:"user-menu-dropdown",children:[z("div",{className:"user-menu-item",onClick:()=>{ae(!0),J(!1)},children:"My Account"}),z("div",{className:"user-menu-item",onClick:ke,children:"Log out"})]})]}):z("button",{className:"lsu-button",onClick:()=>Qe(!0),children:"Login / Sign Up"})}),z("p",{className:"free-account",children:"Create a free account to unlock Pro★ Features."}),fe("div",{className:"sidebar-section parent-section",children:[fe("div",{className:"sidebar-section-header parent-section-header",onClick:()=>R(de=>de==="about"?null:"about"),children:[z("span",{className:"sidebar-section-title",children:"About"}),z("span",{className:"sidebar-section-arrow",children:ie==="about"?"−":"+"})]}),z("div",{className:`sidebar-section-content ${ie==="about"?"open":""}`,children:z("div",{className:"sidebar-control about-text",children:z("h1",{children:"Time 2 Trade"})})})]}),fe("div",{className:"sidebar-section parent-section",children:[fe("div",{className:"sidebar-section-header parent-section-header",onClick:()=>R(de=>de==="settings"?null:"settings"),children:[z("span",{className:"sidebar-section-title",children:"Settings"}),z("span",{className:"sidebar-section-arrow",children:ie==="settings"?"−":"+"})]}),fe("div",{className:`sidebar-section-content ${ie==="settings"?"open":""}`,children:[fe("div",{className:"sidebar-subsection",children:[fe("div",{className:"sidebar-sub-section-header",onClick:()=>A(de=>de==="general"?null:"general"),children:[z("span",{className:"sidebar-section-title",children:"General Settings"}),z("span",{className:"sidebar-section-arrow",children:S==="general"?"−":"+"})]}),fe("div",{className:`sidebar-section-content ${S==="general"?"open":""}`,children:[fe("div",{className:"sidebar-control toggle-container",children:[z("span",{className:"toggle-label sidebar-label",onClick:()=>ve(M),children:"Show Hand Clock"}),z(oo,{checked:E,onChange:()=>ve(M)})]}),fe("div",{className:"sidebar-control toggle-container",children:[z("span",{className:"toggle-label sidebar-label",onClick:()=>ve(H),children:"Show Digital Clock"}),z(oo,{checked:w,onChange:()=>ve(H)})]}),fe("div",{className:"sidebar-control toggle-container",children:[z("span",{className:"toggle-label sidebar-label",onClick:()=>ve(G),children:"Show Active Killzone Label"}),z(oo,{checked:I,onChange:()=>ve(G)})]}),N&&z("div",{style:{fontSize:"0.7rem",color:"#E69999",marginTop:"0px",marginBottom:"20px"},children:N}),fe("div",{className:"sidebar-control clock-size-container",children:[fe("div",{className:"label-help-container",children:[z("label",{htmlFor:"clock-size",className:"sidebar-label",children:"Clock Style:"}),z("span",{className:"help-icon material-symbols-outlined","data-tooltip":"Select a clock style:<br /><br />- Aesthetic*: Optimized for visual appeal.<br />- Tiny: Compact display.<br />- Small: Intermediate size.<br />- Normal: Standard display.<br />- Big (Tablet): Enhanced view for tablets.",onMouseEnter:ce,onMouseLeave:()=>D(null),children:"help"})]}),fe("select",{id:"clock-size",className:"sidebar-select",value:n,onChange:de=>o(parseInt(de.target.value)),children:[z("option",{value:"300",children:"Aesthetic*"}),z("option",{value:"150",children:"Tiny"}),z("option",{value:"250",children:"Small"}),z("option",{value:"375",children:"Normal"}),z("option",{value:"500",children:"Big (Tablet)"})]})]}),fe("div",{className:"sidebar-control background-color-container",children:[fe("div",{className:"label-help-container",children:[z("label",{htmlFor:"bg-color",className:"sidebar-label",children:"Background Color:"}),z("span",{className:"help-icon material-symbols-outlined","data-tooltip":"Pick a background color. This setting works independently unless overridden by active Killzone.",onMouseEnter:ce,onMouseLeave:()=>D(null),children:"help"})]}),z("input",{id:"bg-color",type:"color",className:"sidebar-color-picker",value:f,onChange:de=>m(de.target.value)})]}),fe("div",{className:"sidebar-control background-based-container toggle-container",children:[z("span",{className:"toggle-label sidebar-label",onClick:()=>ve(y),children:"Background color based on active Killzone"}),z(oo,{checked:p,onChange:()=>y()})]})]})]}),fe("div",{className:"sidebar-subsection",children:[fe("div",{className:"sidebar-sub-section-header",onClick:()=>A(de=>de==="killzone"?null:"killzone"),children:[z("span",{className:"sidebar-section-title",children:"Killzone Settings ★"}),z("span",{className:"sidebar-section-arrow",children:S==="killzone"?"−":"+"})]}),fe("div",{className:`sidebar-section-content ${S==="killzone"?"open":""}`,children:[fe("div",{className:"killzone-help",style:{marginBottom:"10px"},children:[z("span",{style:{fontSize:"0.9rem"},children:"What is a Killzone?"}),z("span",{className:"help-icon material-symbols-outlined","data-tooltip":"A Killzone is a high-volatility trading period aligned with key market sessions.",onMouseEnter:ce,onMouseLeave:()=>D(null),children:"help"})]}),z("div",{className:"killzone-inputs",children:s.map((de,_e)=>fe("div",{className:"killzone-item",children:[fe("label",{htmlFor:`kz-name-${_e}`,className:"sidebar-label",children:["Killzone ",_e+1," Name:"]}),z("input",{id:`kz-name-${_e}`,type:"text",className:"sidebar-input killzone-name",value:de.name,onChange:Ue=>ue(_e,"name",Ue.target.value),placeholder:`Killzone ${_e+1} Name`}),fe("div",{className:"killzone-time-row",children:[fe("div",{className:"killzone-field",children:[z("label",{htmlFor:`kz-start-${_e}`,className:"sidebar-label",children:"Start Time:"}),z("input",{id:`kz-start-${_e}`,type:"time",className:"sidebar-input killzone-start",value:de.startNY,onChange:Ue=>ue(_e,"startNY",Ue.target.value)})]}),fe("div",{className:"killzone-field",children:[z("label",{htmlFor:`kz-end-${_e}`,className:"sidebar-label",children:"End Time:"}),z("input",{id:`kz-end-${_e}`,type:"time",className:"sidebar-input killzone-end",value:de.endNY,onChange:Ue=>ue(_e,"endNY",Ue.target.value)})]}),fe("div",{className:"killzone-field",children:[z("label",{htmlFor:`kz-color-${_e}`,className:"sidebar-label",children:"Color:"}),z("input",{id:`kz-color-${_e}`,type:"color",className:"sidebar-input killzone-color",value:de.color,onChange:Ue=>ue(_e,"color",Ue.target.value)})]})]}),z("hr",{className:"killzone-divider"})]},_e))}),fe("div",{className:"sidebar-control killzone-toggles",children:[fe("div",{className:"toggle-container",children:[z("span",{className:"toggle-label sidebar-label",onClick:be,children:"Show Time to End"}),z(oo,{checked:j,onChange:be})]}),z("hr",{className:"settings-divider"}),fe("div",{className:"toggle-container",children:[z("span",{className:"toggle-label sidebar-label",onClick:et,children:"Show Time to Start"}),z(oo,{checked:ne,onChange:et})]})]})]})]}),fe("div",{className:"sidebar-subsection",children:[fe("div",{className:"sidebar-sub-section-header",onClick:()=>A(de=>de==="economic"?null:"economic"),children:[z("span",{className:"sidebar-section-title",children:"Economic Events ★"}),z("span",{className:"sidebar-section-arrow",children:S==="economic"?"−":"+"})]}),z("div",{className:`sidebar-section-content ${S==="economic"?"open":""}`,children:fe("div",{className:"sidebar-control",children:[z("h3",{children:z("strong",{children:"Coming soon!"})}),z("p",{children:"Displays today's high impact Economic Events in the main clock."})]})})]})]})]}),fe("p",{className:"sidebar-footer",children:["Developed by: ",z("strong",{children:z("a",{className:"sidebar-link",href:"https://x.com/lofi_trades",target:"_blank",rel:"noopener noreferrer",title:"Lofi Trades X Link",children:"@lofi_trades"})})]})]}),Je&&z(SM,{onClose:()=>Qe(!1)}),le&&z(wM,{onClose:()=>ae(!1),user:W,resetSettings:$}),se&&z(bS,{onClose:()=>Te(!1),onSignUp:()=>{Te(!1),Qe(!0)}})]})}function CM(){const{clockSize:i,killzones:e,selectedTimezone:n,updateClockSize:s,updateKillzones:o,setSelectedTimezone:u,backgroundColor:f,updateBackgroundColor:m,backgroundBasedOnKillzone:p,toggleBackgroundBasedOnKillzone:y,showHandClock:E,showDigitalClock:w,showKillzoneLabel:I,toggleShowHandClock:M,toggleShowDigitalClock:H,toggleShowKillzoneLabel:G,showTimeToEnd:j,showTimeToStart:ne,toggleShowTimeToEnd:Q,toggleShowTimeToStart:ee}=vS(),{currentTime:W,activeKillzone:$,timeToEnd:ie,nextKillzone:R,timeToStart:S}=h2(n,e),A=p&&$?$.color:f,N=vg(A)?"#fff":"#4B4B4B";pe.useEffect(()=>{document.body.style.backgroundColor=A},[A]);const[k,U]=pe.useState(!1),D=pe.useMemo(()=>z(y2,{selectedTimezone:n,setSelectedTimezone:u,textColor:N}),[n,N]);return fe("div",{className:"app-container",style:{maxWidth:i+200,minHeight:"100vh"},children:[z("button",{className:"settings-button material-symbols-outlined",onClick:()=>U(!0),children:"menu"}),fe("div",{className:"clock-elements-container",children:[E&&z("div",{className:"hand-clock",children:z(m2,{size:i,time:W,killzones:e,handColor:N})}),w&&z(p2,{time:W,clockSize:i,textColor:N}),I&&z(g2,{activeKillzone:$,showTimeToEnd:j,timeToEnd:ie,showTimeToStart:ne,nextKillzone:R,timeToStart:S,clockSize:i}),z("div",{id:"TimezoneSelector",className:"timezone-selector",children:D})]}),z(RM,{open:k,onClose:()=>U(!1),clockSize:i,killzones:e,onSizeChange:s,onKillzonesChange:o,backgroundColor:f,updateBackgroundColor:m,backgroundBasedOnKillzone:p,toggleBackgroundBasedOnKillzone:y,showHandClock:E,showDigitalClock:w,showKillzoneLabel:I,toggleShowHandClock:M,toggleShowDigitalClock:H,toggleShowKillzoneLabel:G,showTimeToEnd:j,showTimeToStart:ne,toggleShowTimeToEnd:Q,toggleShowTimeToStart:ee})]})}const IM=document.getElementById("root"),NM=Rw.createRoot(IM);NM.render(z(ra.StrictMode,{children:z(c2,{children:z(CM,{})})}));
